var mN=Object.defineProperty,yN=Object.defineProperties;var vN=Object.getOwnPropertyDescriptors;var Qc=Object.getOwnPropertySymbols;var zI=Object.prototype.hasOwnProperty,GI=Object.prototype.propertyIsEnumerable;var qI=(n,e,t)=>e in n?mN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,A=(n,e)=>{for(var t in e||={})zI.call(e,t)&&qI(n,t,e[t]);if(Qc)for(var t of Qc(e))GI.call(e,t)&&qI(n,t,e[t]);return n},B=(n,e)=>yN(n,vN(e));var Yc=(n,e)=>{var t={};for(var r in n)zI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Qc)for(var r of Qc(n))e.indexOf(r)<0&&GI.call(n,r)&&(t[r]=n[r]);return t};var lf;function Jc(){return lf}function Zt(n){let e=lf;return lf=n,e}var WI=Symbol("NotFound");function Si(n){return n===WI||n?.name==="\u0275NotFound"}function nu(n,e){return Object.is(n,e)}var tt=null,Zc=!1,df=1,_N=null,nt=Symbol("SIGNAL");function W(n){let e=tt;return tt=n,e}function ru(){return tt}var xr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Di(n){if(Zc)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(n);let e=tt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=tt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:tt.producers,t!==void 0&&t.producer===n)){tt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===tt&&(!r||EN(i,tt)))return;let o=Ri(tt),s={producer:n,consumer:tt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};tt.producersTail=s,e!==void 0?e.nextProducer=s:tt.producers=s,o&&QI(n,s)}function KI(){df++}function iu(n){if(!(Ri(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===df)){if(!n.producerMustRecompute(n)&&!Ts(n)){tu(n);return}n.producerRecomputeValue(n),tu(n)}}function hf(n){if(n.consumers===void 0)return;let e=Zc;Zc=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||IN(r)}}finally{Zc=e}}function ff(){return tt?.consumerAllowSignalWrites!==!1}function IN(n){n.dirty=!0,hf(n),n.consumerMarkedDirty?.(n)}function tu(n){n.dirty=!1,n.lastCleanEpoch=df}function Or(n){return n&&(n.producersTail=void 0,n.recomputing=!0),W(n)}function Ai(n,e){if(W(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(Ri(n))do r=pf(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Ts(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(iu(t),r!==t.version))return!0}return!1}function ou(n){if(Ri(n)){let e=n.producers;for(;e!==void 0;)e=pf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function QI(n,e){let t=n.consumersTail,r=Ri(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)QI(i.producer,i)}function pf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ri(e)){let o=e.producers;for(;o!==void 0;)o=pf(o)}return t}function Ri(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function su(n){_N?.(n)}function EN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function au(n,e){let t=Object.create(wN);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(iu(t),Di(t),t.value===ws)throw t.error;return t.value};return r[nt]=t,su(t),r}var Xc=Symbol("UNSET"),eu=Symbol("COMPUTING"),ws=Symbol("ERRORED"),wN=B(A({},xr),{value:Xc,dirty:!0,error:null,equal:nu,kind:"computed",producerMustRecompute(n){return n.value===Xc||n.value===eu},producerRecomputeValue(n){if(n.value===eu)throw new Error("");let e=n.value;n.value=eu;let t=Or(n),r,i=!1;try{r=n.computation(),W(null),i=e!==Xc&&e!==ws&&r!==ws&&n.equal(e,r)}catch(o){r=ws,n.error=o}finally{Ai(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function TN(){throw new Error}var YI=TN;function JI(n){YI(n)}function gf(n){YI=n}var bN=null;function mf(n,e){let t=Object.create(cu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>ZI(t);return r[nt]=t,su(t),[r,s=>Ni(t,s),s=>yf(t,s)]}function ZI(n){return Di(n),n.value}function Ni(n,e){ff()||JI(n),n.equal(n.value,e)||(n.value=e,CN(n))}function yf(n,e){ff()||JI(n),Ni(n,e(n.value))}var cu=B(A({},xr),{equal:nu,value:void 0,kind:"signal"});function CN(n){n.version++,KI(),hf(n),bN?.(n)}function K(n){return typeof n=="function"}function Mi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var uu=Mi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function bs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Se=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{XI(o)}catch(s){e=e??[],s instanceof uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)XI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bs(t,e)}remove(e){let{_finalizers:t}=this;t&&bs(t,e),e instanceof n&&e._removeParent(this)}};Se.EMPTY=(()=>{let n=new Se;return n.closed=!0,n})();var vf=Se.EMPTY;function lu(n){return n instanceof Se||n&&"closed"in n&&K(n.remove)&&K(n.add)&&K(n.unsubscribe)}function XI(n){K(n)?n():n.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pi={setTimeout(n,e,...t){let{delegate:r}=Pi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Pi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function du(n){Pi.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(n);else throw n})}function Cs(){}var eE=_f("C",void 0,void 0);function tE(n){return _f("E",void 0,n)}function nE(n){return _f("N",n,void 0)}function _f(n,e,t){return{kind:n,value:e,error:t}}var kr=null;function xi(n){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=kr;if(kr=null,t)throw r}}else n()}function rE(n){Ut.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=n)}var Lr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lu(e)&&e.add(this)):this.destination=AN}static create(e,t,r){return new Oi(e,t,r)}next(e){this.isStopped?Ef(nE(e),this):this._next(e)}error(e){this.isStopped?Ef(tE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ef(eE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SN=Function.prototype.bind;function If(n,e){return SN.call(n,e)}var wf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hu(r)}else hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hu(t)}}},Oi=class extends Lr{constructor(e,t,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ut.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&If(e.next,o),error:e.error&&If(e.error,o),complete:e.complete&&If(e.complete,o)}):i=e}this.destination=new wf(i)}};function hu(n){Ut.useDeprecatedSynchronousErrorHandling?rE(n):du(n)}function DN(n){throw n}function Ef(n,e){let{onStoppedNotification:t}=Ut;t&&Pi.setTimeout(()=>t(n,e))}var AN={closed:!0,next:Cs,error:DN,complete:Cs};var ki=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(n){return n}function Tf(...n){return bf(n)}function bf(n){return n.length===0?pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=NN(t)?t:new Oi(t,r,i);return xi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=iE(r),new r((i,o)=>{let s=new Oi({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ki](){return this}pipe(...t){return bf(t)(this)}toPromise(t){return t=iE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function iE(n){var e;return(e=n??Ut.Promise)!==null&&e!==void 0?e:Promise}function RN(n){return n&&K(n.next)&&K(n.error)&&K(n.complete)}function NN(n){return n&&n instanceof Lr||RN(n)&&lu(n)}function Cf(n){return K(n?.lift)}function se(n){return e=>{if(Cf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,r,i){return new Sf(n,e,t,r,i)}var Sf=class extends Lr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Li(){return se((n,e)=>{let t=null;n._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Vi=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Cf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return Li()(this)}};var oE=Mi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oE}next(t){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?vf:(this.currentObservers=null,o.push(t),new Se(()=>{this.currentObservers=null,bs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new fu(e,t),n})(),fu=class extends Pe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:vf}};var Ge=class extends Pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var lt=new ie(n=>n.complete());function sE(n){return n&&K(n.schedule)}function aE(n){return n[n.length-1]}function pu(n){return K(aE(n))?n.pop():void 0}function Xn(n){return sE(aE(n))?n.pop():void 0}function uE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function cE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vr(n){return this instanceof Vr?(this.v=n,this):new Vr(n)}function lE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function c(y,S){r[y]&&(i[y]=function(M){return new Promise(function(R,k){o.push([y,M,R,k])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Vr?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function dE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof cE=="function"?cE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var gu=n=>n&&typeof n.length=="number"&&typeof n!="function";function mu(n){return K(n?.then)}function yu(n){return K(n[ki])}function vu(n){return Symbol.asyncIterator&&K(n?.[Symbol.asyncIterator])}function _u(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iu=MN();function Eu(n){return K(n?.[Iu])}function wu(n){return lE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Vr(t.read());if(i)return yield Vr(void 0);yield yield Vr(r)}}finally{t.releaseLock()}})}function Tu(n){return K(n?.getReader)}function De(n){if(n instanceof ie)return n;if(n!=null){if(yu(n))return PN(n);if(gu(n))return xN(n);if(mu(n))return ON(n);if(vu(n))return hE(n);if(Eu(n))return kN(n);if(Tu(n))return LN(n)}throw _u(n)}function PN(n){return new ie(e=>{let t=n[ki]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xN(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ON(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,du)})}function kN(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function hE(n){return new ie(e=>{VN(n,e).catch(t=>e.error(t))})}function LN(n){return hE(wu(n))}function VN(n,e){var t,r,i,o;return uE(this,void 0,void 0,function*(){try{for(t=dE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function dt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function bu(n,e=0){return se((t,r)=>{t.subscribe(te(r,i=>dt(r,n,()=>r.next(i),e),()=>dt(r,n,()=>r.complete(),e),i=>dt(r,n,()=>r.error(i),e)))})}function Cu(n,e=0){return se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function fE(n,e){return De(n).pipe(Cu(e),bu(e))}function pE(n,e){return De(n).pipe(Cu(e),bu(e))}function gE(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function mE(n,e){return new ie(t=>{let r;return dt(t,e,()=>{r=n[Iu](),dt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Su(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{dt(t,e,()=>{let r=n[Symbol.asyncIterator]();dt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yE(n,e){return Su(wu(n),e)}function vE(n,e){if(n!=null){if(yu(n))return fE(n,e);if(gu(n))return gE(n,e);if(mu(n))return pE(n,e);if(vu(n))return Su(n,e);if(Eu(n))return mE(n,e);if(Tu(n))return yE(n,e)}throw _u(n)}function Ee(n,e){return e?vE(n,e):De(n)}function q(...n){let e=Xn(n);return Ee(n,e)}function Fi(n,e){let t=K(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function Df(n){return!!n&&(n instanceof ie||K(n.lift)&&K(n.subscribe))}var En=Mi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(n,e){return se((t,r)=>{let i=0;t.subscribe(te(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:FN}=Array;function jN(n,e){return FN(e)?n(...e):n(e)}function Du(n){return ne(e=>jN(n,e))}var{isArray:UN}=Array,{getPrototypeOf:BN,prototype:HN,keys:$N}=Object;function Au(n){if(n.length===1){let e=n[0];if(UN(e))return{args:e,keys:null};if(qN(e)){let t=$N(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function qN(n){return n&&typeof n=="object"&&BN(n)===HN}function Ru(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Nu(...n){let e=Xn(n),t=pu(n),{args:r,keys:i}=Au(n);if(r.length===0)return Ee([],e);let o=new ie(zN(r,e,i?s=>Ru(i,s):pt));return t?o.pipe(Du(t)):o}function zN(n,e,t=pt){return r=>{_E(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)_E(e,()=>{let l=Ee(n[u],e),f=!1;l.subscribe(te(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _E(n,e,t){n?dt(t,n,e):e()}function IE(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;De(t(M,f++)).subscribe(te(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?dt(e,s,()=>S(k)):S(k)}m()}catch(k){e.error(k)}}))};return n.subscribe(te(e,y,()=>{p=!0,m()})),()=>{c?.()}}function xe(n,e,t=1/0){return K(e)?xe((r,i)=>ne((o,s)=>e(r,o,i,s))(De(n(r,i))),t):(typeof e=="number"&&(t=e),se((r,i)=>IE(r,i,n,t)))}function EE(n=1/0){return xe(pt,n)}function wE(){return EE(1)}function ji(...n){return wE()(Ee(n,Xn(n)))}function Ss(n){return new ie(e=>{De(n()).subscribe(e)})}function Af(...n){let e=pu(n),{args:t,keys:r}=Au(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;De(t[f]).subscribe(te(o,m=>{p||(p=!0,l--),c[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ru(r,c):c),o.complete())}))}});return e?i.pipe(Du(e)):i}function bt(n,e){return se((t,r)=>{let i=0;t.subscribe(te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function er(n){return se((e,t)=>{let r=null,i=!1,o;r=e.subscribe(te(t,void 0,void 0,s=>{o=De(n(s,er(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function TE(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(te(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Ui(n,e){return K(e)?xe(n,e,1):xe(n,1)}function tr(n){return se((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wn(n){return n<=0?()=>lt:se((e,t)=>{let r=0;e.subscribe(te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mu(n=GN){return se((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function GN(){return new En}function Ds(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Tn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?bt((i,o)=>n(i,o,r)):pt,wn(1),t?tr(e):Mu(()=>new En))}function Bi(n){return n<=0?()=>lt:se((e,t)=>{let r=[];e.subscribe(te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?bt((i,o)=>n(i,o,r)):pt,Bi(1),t?tr(e):Mu(()=>new En))}function Nf(n,e){return se(TE(n,e,arguments.length>=2,!0))}function Mf(...n){let e=Xn(n);return se((t,r)=>{(e?ji(n,t,e):ji(n,t)).subscribe(r)})}function Ct(n,e){return se((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(te(r,u=>{i?.unsubscribe();let l=0,f=o++;De(n(u,f)).subscribe(i=te(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Pu(n){return se((e,t)=>{De(n).subscribe(te(t,()=>t.complete(),Cs)),!t.closed&&e.subscribe(t)})}function Le(n,e,t){let r=K(n)||e||t?{next:n,error:e,complete:t}:n;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(te(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}function bE(n){let e=W(null);try{return n()}finally{W(e)}}var $f="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(Vu(e,t)),this.code=e}};function WN(n){return`NG0${Math.abs(n)}`}function Vu(n,e){return`${WN(n)}${e?": "+e:""}`}function fe(n){for(let e in n)if(n[e]===fe)return e;throw Error("")}function DE(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Cn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Cn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function qf(n,e){return n?e?`${n} ${e}`:n:e||""}var KN=fe({__forward_ref__:fe});function ir(n){return n.__forward_ref__=ir,n.toString=function(){return Cn(this())},n}function We(n){return zf(n)?n():n}function zf(n){return typeof n=="function"&&n.hasOwnProperty(KN)&&n.__forward_ref__===ir}function AE(n,e){n==null&&Gf(e,n,null,"!=")}function Gf(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $r(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ps(n){return QN(n,Fu)}function Wf(n){return Ps(n)!==null}function QN(n,e){return n.hasOwnProperty(e)&&n[e]||null}function YN(n){let e=n?.[Fu]??null;return e||null}function xf(n){return n&&n.hasOwnProperty(Ou)?n[Ou]:null}var Fu=fe({\u0275prov:fe}),Ou=fe({\u0275inj:fe}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kf(n){return n&&!!n.\u0275providers}var Qf=fe({\u0275cmp:fe}),Yf=fe({\u0275dir:fe}),Jf=fe({\u0275pipe:fe}),Zf=fe({\u0275mod:fe}),Ns=fe({\u0275fac:fe}),qr=fe({__NG_ELEMENT_ID__:fe}),CE=fe({__NG_ENV_ID__:fe});function $i(n){return typeof n=="string"?n:n==null?"":String(n)}function ku(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():$i(n)}var Xf=fe({ngErrorCode:fe}),RE=fe({ngErrorMessage:fe}),Rs=fe({ngTokenPath:fe});function ep(n,e){return NE("",-200,e)}function ju(n,e){throw new F(-201,!1)}function JN(n,e){n[Rs]??=[];let t=n[Rs],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(AE(e.provide,"Token with multi: true should have a provide property"),r=ku(e.provide)):r=ku(e),t[0]!==r&&n[Rs].unshift(r)}function ZN(n,e){let t=n[Rs],r=n[Xf],i=n[RE]||n.message;return n.message=eM(i,r,t,e),n}function NE(n,e,t){let r=new F(e,n);return r[Xf]=e,r[RE]=n,t&&(r[Rs]=t),r}function XN(n){return n[Xf]}function eM(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Vu(e,`${n}${o}${i}`)}var Of;function ME(){return Of}function gt(n){let e=Of;return Of=n,e}function tp(n,e,t){let r=Ps(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;ju(n,"Injector")}var tM={},Fr=tM,nM="__NG_DI_FLAG__",kf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=jr(t)||0;try{return this.injector.get(e,r&8?null:Fr,r)}catch(i){if(Si(i))return i;throw i}}};function rM(n,e=0){let t=Jc();if(t===void 0)throw new F(-203,!1);if(t===null)return tp(n,void 0,e);{let r=iM(e),i=t.retrieve(n,r);if(Si(i)){if(r.optional)return null;throw i}return i}}function Z(n,e=0){return(ME()||rM)(We(n),e)}function P(n,e){return Z(n,jr(e))}function jr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function iM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Lf(n){let e=[];for(let t=0;t<n.length;t++){let r=We(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=oM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Z(i,o))}else e.push(Z(r))}return e}function oM(n){return n[nM]}function Ur(n,e){let t=n.hasOwnProperty(Ns);return t?n[Ns]:null}function Uu(n,e){n.forEach(t=>Array.isArray(t)?Uu(t,e):e(t))}function np(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xs(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function PE(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function xE(n,e,t){let r=qi(n,e);return r>=0?n[r|1]=t:(r=~r,PE(n,r,e,t)),r}function Bu(n,e){let t=qi(n,e);if(t>=0)return n[t|1]}function qi(n,e){return sM(n,e,1)}function sM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var or={},mt=[],Sn=new j(""),rp=new j("",-1),ip=new j(""),Ms=class{get(e,t=Fr){if(t===Fr){let i=NE("",-201);throw i.name="\u0275NotFound",i}return t}};function op(n){return n[Zf]||null}function sr(n){return n[Qf]||null}function sp(n){return n[Yf]||null}function OE(n){return n[Jf]||null}function zr(n){return{\u0275providers:n}}function kE(n){return zr([{provide:Sn,multi:!0,useValue:n}])}function LE(...n){return{\u0275providers:ap(!0,n),\u0275fromNgModule:!0}}function ap(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Uu(e,s=>{let c=s;Lu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&VE(i,o),t}function VE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cp(i,o=>{e(o,r)})}}function Lu(n,e,t,r){if(n=We(n),!n)return!1;let i=null,o=xf(n),s=!o&&sr(n);if(!o&&!s){let u=n.ngModule;if(o=xf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Lu(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Uu(o.imports,f=>{Lu(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&VE(l,e)}if(!c){let l=Ur(i)||(()=>new i);e({provide:i,useFactory:l,deps:mt},i),e({provide:ip,useValue:i,multi:!0},i),e({provide:Sn,useValue:()=>Z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;cp(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function cp(n,e){for(let t of n)Kf(t)&&(t=t.\u0275providers),Array.isArray(t)?cp(t,e):e(t)}var aM=fe({provide:String,useValue:fe});function FE(n){return n!==null&&typeof n=="object"&&aM in n}function cM(n){return!!(n&&n.useExisting)}function uM(n){return!!(n&&n.useFactory)}function Br(n){return typeof n=="function"}function jE(n){return!!n.useClass}var Os=new j(""),xu={},SE={},Pf;function ks(){return Pf===void 0&&(Pf=new Ms),Pf}var Ke=class{},Hr=class extends Ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ff(e,s=>this.processProvider(s)),this.records.set(rp,Hi(void 0,this)),i.has("environment")&&this.records.set(Ke,Hi(void 0,this));let o=this.records.get(Os);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ip,mt,{self:!0}))}retrieve(e,t){let r=jr(t)||0;try{return this.get(e,Fr,r)}catch(i){if(Si(i))return i;throw i}}destroy(){As(this),this._destroyed=!0;let e=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return As(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){As(this);let t=Zt(this),r=gt(void 0),i;try{return e()}finally{Zt(t),gt(r)}}get(e,t=Fr,r){if(As(this),e.hasOwnProperty(CE))return e[CE](this);let i=jr(r),o,s=Zt(this),c=gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=pM(e)&&Ps(e);f&&this.injectableDefInScope(f)?l=Hi(Vf(e),xu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?ks():this.parent;return t=i&8&&t===Fr?null:t,u.get(e,t)}catch(u){let l=XN(u);throw l===-200||l===-201?new F(l,null):u}finally{gt(c),Zt(s)}}resolveInjectorInitializers(){let e=W(null),t=Zt(this),r=gt(void 0),i;try{let o=this.get(Sn,mt,{self:!0});for(let s of o)s()}finally{Zt(t),gt(r),W(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Cn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=We(e);let t=Br(e)?e:We(e&&e.provide),r=dM(e);if(!Br(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Hi(void 0,xu,!0),i.factory=()=>Lf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=W(null);try{if(t.value===SE)throw ep(Cn(e));return t.value===xu&&(t.value=SE,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&fM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{W(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=We(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Vf(n){let e=Ps(n),t=e!==null?e.factory:Ur(n);if(t!==null)return t;if(n instanceof j)throw new F(204,!1);if(n instanceof Function)return lM(n);throw new F(204,!1)}function lM(n){if(n.length>0)throw new F(204,!1);let t=YN(n);return t!==null?()=>t.factory(n):()=>new n}function dM(n){if(FE(n))return Hi(void 0,n.useValue);{let e=up(n);return Hi(e,xu)}}function up(n,e,t){let r;if(Br(n)){let i=We(n);return Ur(i)||Vf(i)}else if(FE(n))r=()=>We(n.useValue);else if(uM(n))r=()=>n.useFactory(...Lf(n.deps||[]));else if(cM(n))r=(i,o)=>Z(We(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=We(n&&(n.useClass||n.provide));if(hM(n))r=()=>new i(...Lf(n.deps));else return Ur(i)||Vf(i)}return r}function As(n){if(n.destroyed)throw new F(205,!1)}function Hi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function hM(n){return!!n.deps}function fM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function pM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ff(n,e){for(let t of n)Array.isArray(t)?Ff(t,e):t&&Kf(t)?Ff(t.\u0275providers,e):e(t)}function at(n,e){let t;n instanceof Hr?(As(n),t=n):t=new kf(n);let r,i=Zt(t),o=gt(void 0);try{return e()}finally{Zt(i),gt(o)}}function UE(){return ME()!==void 0||Jc()!=null}var Ht=0,z=1,Q=2,Ve=3,St=4,Dt=5,zi=6,Gi=7,Fe=8,Gr=9,Dn=10,we=11,Wi=12,lp=13,Ki=14,yt=15,Wr=16,Kr=17,Qr=18,Ls=19,dp=20,bn=21,Hu=22,Vs=23,vt=24,$u=25,ht=26,BE=1,hp=6,ar=7,Fs=8,js=9,Qe=10;function en(n){return Array.isArray(n)&&typeof n[BE]=="object"}function $t(n){return Array.isArray(n)&&n[BE]===!0}function fp(n){return(n.flags&4)!==0}function cr(n){return n.componentOffset>-1}function qu(n){return(n.flags&1)===1}function tn(n){return!!n.template}function Qi(n){return(n[Q]&512)!==0}function Yr(n){return(n[Q]&256)===256}var HE="svg",$E="math";function At(n){for(;Array.isArray(n);)n=n[Ht];return n}function pp(n,e){return At(e[n])}function nn(n,e){return At(e[n.index])}function Us(n,e){return n.data[e]}function Rt(n,e){let t=e[n];return en(t)?t:t[Ht]}function zu(n){return(n[Q]&128)===128}function qE(n){return $t(n[Ve])}function Yi(n,e){return e==null?null:n[e]}function gp(n){n[Kr]=0}function mp(n){n[Q]&1024||(n[Q]|=1024,zu(n)&&Hs(n))}function Bs(n){return!!(n[Q]&9216||n[vt]?.dirty)}function Gu(n){n[Dn].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Bs(n)&&Hs(n)}function Hs(n){n[Dn].changeDetectionScheduler?.notify(0);let e=nr(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!zu(e)));)e=nr(e)}function yp(n,e){if(Yr(n))throw new F(911,!1);n[bn]===null&&(n[bn]=[]),n[bn].push(e)}function zE(n,e){if(n[bn]===null)return;let t=n[bn].indexOf(e);t!==-1&&n[bn].splice(t,1)}function nr(n){let e=n[Ve];return $t(e)?e[Ve]:e}function GE(n){return n[Gi]??=[]}function WE(n){return n.cleanup??=[]}var ue={lFrame:lw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},$s=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}($s||{}),gM=0,jf=!1;function KE(){return ue.lFrame.elementDepthCount}function QE(){ue.lFrame.elementDepthCount++}function YE(){ue.lFrame.elementDepthCount--}function JE(){return ue.bindingsEnabled}function ZE(){return ue.skipHydrationRootTNode!==null}function XE(n){return ue.skipHydrationRootTNode===n}function ew(){ue.skipHydrationRootTNode=null}function ye(){return ue.lFrame.lView}function qt(){return ue.lFrame.tView}function _t(){let n=vp();for(;n!==null&&n.type===64;)n=n.parent;return n}function vp(){return ue.lFrame.currentTNode}function tw(){let n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ji(n,e){let t=ue.lFrame;t.currentTNode=n,t.isParent=e}function _p(){return ue.lFrame.isParent}function nw(){ue.lFrame.isParent=!1}function Ip(n){Gf("Must never be called in production mode"),gM=n}function Ep(){return jf}function wp(n){let e=jf;return jf=n,e}function rw(){return ue.lFrame.bindingIndex}function iw(n){return ue.lFrame.bindingIndex=n}function Wu(){return ue.lFrame.bindingIndex++}function Tp(n){let e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ow(){return ue.lFrame.inI18n}function sw(n,e){let t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ku(e)}function aw(){return ue.lFrame.currentDirectiveIndex}function Ku(n){ue.lFrame.currentDirectiveIndex=n}function cw(n){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function bp(n){ue.lFrame.currentQueryIndex=n}function mM(n){let e=n[z];return e.type===2?e.declTNode:e.type===1?n[Dt]:null}function Cp(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=mM(o),i===null||(o=o[Ki],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ue.lFrame=uw();return r.currentTNode=e,r.lView=n,!0}function Qu(n){let e=uw(),t=n[z];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uw(){let n=ue.lFrame,e=n===null?null:n.child;return e===null?lw(n):e}function lw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function dw(){let n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Sp=dw;function Yu(){let n=dw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function An(){return ue.lFrame.selectedIndex}function ur(n){ue.lFrame.selectedIndex=n}function hw(){let n=ue.lFrame;return Us(n.tView,n.selectedIndex)}function fw(){return ue.lFrame.currentNamespace}var pw=!0;function Ju(){return pw}function Zu(n){pw=n}function Uf(n,e=null,t=null,r){let i=Dp(n,e,t,r);return i.resolveInjectorInitializers(),i}function Dp(n,e=null,t=null,r,i=new Set){let o=[t||mt,LE(n)];return r=r||(typeof n=="object"?void 0:Cn(n)),new Hr(o,e||ks(),r||null,i)}var Bt=class n{static THROW_IF_NOT_FOUND=Fr;static NULL=new Ms;static create(e,t){if(Array.isArray(e))return Uf({name:""},t,e,"");{let r=e.name??"";return Uf({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>Z(rp)});static __NG_ELEMENT_ID__=-1},je=new j(""),lr=(()=>{class n{static __NG_ELEMENT_ID__=yM;static __NG_ENV_ID__=t=>t}return n})(),Bf=class extends lr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Yr(this._lView)}onDestroy(e){let t=this._lView;return yp(t,e),()=>zE(t,e)}};function yM(){return new Bf(ye())}var Xt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Nt=new j("",{providedIn:"root",factory:()=>{let n=P(Ke),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Xt),e.handleError(t))}}}),gw={provide:Sn,useValue:()=>void P(Xt),multi:!0},vM=new j("",{providedIn:"root",factory:()=>{let n=P(je).defaultView;if(!n)return;let e=P(Nt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(lr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Ap(){return zr([kE(()=>void P(vM))])}function Rp(n){return typeof n=="function"&&n[nt]!==void 0}function Mt(n,e){let[t,r,i]=mf(n,e?.equal),o=t,s=o[nt];return o.set=r,o.update=i,o.asReadonly=mw.bind(o),o}function mw(){let n=this[nt];if(n.readonlyFn===void 0){let e=()=>this();e[nt]=n,n.readonlyFn=e}return n.readonlyFn}function Np(n){return Rp(n)&&typeof n.set=="function"}var rr=class{},qs=new j("",{providedIn:"root",factory:()=>!1});var Mp=new j(""),Xu=new j("");var Rn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ge(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function zs(...n){}var Pp=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Hf})}return n})(),Hf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ea(n){return{toString:n}.toString()}function MM(n){return typeof n=="function"}var il=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ta=(()=>{let n=()=>Zw;return n.ngInherit=!0,n})();function Zw(n){return n.type.prototype.ngOnChanges&&(n.setInput=xM),PM}function PM(){let n=eT(this),e=n?.current;if(e){let t=n.previous;if(t===or)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xM(n,e,t,r,i){let o=this.declaredInputs[r],s=eT(n)||OM(n,{previous:or,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new il(l&&l.currentValue,t,u===or),Jw(n,e,i,t)}var Xw="__ngSimpleChanges__";function eT(n){return n[Xw]||null}function OM(n,e){return n[Xw]=e}var yw=[];var ge=function(n,e=null,t){for(let r=0;r<yw.length;r++){let i=yw[r];i(n,e,t)}};function kM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Zw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function LM(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function tl(n,e,t){tT(n,e,3,t)}function nl(n,e,t,r){(n[Q]&3)===t&&tT(n,e,t,r)}function xp(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function tT(n,e,t,r){let i=r!==void 0?n[Kr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Kr]+=65536),(c<o||o==-1)&&(VM(n,t,e,u),n[Kr]=(n[Kr]&4294901760)+u+2),u++}function vw(n,e){ge(4,n,e);let t=W(null);try{e.call(n)}finally{W(t),ge(5,n,e)}}function VM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Q]>>14<n[Kr]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,vw(c,o)):vw(c,o)}var Xi=-1,Zr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function FM(n){return(n.flags&8)!==0}function jM(n){return(n.flags&16)!==0}function UM(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];HM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function BM(n){return n===3||n===4||n===6}function HM(n){return n.charCodeAt(0)===64}function Ks(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?_w(n,t,i,null,e[++r]):_w(n,t,i,null,null))}}return n}function _w(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function nT(n){return n!==Xi}function ol(n){return n&32767}function $M(n){return n>>16}function sl(n,e){let t=$M(n),r=e;for(;t>0;)r=r[Ki],t--;return r}var qp=!0;function Iw(n){let e=qp;return qp=n,e}var qM=256,rT=qM-1,iT=5,zM=0,rn={};function GM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qr)&&(r=t[qr]),r==null&&(r=t[qr]=zM++);let i=r&rT,o=1<<i;e.data[n+(i>>iT)]|=o}function al(n,e){let t=oT(n,e);if(t!==-1)return t;let r=e[z];r.firstCreatePass&&(n.injectorIndex=e.length,Op(r.data,n),Op(e,null),Op(r.blueprint,null));let i=gg(n,e),o=n.injectorIndex;if(nT(i)){let s=ol(i),c=sl(i,e),u=c[z].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Op(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function gg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=lT(i),r===null)return Xi;if(t++,i=i[Ki],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Xi}function zp(n,e,t){GM(n,e,t)}function sT(n,e,t){if(t&8||n!==void 0)return n;ju(e,"NodeInjector")}function aT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Gr],o=gt(void 0);try{return i?i.get(e,r,t&8):tp(e,r,t&8)}finally{gt(o)}}return sT(r,e,t)}function cT(n,e,t,r=0,i){if(n!==null){if(e[Q]&2048&&!(r&2)){let s=JM(n,e,t,r,rn);if(s!==rn)return s}let o=uT(n,e,t,r,rn);if(o!==rn)return o}return aT(e,t,r,i)}function uT(n,e,t,r,i){let o=QM(t);if(typeof o=="function"){if(!Cp(e,n,r))return r&1?sT(i,t,r):aT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ju(t);else return s}finally{Sp()}}else if(typeof o=="number"){let s=null,c=oT(n,e),u=Xi,l=r&1?e[yt][Dt]:null;for((c===-1||r&4)&&(u=c===-1?gg(n,e):e[c+8],u===Xi||!ww(r,!1)?c=-1:(s=e[z],c=ol(u),e=sl(u,e)));c!==-1;){let f=e[z];if(Ew(o,c,f.data)){let p=WM(c,e,t,s,r,l);if(p!==rn)return p}u=e[c+8],u!==Xi&&ww(r,e[z].data[c+8]===l)&&Ew(o,c,e)?(s=f,c=ol(u),e=sl(u,e)):c=-1}}return i}function WM(n,e,t,r,i,o){let s=e[z],c=s.data[n+8],u=r==null?cr(c)&&qp:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=KM(c,s,t,u,l);return f!==null?cl(e,s,f,c,i):rn}function KM(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&tn(y)&&y.type===t)return u}return null}function cl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Zr){let c=o;if(c.resolving){let y=ku(s[t]);throw ep(y)}let u=Iw(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],f,p=c.injectImpl?gt(c.injectImpl):null,m=Cp(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&kM(t,s[t],e)}finally{p!==null&&gt(p),Iw(u),c.resolving=!1,Sp()}}return o}function QM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(qr)?n[qr]:void 0;return typeof e=="number"?e>=0?e&rT:YM:e}function Ew(n,e,t){let r=1<<n;return!!(t[e+(n>>iT)]&r)}function ww(n,e){return!(n&2)&&!(n&1&&e)}var Jr=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cT(this._tNode,this._lView,e,jr(r),t)}};function YM(){return new Jr(_t(),ye())}function io(n){return ea(()=>{let e=n.prototype.constructor,t=e[Ns]||Gp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ns]||Gp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gp(n){return zf(n)?()=>{let e=Gp(We(n));return e&&e()}:Ur(n)}function JM(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!Qi(s);){let c=uT(o,s,t,r|2,rn);if(c!==rn)return c;let u=o.parent;if(!u){let l=s[dp];if(l){let f=l.get(t,rn,r);if(f!==rn)return f}u=lT(s),s=s[Ki]}o=u}return i}function lT(n){let e=n[z],t=e.type;return t===2?e.declTNode:t===1?n[Dt]:null}function ZM(){return mg(_t(),ye())}function mg(n,e){return new na(nn(n,e))}var na=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=ZM}return n})();function dT(n){return(n.flags&128)===128}var yg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(yg||{}),hT=new Map,XM=0;function eP(){return XM++}function tP(n){hT.set(n[Ls],n)}function Wp(n){hT.delete(n[Ls])}var Tw="__ngContext__";function eo(n,e){en(e)?(n[Tw]=e[Ls],tP(e)):n[Tw]=e}function fT(n){return gT(n[Wi])}function pT(n){return gT(n[St])}function gT(n){for(;n!==null&&!$t(n);)n=n[St];return n}var Kp;function vg(n){Kp=n}function mT(){if(Kp!==void 0)return Kp;if(typeof document<"u")return document;throw new F(210,!1)}var _l=new j("",{providedIn:"root",factory:()=>nP}),nP="ng",Il=new j(""),oo=new j("",{providedIn:"platform",factory:()=>"unknown"});var El=new j("",{providedIn:"root",factory:()=>mT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rP="h",iP="b";var yT="r";var vT="di";var _T=!1,IT=new j("",{providedIn:"root",factory:()=>_T});var oP=(n,e,t,r)=>{};function sP(n,e,t,r){oP(n,e,t,r)}function _g(n){return(n.flags&32)===32}var aP=()=>null;function ET(n,e,t=!1){return aP(n,e,t)}function wT(n,e){let t=n.contentQueries;if(t!==null){let r=W(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];bp(o),c.contentQueries(2,e[s],s)}}}finally{W(r)}}}function Qp(n,e,t){bp(0);let r=W(null);try{e(n,t)}finally{W(r)}}function TT(n,e,t){if(fp(e)){let r=W(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{W(r)}}}var Nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Nn||{});var Yp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$f})`}};function bT(n){return n instanceof Yp?n.changingThisBreaksApplicationSecurity:n}function CT(n){return n instanceof Function?n():n}function cP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var ST="ng-template";function uP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&cP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ig(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ig(n){return n.type===4&&n.value!==ST}function lP(n,e,t){let r=n.type===4&&!t?ST:n.value;return e===r}function dP(n,e,t){let r=4,i=n.attrs,o=i!==null?pP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!zt(r)&&!zt(u))return!1;if(s&&zt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!lP(n,u,t)||u===""&&e.length===1){if(zt(r))return!1;s=!0}}else if(r&8){if(i===null||!uP(n,i,u,t)){if(zt(r))return!1;s=!0}}else{let l=e[++c],f=hP(u,i,Ig(n),t);if(f===-1){if(zt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(zt(r))return!1;s=!0}}}}return zt(r)||s}function zt(n){return(n&1)===0}function hP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gP(e,n)}function fP(n,e,t=!1){for(let r=0;r<e.length;r++)if(dP(n,e[r],t))return!0;return!1}function pP(n){for(let e=0;e<n.length;e++){let t=n[e];if(BM(t))return e}return n.length}function gP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function bw(n,e){return n?":not("+e.trim()+")":e}function mP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!zt(s)&&(e+=bw(o,i),i=""),r=s,o=o||!zt(r);t++}return i!==""&&(e+=bw(o,i)),e}function yP(n){return n.map(mP).join(",")}function vP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!zt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var on={};function _P(n,e){return n.createText(e)}function IP(n,e,t){n.setValue(e,t)}function DT(n,e,t){return n.createElement(e,t)}function ul(n,e,t,r,i){n.insertBefore(e,t,r,i)}function AT(n,e,t){n.appendChild(e,t)}function Cw(n,e,t,r,i){r!==null?ul(n,e,t,r,i):AT(n,e,t)}function RT(n,e,t){n.removeChild(null,e,t)}function EP(n,e,t){n.setAttribute(e,"style",t)}function wP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&UM(n,e,r),i!==null&&wP(n,e,i),o!==null&&EP(n,e,o)}function Eg(n,e,t,r,i,o,s,c,u,l,f){let p=ht+r,m=p+i,y=TP(p,m),S=typeof l=="function"?l():l;return y[z]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function TP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:on);return t}function bP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Eg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function wg(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Ht]=i,p[Q]=r|4|128|8|64|1024,(l!==null||n&&n[Q]&2048)&&(p[Q]|=2048),gp(p),p[Ve]=p[Ki]=n,p[Fe]=t,p[Dn]=s||n&&n[Dn],p[we]=c||n&&n[we],p[Gr]=u||n&&n[Gr]||null,p[Dt]=o,p[Ls]=eP(),p[zi]=f,p[dp]=l,p[yt]=e.type==2?n[yt]:p,p}function CP(n,e,t){let r=nn(e,n),i=bP(t),o=n[Dn].rendererFactory,s=Tg(n,wg(n,i,null,MT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function MT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function PT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Tg(n,e){return n[Wi]?n[lp][St]=e:n[Wi]=e,n[lp]=e,e}function ri(n=1){xT(qt(),ye(),An()+n,!1)}function xT(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&tl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nl(e,o,0,t)}ur(t)}var wl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(wl||{});function Jp(n,e,t,r){let i=W(null);try{let[o,s,c]=n.inputs[t],u=null;(s&wl.SignalBased)!==0&&(u=e[o][nt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Jw(e,u,o,r)}finally{W(i)}}var Mn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mn||{}),SP;function bg(n,e){return SP(n,e)}function Zi(n,e,t,r,i){if(r!=null){let o,s=!1;$t(r)?o=r:en(r)&&(s=!0,r=r[Ht]);let c=At(r);n===0&&t!==null?i==null?AT(e,t,c):ul(e,t,c,i||null,!0):n===1&&t!==null?ul(e,t,c,i||null,!0):n===2?RT(e,c,s):n===3&&e.destroyNode(c),o!=null&&FP(e,n,o,t,i)}}function DP(n,e){OT(n,e),e[Ht]=null,e[Dt]=null}function AP(n,e,t,r,i,o){r[Ht]=i,r[Dt]=e,bl(n,r,t,1,i,o)}function OT(n,e){e[Dn].changeDetectionScheduler?.notify(9),bl(n,e,e[we],2,null,null)}function RP(n){let e=n[Wi];if(!e)return kp(n[z],n);for(;e;){let t=null;if(en(e))t=e[Wi];else{let r=e[Qe];r&&(t=r)}if(!t){for(;e&&!e[St]&&e!==n;)en(e)&&kp(e[z],e),e=e[Ve];e===null&&(e=n),en(e)&&kp(e[z],e),t=e&&e[St]}e=t}}function Cg(n,e){let t=n[js],r=t.indexOf(e);t.splice(r,1)}function Tl(n,e){if(Yr(e))return;let t=e[we];t.destroyNode&&bl(n,e,t,3,null,null),RP(e)}function kp(n,e){if(Yr(e))return;let t=W(null);try{e[Q]&=-129,e[Q]|=256,e[vt]&&ou(e[vt]),MP(n,e),NP(n,e),e[z].type===1&&e[we].destroy();let r=e[Wr];if(r!==null&&$t(e[Ve])){r!==e[Ve]&&Cg(r,e);let i=e[Qr];i!==null&&i.detachView(n)}Wp(e)}finally{W(t)}}function NP(n,e){let t=n.cleanup,r=e[Gi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[Gi]=null);let i=e[bn];if(i!==null){e[bn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Vs];if(o!==null){e[Vs]=null;for(let s of o)s.destroy()}}function MP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Zr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];ge(4,c,u);try{u.call(c)}finally{ge(5,c,u)}}else{ge(4,i,o);try{o.call(i)}finally{ge(5,i,o)}}}}}function PP(n,e,t){return xP(n,e.parent,t)}function xP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ht];if(cr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Nn.None||i===Nn.Emulated)return null}return nn(r,t)}function OP(n,e,t){return LP(n,e,t)}function kP(n,e,t){return n.type&40?nn(n,t):null}var LP=kP,Sw;function Sg(n,e,t,r){let i=PP(n,r,e),o=e[we],s=r.parent||e[Dt],c=OP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Cw(o,i,t[u],c,!1);else Cw(o,i,t,c,!1);Sw!==void 0&&Sw(o,r,e,t,i)}function Gs(n,e){if(e!==null){let t=e.type;if(t&3)return nn(e,n);if(t&4)return Zp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Gs(n,r);{let i=n[e.index];return $t(i)?Zp(-1,i):At(i)}}else{if(t&128)return Gs(n,e.next);if(t&32)return bg(e,n)()||At(n[e.index]);{let r=kT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=nr(n[yt]);return Gs(i,r)}else return Gs(n,e.next)}}}return null}function kT(n,e){if(e!==null){let r=n[yt][Dt],i=e.projection;return r.projection[i]}return null}function Zp(n,e){let t=Qe+n+1;if(t<e.length){let r=e[t],i=r[z].firstChild;if(i!==null)return Gs(r,i)}return e[ar]}function Dg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&eo(At(c),r),t.flags|=2),!_g(t))if(u&8)Dg(n,e,t.child,r,i,o,!1),Zi(e,n,i,c,o);else if(u&32){let l=bg(t,r),f;for(;f=l();)Zi(e,n,i,f,o);Zi(e,n,i,c,o)}else u&16?VP(n,e,r,t,i,o):Zi(e,n,i,c,o);t=s?t.projectionNext:t.next}}function bl(n,e,t,r,i,o){Dg(t,r,n.firstChild,e,i,o,!1)}function VP(n,e,t,r,i,o){let s=t[yt],u=s[Dt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Zi(e,n,i,f,o)}else{let l=u,f=s[Ve];dT(r)&&(l.flags|=128),Dg(n,e,l,f,i,o,!0)}}function FP(n,e,t,r,i){let o=t[ar],s=At(t);o!==s&&Zi(e,n,r,o,i);for(let c=Qe;c<t.length;c++){let u=t[c];bl(u[z],u,n,e,r,o)}}function jP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),n.setStyle(t,r,i,o))}}function LT(n,e,t,r,i){let o=An(),s=r&2;try{ur(-1),s&&e.length>ht&&xT(n,e,ht,!1),ge(s?2:0,i,t),t(r,i)}finally{ur(o),ge(s?3:1,i,t)}}function VT(n,e,t){WP(n,e,t),(t.flags&64)===64&&KP(n,e,t)}function FT(n,e,t=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function UP(n,e,t,r){let o=r.get(IT,_T)||t===Nn.ShadowDom,s=n.selectRootElement(e,o);return BP(s),s}function BP(n){HP(n)}var HP=()=>null;function $P(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function qP(n,e,t,r,i,o){let s=e[z];if(Ag(n,s,e,t,r)){cr(n)&&GP(e,n.index);return}n.type&3&&(t=$P(t)),zP(n,e,t,r,i,o)}function zP(n,e,t,r,i,o){if(n.type&3){let s=nn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function GP(n,e){let t=Rt(e,n);t[Q]&16||(t[Q]|=64)}function WP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;cr(t)&&CP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||al(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=cl(e,n,s,t);if(eo(u,e),o!==null&&JP(e,s-r,u,c,t,o),tn(c)){let l=Rt(t.index,e);l[Fe]=cl(e,n,s,t)}}}function KP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=aw();try{ur(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Ku(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&QP(u,l)}}finally{ur(-1),Ku(s)}}function QP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function YP(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];fP(e,o.selectors,!1)&&(r??=[],tn(o)?r.unshift(o):r.push(o))}return r}function JP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Jp(r,t,u,l)}}function ZP(n,e,t,r,i){let o=ht+t,s=e[z],c=i(s,e,n,r,t);e[o]=c,Ji(n,!0);let u=n.type===2;return u?(NT(e[we],c,n),(KE()===0||qu(n))&&eo(c,e),QE()):eo(c,e),Ju()&&(!u||!_g(n))&&Sg(s,e,c,n),n}function XP(n){let e=n;return _p()?nw():(e=e.parent,Ji(e,!1)),e}function e0(n,e){let t=n[Gr];if(!t)return;t.get(Nt,null)?.(e)}function Ag(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Jp(p,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];Jp(f,l,r,i),c=!0}return c}function t0(n,e){let t=Rt(e,n),r=t[z];n0(r,t);let i=t[Ht];i!==null&&t[zi]===null&&(t[zi]=ET(i,t[Gr])),ge(18),Rg(r,t,t[Fe]),ge(19,t[Fe])}function n0(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Rg(n,e,t){Qu(e);try{let r=n.viewQuery;r!==null&&Qp(1,r,t);let i=n.template;i!==null&&LT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Qr]?.finishViewCreation(n),n.staticContentQueries&&wT(n,e),n.staticViewQueries&&Qp(2,n.viewQuery,t);let o=n.components;o!==null&&r0(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Yu()}}function r0(n,e){for(let t=0;t<e.length;t++)t0(n,e[t])}function jT(n,e,t,r){let i=W(null);try{let o=e.tView,c=n[Q]&4096?4096:16,u=wg(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Wr]=l;let f=n[Qr];return f!==null&&(u[Qr]=f.createEmbeddedView(o)),Rg(o,u,t),u}finally{W(i)}}function ll(n,e){return!e||e.firstChild===null||dT(n)}var Dw=!1,i0=new j("");function Qs(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(At(o)),$t(o)&&UT(o,r);let s=t.type;if(s&8)Qs(n,e,t.child,r);else if(s&32){let c=bg(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=kT(e,t);if(Array.isArray(c))r.push(...c);else{let u=nr(e[yt]);Qs(u[z],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function UT(n,e){for(let t=Qe;t<n.length;t++){let r=n[t],i=r[z].firstChild;i!==null&&Qs(r[z],r,i,e)}n[ar]!==n[Ht]&&e.push(n[ar])}function BT(n){if(n[$u]!==null){for(let e of n[$u])e.impl.addSequence(e);n[$u].length=0}}var HT=[];function o0(n){return n[vt]??s0(n)}function s0(n){let e=HT.pop()??Object.create(c0);return e.lView=n,e}function a0(n){n.lView[vt]!==n&&(n.lView=null,HT.push(n))}var c0=B(A({},xr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Hs(n.lView)},consumerOnSignalRead(){this.lView[vt]=this}});function u0(n){let e=n[vt]??Object.create(l0);return e.lView=n,e}var l0=B(A({},xr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=nr(n.lView);for(;e&&!$T(e[z]);)e=nr(e);e&&mp(e)},consumerOnSignalRead(){this.lView[vt]=this}});function $T(n){return n.type!==2}function qT(n){if(n[Vs]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Vs])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Q]&8192)}}var d0=100;function Ng(n,e=0){let r=n[Dn].rendererFactory,i=!1;i||r.begin?.();try{h0(n,e)}finally{i||r.end?.()}}function h0(n,e){let t=Ep();try{wp(!0),Xp(n,e);let r=0;for(;Bs(n);){if(r===d0)throw new F(103,!1);r++,Xp(n,1)}}finally{wp(t)}}function zT(n,e){Ip(e?$s.Exhaustive:$s.OnlyDirtyViews);try{Ng(n)}finally{Ip($s.Off)}}function f0(n,e,t,r){if(Yr(e))return;let i=e[Q],o=!1,s=!1;Qu(e);let c=!0,u=null,l=null;o||($T(n)?(l=o0(e),u=Or(l)):ru()===null?(c=!1,l=u0(e),u=Or(l)):e[vt]&&(ou(e[vt]),e[vt]=null));try{gp(e),iw(n.bindingStartIndex),t!==null&&LT(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let y=n.preOrderCheckHooks;y!==null&&tl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&nl(e,y,0,null),xp(e,0)}if(s||p0(e),qT(e),GT(e,0),n.contentQueries!==null&&wT(n,e),!o)if(f){let y=n.contentCheckHooks;y!==null&&tl(e,y)}else{let y=n.contentHooks;y!==null&&nl(e,y,1),xp(e,1)}m0(n,e);let p=n.components;p!==null&&KT(e,p,0);let m=n.viewQuery;if(m!==null&&Qp(2,m,r),!o)if(f){let y=n.viewCheckHooks;y!==null&&tl(e,y)}else{let y=n.viewHooks;y!==null&&nl(e,y,2),xp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Hu]){for(let y of e[Hu])y();e[Hu]=null}o||(BT(e),e[Q]&=-73)}catch(f){throw o||Hs(e),f}finally{l!==null&&(Ai(l,u),c&&a0(l)),Yu()}}function GT(n,e){for(let t=fT(n);t!==null;t=pT(t))for(let r=Qe;r<t.length;r++){let i=t[r];WT(i,e)}}function p0(n){for(let e=fT(n);e!==null;e=pT(e)){if(!(e[Q]&2))continue;let t=e[js];for(let r=0;r<t.length;r++){let i=t[r];mp(i)}}}function g0(n,e,t){ge(18);let r=Rt(e,n);WT(r,t),ge(19,r[Fe])}function WT(n,e){zu(n)&&Xp(n,e)}function Xp(n,e){let r=n[z],i=n[Q],o=n[vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ts(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)f0(r,n,r.template,n[Fe]);else if(i&8192){let c=W(null);try{qT(n),GT(n,1);let u=r.components;u!==null&&KT(n,u,1),BT(n)}finally{W(c)}}}function KT(n,e,t){for(let r=0;r<e.length;r++)g0(n,e[r],t)}function m0(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ur(~i);else{let o=i,s=t[++r],c=t[++r];sw(s,o);let u=e[o];ge(24,u),c(2,u),ge(25,u)}}}finally{ur(-1)}}function Mg(n,e){let t=Ep()?64:1088;for(n[Dn].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=nr(n);if(Qi(n)&&!r)return n;n=r}return null}function QT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function y0(n,e){let t=Qe+e;if(t<n.length)return n[t]}function Pg(n,e,t,r=!0){let i=e[z];if(_0(i,e,n,t),r){let s=Zp(t,n),c=e[we],u=c.parentNode(n[ar]);u!==null&&AP(i,n[Dt],c,e,u,s)}let o=e[zi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function v0(n,e){let t=Ys(n,e);return t!==void 0&&Tl(t[z],t),t}function Ys(n,e){if(n.length<=Qe)return;let t=Qe+e,r=n[t];if(r){let i=r[Wr];i!==null&&i!==n&&Cg(i,r),e>0&&(n[t-1][St]=r[St]);let o=xs(n,Qe+e);DP(r[z],r);let s=o[Qr];s!==null&&s.detachView(o[z]),r[Ve]=null,r[St]=null,r[Q]&=-129}return r}function _0(n,e,t,r){let i=Qe+r,o=t.length;r>0&&(t[i-1][St]=e),r<o-Qe?(e[St]=t[i],np(t,Qe+r,e)):(t.push(e),e[St]=null),e[Ve]=t;let s=e[Wr];s!==null&&t!==s&&YT(s,e);let c=e[Qr];c!==null&&c.insertView(n),Gu(e),e[Q]|=128}function YT(n,e){let t=n[js],r=e[Ve];if(en(r))n[Q]|=2;else{let i=r[Ve][yt];e[yt]!==i&&(n[Q]|=2)}t===null?n[js]=[e]:t.push(e)}var Xr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[z];return Qs(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Fe]}set context(e){this._lView[Fe]=e}get destroyed(){return Yr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ve];if($t(e)){let t=e[Fs],r=t?t.indexOf(this):-1;r>-1&&(Ys(e,r),xs(t,r))}this._attachedToViewContainer=!1}Tl(this._lView[z],this._lView)}onDestroy(e){yp(this._lView,e)}markForCheck(){Mg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Gu(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Ng(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Gr].get(i0,Dw)}catch{this.exhaustive=Dw}}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qi(this._lView),t=this._lView[Wr];t!==null&&!e&&Cg(t,this._lView),OT(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=Qi(this._lView),r=this._lView[Wr];r!==null&&!t&&YT(r,this._lView),Gu(this._lView)}};function xg(n,e,t,r,i){let o=n.data[e];if(o===null)o=I0(n,e,t,r,i),ow()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=tw();o.injectorIndex=s===null?-1:s.injectorIndex}return Ji(o,!0),o}function I0(n,e,t,r,i){let o=vp(),s=_p(),c=s?o:o&&o.parent,u=n.data[e]=w0(n,c,t,e,r,i);return E0(n,u,o,s),u}function E0(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function w0(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return ZE()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var TG=new RegExp(`^(\\d+)*(${iP}|${rP})*(.*)`);function T0(n){let e=n[hp]??[],r=n[Ve][we],i=[];for(let o of e)o.data[vT]!==void 0?i.push(o):b0(o,r);n[hp]=i}function b0(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[yT];for(;t<i;){let o=r.nextSibling;RT(e,r,!1),r=o,t++}}}var C0=()=>null,S0=()=>null;function eg(n,e){return C0(n,e)}function D0(n,e,t){return S0(n,e,t)}var JT=class{},Cl=class{},tg=class{resolveComponentFactory(e){throw new F(917,!1)}},ra=class{static NULL=new tg},ei=class{},Sl=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>A0()}return n})();function A0(){let n=ye(),e=_t(),t=Rt(e.index,n);return(en(t)?t:n)[we]}var ZT=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var rl={},ng=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,rl,r);return i!==rl||t===rl?i:this.parentInjector.get(e,t,r)}};function Aw(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=qf(i,c);else if(o==2){let u=c,l=e[++s];r=qf(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Te(n,e=0){let t=ye();if(t===null)return Z(n,e);let r=_t();return cT(r,t,We(n),e)}function R0(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}P0(n,e,t,c,o,u,l)}o!==null&&r!==null&&N0(t,r,o)}function N0(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function M0(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function P0(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&tn(y)&&(u=!0,M0(n,t,m)),zp(al(t,e),n,y.type)}F0(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=PT(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=Ks(t.mergedAttrs,y.hostAttrs),O0(n,t,e,p,y),V0(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}x0(n,t,o)}function x0(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Rw(0,e,i,r),Rw(1,e,i,r),Mw(e,r,!1);else{let o=t.get(i);Nw(0,e,o,r),Nw(1,e,o,r),Mw(e,r,!0)}}}function Rw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XT(e,o)}}function Nw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),XT(e,s)}}function XT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Mw(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ig(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function O0(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new Zr(o,tn(i),Te,null);n.blueprint[r]=s,t[r]=s,k0(n,e,r,PT(n,t,i.hostVars,on),i)}function k0(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;L0(s)!=c&&s.push(c),s.push(t,r,o)}}function L0(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function V0(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;tn(e)&&(t[""]=n)}}function F0(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function eb(n,e,t,r,i,o,s,c){let u=e[z],l=u.consts,f=Yi(l,s),p=xg(u,n,t,r,f);return o&&R0(u,e,p,Yi(l,c),i),p.mergedAttrs=Ks(p.mergedAttrs,p.attrs),p.attrs!==null&&Aw(p,p.attrs,!1),p.mergedAttrs!==null&&Aw(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function tb(n,e){LM(n,e),fp(e)&&n.queries.elementEnd(e)}function ti(n,e,t){if(t===on)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function j0(n,e,t,r){let i=ti(n,e,t);return ti(n,e+1,r)||i}function U0(n,e,t,r,i){let o=j0(n,e,t,r);return ti(n,e+2,i)||o}function Lp(n,e,t){return function r(i){let o=cr(n)?Rt(n.index,e):e;Mg(o,5);let s=e[Fe],c=Pw(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=Pw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function Pw(n,e,t,r){let i=W(null);try{return ge(6,e,t),t(r)!==!1}catch(o){return e0(n,o),!1}finally{ge(7,e,t),W(i)}}function B0(n,e,t,r,i,o,s,c){let u=qu(n),l=!1,f=null;if(!r&&u&&(f=H0(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=nn(n,t),m=r?r(p):p;sP(t,m,o,c);let y=i.listen(m,o,c),S=r?M=>r(At(M[n.index])):n.index;nb(S,e,t,o,c,y,!1)}return l}function H0(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[Gi],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function nb(n,e,t,r,i,o,s){let c=e.firstCreatePass?WE(e):null,u=GE(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function xw(n,e,t,r,i,o){let s=e[t],c=e[z],l=c.data[t].outputs[r],p=s[l].subscribe(o);nb(n.index,c,e,i,o,p,!0)}var rg=Symbol("BINDING");var dl=class extends ra{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=sr(e);return new to(t,this.ngModule)}};function $0(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&wl.SignalBased)!==0};return i&&(o.transform=i),o})}function q0(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function z0(n,e,t){let r=e instanceof Ke?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new ng(t,r):t}function G0(n){let e=n.get(ei,null);if(e===null)throw new F(407,!1);let t=n.get(ZT,null),r=n.get(rr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function W0(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return DT(e,t,t==="svg"?HE:t==="math"?$E:null)}var to=class extends Cl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=$0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=q0(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=yP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ge(22);let c=W(null);try{let u=this.componentDef,l=K0(r,u,s,o),f=z0(u,i||this.ngModule,e),p=G0(f),m=p.rendererFactory.createRenderer(null,u),y=r?UP(m,r,u.encapsulation,f):W0(u,m),S=s?.some(Ow)||o?.some(k=>typeof k!="function"&&k.bindings.some(Ow)),M=wg(null,l,null,512|MT(u),null,null,p,m,f,null,ET(y,f,!0));M[ht]=y,Qu(M);let R=null;try{let k=eb(ht,M,2,"#host",()=>l.directiveRegistry,!0,0);y&&(NT(m,y,k),eo(y,M)),VT(l,M,k),TT(l,k,M),tb(l,k),t!==void 0&&Y0(k,this.ngContentSelectors,t),R=Rt(k.index,M),M[Fe]=R[Fe],Rg(l,M,null)}catch(k){throw R!==null&&Wp(R),Wp(M),k}finally{ge(23),Yu()}return new hl(this.componentType,M,!!S)}finally{W(c)}}};function K0(n,e,t,r){let i=n?["ng-version","20.1.6"]:vP(e.selectors[0]),o=null,s=null,c=0;if(t)for(let f of t)c+=f[rg].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[rg].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=sp(p);u.push(m)}return Eg(0,null,Q0(o,s),1,c,u,null,null,null,[i],null)}function Q0(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Ow(n){let e=n[rg].kind;return e==="input"||e==="twoWay"}var hl=class extends JT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Us(t[z],ht),this.location=mg(this._tNode,t),this.instance=Rt(this._tNode.index,t)[Fe],this.hostView=this.changeDetectorRef=new Xr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ag(r,i[z],i,e,t);this.previousInputValues.set(e,t);let s=Rt(r.index,i);Mg(s,1)}get injector(){return new Jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Y0(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Dl=(()=>{class n{static __NG_ELEMENT_ID__=J0}return n})();function J0(){let n=_t();return X0(n,ye())}var Z0=Dl,rb=class extends Z0{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return mg(this._hostTNode,this._hostLView)}get injector(){return new Jr(this._hostTNode,this._hostLView)}get parentInjector(){let e=gg(this._hostTNode,this._hostLView);if(nT(e)){let t=sl(e,this._hostLView),r=ol(e),i=t[z].data[r+8];return new Jr(i,t)}else return new Jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=eg(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,ll(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!MM(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let f=u?e:new to(sr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let k=(u?p:this.parentInjector).get(Ke,null);k&&(o=k)}let m=sr(f.componentType??{}),y=eg(this._lContainer,m?.id??null),S=y?.firstChild??null,M=f.create(p,i,S,o,s,c);return this.insertImpl(M.hostView,l,ll(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(qE(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ve],l=new rb(u,u[Dt],u[Ve]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Pg(s,i,o,r),e.attachToViewContainerRef(),np(Vp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ys(this._lContainer,t);r&&(xs(Vp(this._lContainer),t),Tl(r[z],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ys(this._lContainer,t);return r&&xs(Vp(this._lContainer),t)!=null?new Xr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kw(n){return n[Fs]}function Vp(n){return n[Fs]||(n[Fs]=[])}function X0(n,e){let t,r=e[n.index];return $t(r)?t=r:(t=QT(r,e,null,n),e[n.index]=t,Tg(e,t)),tx(t,e,n,r),new rb(t,n,e)}function ex(n,e){let t=n[we],r=t.createComment(""),i=nn(e,n),o=t.parentNode(i);return ul(t,o,r,t.nextSibling(i),!1),r}var tx=ix,nx=()=>!1;function rx(n,e,t){return nx(n,e,t)}function ix(n,e,t,r){if(n[ar])return;let i;t.type&8?i=At(r):i=ex(e,t),n[ar]=i}var Lw=new Set;function ia(n){Lw.has(n)||(Lw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var no=class{},Al=class{};var fl=class extends no{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new dl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=op(e);this._bootstrapComponents=CT(o.bootstrap),this._r3Injector=Dp(e,t,[{provide:no,useValue:this},{provide:ra,useValue:this.componentFactoryResolver},...r],Cn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pl=class extends Al{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new fl(this.moduleType,e,[])}};var Js=class extends no{injector;componentFactoryResolver=new dl(this);instance=null;constructor(e){super();let t=new Hr([...e.providers,{provide:no,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],e.parent||ks(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function oa(n,e,t=null){return new Js({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ox=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ap(!1,t.type),i=r.length>0?oa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(Z(Ke))})}return n})();function sa(n){return ea(()=>{let e=ib(n),t=B(A({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(ox).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Nn.Emulated,styles:n.styles||mt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ia("NgStandalone"),ob(t);let r=n.dependencies;return t.directiveDefs=Vw(r,sx),t.pipeDefs=Vw(r,OE),t.id=ux(t),t})}function sx(n){return sr(n)||sp(n)}function so(n){return ea(()=>({type:n.type,bootstrap:n.bootstrap||mt,declarations:n.declarations||mt,imports:n.imports||mt,exports:n.exports||mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ax(n,e){if(n==null)return or;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=wl.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function cx(n){if(n==null)return or;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Pt(n){return ea(()=>{let e=ib(n);return ob(e),e})}function ib(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||or,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ax(n.inputs,e),outputs:cx(n.outputs),debugInfo:null}}function ob(n){n.features?.forEach(e=>e(n))}function Vw(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function ux(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lx(n){return Object.getPrototypeOf(n.prototype).constructor}function Pn(n){let e=lx(n.type),t=!0,r=[n];for(;e;){let i;if(tn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Fp(n.inputs),s.declaredInputs=Fp(n.declaredInputs),s.outputs=Fp(n.outputs);let c=i.hostBindings;c&&gx(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&fx(n,u),l&&px(n,l),dx(n,i),DE(n.outputs,i.outputs),tn(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===Pn&&(t=!1)}}e=Object.getPrototypeOf(e)}hx(r)}function dx(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function hx(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ks(i.hostAttrs,t=Ks(t,i.hostAttrs))}}function Fp(n){return n===or?{}:n===mt?[]:n}function fx(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function px(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function gx(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function mx(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Ks(n.mergedAttrs,n.attrs);let f=n.tView=Eg(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),Ji(n,!1);let u=yx(t,e,n,r);Ju()&&Sg(t,e,u,n),eo(u,e);let l=QT(u,e,u,n);e[r+ht]=l,Tg(e,l),rx(l,n,e)}function Fw(n,e,t,r,i,o,s,c,u,l,f){let p=t+ht,m;if(e.firstCreatePass){if(m=xg(e,p,4,s||null,c||null),l!=null){let y=Yi(e.consts,l);m.localNames=[];for(let S=0;S<y.length;S+=2)m.localNames.push(y[S],-1)}}else m=e.data[p];return mx(m,n,e,t,r,i,o,u),l!=null&&FT(n,m,f),m}var yx=vx;function vx(n,e,t,r){return Zu(!0),e[we].createComment("")}var Og=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Og||{}),aa=new j(""),sb=!1,ig=class extends Pe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,UE()&&(this.destroyRef=P(lr,{optional:!0})??void 0,this.pendingTasks=P(Rn,{optional:!0})??void 0)}emit(e){let t=W(null);try{super.next(e)}finally{W(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ae=ig;function ab(n){let e,t;function r(){n=zs;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function jw(n){return queueMicrotask(()=>n()),()=>{n=zs}}var kg="isAngularZone",gl=kg+"_ID",_x=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sb}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,wx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ix,zs,zs);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Ix={};function Lg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ex(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ab(()=>{n.callbackScheduled=!1,og(n),n.isCheckStableRunning=!0,Lg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),og(n)}function wx(n){let e=()=>{Ex(n)},t=_x++;n._inner=n._inner.fork({name:"angular",properties:{[kg]:!0,[gl]:t,[gl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(Tx(u))return r.invokeTask(o,s,c,u);try{return Uw(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Bw(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Uw(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!bx(u)&&e(),Bw(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,og(n),Lg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function og(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Uw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bw(n){n._nesting--,Lg(n)}var Zs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Tx(n){return cb(n,"__ignore_ng_zone__")}function bx(n){return cb(n,"__scheduler_tick__")}function cb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ub=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();var Vg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Fg=new j("");function ii(n){return!!n&&typeof n.then=="function"}function lb(n){return!!n&&typeof n.subscribe=="function"}var db=new j("");var jg=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(db,{optional:!0})??[];injector=P(Bt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=at(this.injector,i);if(ii(o))t.push(o);else if(lb(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rl=new j("");function hb(){gf(()=>{let n="";throw new F(600,n)})}function fb(n){return n.isBoundToModule}var Cx=10;var dr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Nt);afterRenderManager=P(ub);zonelessEnabled=P(qs);rootEffectScheduler=P(Pp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Pe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Rn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ne(t=>!t))}constructor(){P(aa,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(Ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Bt.NULL){return this._injector.get(Oe).run(()=>{ge(10);let s=t instanceof Cl;if(!this._injector.get(jg).done){let S="";throw new F(405,S)}let u;s?u=t:u=this._injector.get(ra).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=fb(u)?void 0:this._injector.get(no),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(Fg,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ws(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ge(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Og.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=W(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,W(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ei,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Cx;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Bs(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ng(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Bs(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ws(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Rl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ws(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ws(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var sg=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function jp(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Sx(n,e,t){let r,i,o=0,s=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),f=e[o],p=jp(o,l,o,f,t);if(p!==0){p<0&&n.updateValue(o,f),o++;continue}let m=n.at(s),y=e[u],S=jp(s,m,u,y,t);if(S!==0){S<0&&n.updateValue(s,y),s--,u--;continue}let M=t(o,l),R=t(s,m),k=t(o,f);if(Object.is(k,R)){let X=t(u,y);Object.is(X,M)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(r??=new ml,i??=$w(n,o,s,t),ag(n,r,o,k))n.updateValue(o,f),o++,s++;else if(i.has(k))r.set(M,n.detach(o)),s--;else{let X=n.create(o,e[o]);n.attach(o,X),o++,s++}}for(;o<=u;)Hw(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=n.at(o),p=l.value,m=jp(o,f,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new ml,i??=$w(n,o,s,t);let y=t(o,p);if(ag(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let S=t(o,f);r.set(S,n.detach(o)),s--}}}for(;!l.done;)Hw(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function ag(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Hw(n,e,t,r,i){if(ag(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function $w(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var ml=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};var cg=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Qe}};function Ug(n){return n}var ug=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Bg(n,e,t,r,i,o,s,c,u,l,f,p,m){ia("NgControlFlow");let y=ye(),S=qt(),M=u!==void 0,R=ye(),k=c?s.bind(R[yt][Fe]):s,X=new ug(M,k);R[ht+n]=X,Fw(y,S,n+1,e,t,r,i,Yi(S.consts,o),256),M&&Fw(y,S,n+2,u,l,f,p,Yi(S.consts,m),512)}var lg=class extends sg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Qe}at(e){return this.getLView(e)[Fe].$implicit}attach(e,t){let r=t[zi];this.needsIndexUpdate||=e!==this.length,Pg(this.lContainer,t,e,ll(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Dx(this.lContainer,e)}create(e,t){let r=eg(this.lContainer,this.templateTNode.tView.ssrId),i=jT(this.hostLView,this.templateTNode,new cg(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Tl(e[z],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Fe].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Fe].$index=e}getLView(e){return Ax(this.lContainer,e)}};function Hg(n){let e=W(null),t=An();try{let r=ye(),i=r[z],o=r[t],s=t+1,c=qw(r,s);if(o.liveCollection===void 0){let l=zw(i,s);o.liveCollection=new lg(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(Sx(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Wu(),f=u.length===0;if(ti(r,l,f)){let p=t+2,m=qw(r,p);if(f){let y=zw(i,p),S=D0(m,y,r),M=jT(r,y,void 0,{dehydratedView:S});Pg(m,M,0,ll(y,S))}else i.firstUpdatePass&&T0(m),v0(m,0)}}}finally{W(e)}}function qw(n,e){return n[e]}function Dx(n,e){return Ys(n,e)}function Ax(n,e){return y0(n,e)}function zw(n,e){return Us(n,e)}function Gw(n,e,t,r,i){Ag(e,n,t,i?"class":"style",r)}function xt(n,e,t,r){let i=ye(),o=i[z],s=n+ht,c=o.firstCreatePass?eb(s,i,2,e,YP,JE(),t,r):o.data[s];if(ZP(c,i,n,e,Rx),qu(c)){let u=i[z];VT(u,i,c),TT(u,c,i)}return r!=null&&FT(i,c),xt}function Ot(){let n=qt(),e=_t(),t=XP(e);return n.firstCreatePass&&tb(n,t),XE(t)&&ew(),YE(),t.classesWithoutHost!=null&&FM(t)&&Gw(n,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&jM(t)&&Gw(n,t,ye(),t.stylesWithoutHost,!1),Ot}function ao(n,e,t,r){return xt(n,e,t,r),Ot(),ao}var Rx=(n,e,t,r,i)=>(Zu(!0),DT(e[we],r,fw()));var ca="en-US";var Nx=ca;function pb(n){typeof n=="string"&&(Nx=n.toLowerCase().replace(/_/g,"-"))}function xn(n,e,t){let r=ye(),i=qt(),o=_t();return gb(i,r,r[we],o,n,e,t),xn}function gb(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Lp(r,e,o),B0(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=Lp(r,e,o),xw(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Lp(r,e,o),xw(r,e,p,i,i,u)}}function el(n,e){return n<<17|e<<2}function ni(n){return n>>17&32767}function Mx(n){return(n&2)==2}function Px(n,e){return n&131071|e<<17}function dg(n){return n|2}function ro(n){return(n&131068)>>2}function Up(n,e){return n&-131069|e<<2}function xx(n){return(n&1)===1}function hg(n){return n|1}function Ox(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ni(s),u=ro(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||qi(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let m=ni(n[c+1]);n[r+1]=el(m,c),m!==0&&(n[m+1]=Up(n[m+1],r)),n[c+1]=Px(n[c+1],r)}else n[r+1]=el(c,0),c!==0&&(n[c+1]=Up(n[c+1],r)),c=r;else n[r+1]=el(u,0),c===0?c=r:n[u+1]=Up(n[u+1],r),u=r;l&&(n[r+1]=dg(n[r+1])),Ww(n,f,r,!0),Ww(n,f,r,!1),kx(e,f,n,r,o),s=el(c,u),o?e.classBindings=s:e.styleBindings=s}function kx(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&qi(o,e)>=0&&(t[r+1]=hg(t[r+1]))}function Ww(n,e,t,r){let i=n[t+1],o=e===null,s=r?ni(i):ro(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];Lx(u,e)&&(c=!0,n[s+1]=r?hg(l):dg(l)),s=r?ni(l):ro(l)}c&&(n[t+1]=r?dg(i):hg(i))}function Lx(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?qi(n,e)>=0:!1}function ua(n,e){return Vx(n,e,null,!0),ua}function Vx(n,e,t,r){let i=ye(),o=qt(),s=Tp(2);if(o.firstUpdatePass&&jx(o,n,s,r),e!==on&&ti(i,s,e)){let c=o.data[An()];qx(o,c,i,i[we],n,i[s+1]=zx(e,t),r,s)}}function Fx(n,e){return e>=n.expandoStartIndex}function jx(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[An()],s=Fx(n,t);Gx(o,r)&&e===null&&!s&&(e=!1),e=Ux(i,o,e,r),Ox(i,o,e,t,s,r)}}function Ux(n,e,t,r){let i=cw(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Bp(null,n,e,t,r),t=Xs(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Bp(i,n,e,t,r),o===null){let u=Bx(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Bp(null,n,e,u[1],r),u=Xs(u,e.attrs,r),Hx(n,e,r,u))}else o=$x(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Bx(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ro(r)!==0)return n[ni(r)]}function Hx(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ni(i)]=r}function $x(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Xs(r,s,t)}return Xs(r,e.attrs,t)}function Bp(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=Xs(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Xs(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),xE(n,s,t?!0:e[++o]))}return n===void 0?null:n}function qx(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],f=xx(l)?Kw(u,e,t,i,ro(l),s):void 0;if(!yl(f)){yl(o)||Mx(l)&&(o=Kw(u,null,t,i,c,s));let p=pp(An(),t);jP(r,s,p,i,o)}}function Kw(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=t[i+1];m===on&&(m=p?mt:void 0);let y=p?Bu(m,r):f===r?m:void 0;if(l&&!yl(y)&&(y=Bu(u,r)),yl(y)&&(c=y,s))return c;let S=n[i+1];i=s?ni(S):ro(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Bu(u,r))}return c}function yl(n){return n!==void 0}function zx(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Cn(bT(n)))),n}function Gx(n,e){return(n.flags&(e?8:16))!==0}function hr(n,e=""){let t=ye(),r=qt(),i=n+ht,o=r.firstCreatePass?xg(r,i,1,e,null):r.data[i],s=Wx(r,t,o,e,n);t[i]=s,Ju()&&Sg(r,t,s,o),Ji(o,!1)}var Wx=(n,e,t,r,i)=>(Zu(!0),_P(e[we],r));function Kx(n,e,t,r=""){return ti(n,Wu(),t)?e+$i(t)+r:on}function Qx(n,e,t,r,i,o,s,c=""){let u=rw(),l=U0(n,u,t,i,s);return Tp(3),l?e+$i(t)+r+$i(i)+o+$i(s)+c:on}function Nl(n){return la("",n),Nl}function la(n,e,t){let r=ye(),i=Kx(r,n,e,t);return i!==on&&mb(r,An(),i),la}function Ml(n,e,t,r,i,o,s){let c=ye(),u=Qx(c,n,e,t,r,i,o,s);return u!==on&&mb(c,An(),u),Ml}function mb(n,e,t){let r=pp(e,n);IP(n[we],r,t)}function Pl(n,e,t){Np(e)&&(e=e());let r=ye(),i=Wu();if(ti(r,i,e)){let o=qt(),s=hw();qP(s,r,n,e,r[we],t)}return Pl}function $g(n,e){let t=Np(n);return t&&n.set(e),t}function xl(n,e){let t=ye(),r=qt(),i=_t();return gb(r,t,t[we],i,n,e),xl}function Yx(n,e,t){let r=qt();if(r.firstCreatePass){let i=tn(n);fg(t,r.data,r.blueprint,i,!0),fg(e,r.data,r.blueprint,i,!1)}}function fg(n,e,t,r,i){if(n=We(n),Array.isArray(n))for(let o=0;o<n.length;o++)fg(n[o],e,t,r,i);else{let o=qt(),s=ye(),c=_t(),u=Br(n)?n:We(n.provide),l=up(n),f=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Br(n)||!n.multi){let y=new Zr(l,i,Te,null),S=$p(u,e,i?f:f+m,p);S===-1?(zp(al(c,s),o,u),Hp(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=$p(u,e,f+m,p),S=$p(u,e,f,f+m),M=y>=0&&t[y],R=S>=0&&t[S];if(i&&!R||!i&&!M){zp(al(c,s),o,u);let k=Xx(i?Zx:Jx,t.length,i,r,l,n);!i&&R&&(t[S].providerFactory=k),Hp(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=yb(t[i?S:y],l,!i&&r);Hp(o,n,y>-1?y:S,k)}!i&&r&&R&&t[S].componentProviders++}}}function Hp(n,e,t,r){let i=Br(e),o=jE(e);if(i||o){let u=(o?We(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(t);f===-1?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function yb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $p(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Jx(n,e,t,r,i){return pg(this.multi,[])}function Zx(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=cl(r,r[z],this.providerFactory.index,i);s=u.slice(0,c),pg(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],pg(o,s);return s}function pg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Xx(n,e,t,r,i,o){let s=new Zr(n,t,Te,null);return s.multi=[],s.index=e,s.componentProviders=0,yb(s,i,r&&!t),s}function da(n,e=[]){return t=>{t.providersResolver=(r,i)=>Yx(r,i?i(n):n,e)}}var vl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},qg=(()=>{class n{compileModuleSync(t){return new pl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=op(t),o=CT(i.declarations).reduce((s,c)=>{let u=sr(c);return u&&s.push(new to(u)),s},[]);return new vl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eO=(()=>{class n{zone=P(Oe);changeDetectionScheduler=P(rr);applicationRef=P(dr);applicationErrorHandler=P(Nt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(B(A({},_b()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:Sn,multi:!0,useFactory:()=>{let r=P(eO,{optional:!0});return()=>r.initialize()}},{provide:Sn,multi:!0,useFactory:()=>{let r=P(tO);return()=>{r.initialize()}}},e===!0?{provide:Mp,useValue:!0}:[],{provide:Xu,useValue:t??sb},{provide:Nt,useFactory:()=>{let r=P(Oe),i=P(Ke),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Xt),o.handleError(s))})}}}]}function _b(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var tO=(()=>{class n{subscription=new Se;initialized=!1;zone=P(Oe);pendingTasks=P(Rn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zg=(()=>{class n{applicationErrorHandler=P(Nt);appRef=P(dr);taskService=P(Rn);ngZone=P(Oe);zonelessEnabled=P(qs);tracing=P(aa,{optional:!0});disableScheduling=P(Mp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Xu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zs||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?jw:ab;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gg(){return ia("NgZoneless"),zr([{provide:rr,useExisting:zg},{provide:Oe,useClass:Zs},{provide:qs,useValue:!0},{provide:Xu,useValue:!1},[]])}function nO(){return typeof $localize<"u"&&$localize.locale||ca}var Wg=new j("",{providedIn:"root",factory:()=>P(Wg,{optional:!0,skipSelf:!0})||nO()});function sn(n){return bE(n)}function co(n,e){return au(n,e?.equal)}var Ib=class{[nt];constructor(e){this[nt]=e}destroy(){this[nt].destroy()}};var Tb=Symbol("InputSignalNode#UNSET"),hO=B(A({},cu),{transformFn:void 0,applyValueToInputSignal(n,e){Ni(n,e)}});function bb(n,e){let t=Object.create(hO);t.value=n,t.transformFn=e?.transform;function r(){if(Di(t),t.value===Tb){let i=null;throw new F(-950,i)}return t.value}return r[nt]=t,r}var fO=new j("");fO.__NG_ELEMENT_ID__=n=>{let e=_t();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function Eb(n,e){return bb(n,e)}function pO(n){return bb(Tb,n)}var Cb=(Eb.required=pO,Eb);var Kg=new j(""),gO=new j("");function ha(n){return!n.moduleRef}function mO(n){let e=ha(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{ha(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Nt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ha(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Kg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Kg);s.add(o),n.moduleRef.onDestroy(()=>{Ws(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return vO(r,t,()=>{let o=e.get(Rn),s=o.add(),c=e.get(jg);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Wg,ca);if(pb(u||ca),!e.get(gO,!0))return ha(n)?e.get(dr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ha(n)){let f=e.get(dr);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return yO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var yO;function vO(n,e,t){try{let r=t();return ii(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Ol=null;function _O(n=[],e){return Bt.create({name:e,providers:[{provide:Os,useValue:"platform"},{provide:Kg,useValue:new Set([()=>Ol=null])},...n]})}function IO(n=[]){if(Ol)return Ol;let e=_O(n);return Ol=e,hb(),EO(e),e}function EO(n){let e=n.get(Il,null);at(n,()=>{e?.forEach(t=>t())})}var kl=(()=>{class n{static __NG_ELEMENT_ID__=wO}return n})();function wO(n){return TO(_t(),ye(),(n&16)===16)}function TO(n,e,t){if(cr(n)&&!t){let r=Rt(n.index,e);return new Xr(r,r)}else if(n.type&175){let r=e[yt];return new Xr(r,e)}return null}function Sb(n){ge(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=IO(r),o=[vb({}),{provide:rr,useExisting:zg},gw,...t||[]],s=new Js({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return mO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ge(9)}}function Qg(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var Rb=null;function kt(){return Rb}function Yg(n){Rb??=n}var fa=class{},Jg=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(Nb),providedIn:"platform"})}return n})();var Nb=(()=>{class n extends Jg{_location;_history;_doc=P(je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kt().getBaseHref(this._doc)}onPopState(t){let r=kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Mb(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Db(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function fr(n){return n&&n[0]!=="?"?`?${n}`:n}var Ll=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(xb),providedIn:"root"})}return n})(),Pb=new j(""),xb=(()=>{class n extends Ll{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Mb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+fr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+fr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+fr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(Jg),Z(Pb,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uo=(()=>{class n{_subject=new Pe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SO(Db(Ab(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fr(r))}normalize(t){return n.stripTrailingSlash(CO(this._basePath,Ab(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=fr;static joinWithSlash=Mb;static stripTrailingSlash=Db;static \u0275fac=function(r){return new(r||n)(Z(Ll))};static \u0275prov=H({token:n,factory:()=>bO(),providedIn:"root"})}return n})();function bO(){return new uo(Z(Ll))}function CO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Ab(n){return n.replace(/\/index.html$/,"")}function SO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Zg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var pa=class{};var Ob="browser";var Fl=new j(""),rm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Z(Fl),Z(Oe))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),ga=class{_doc;constructor(e){this._doc=e}manager},Xg="ng-app-id";function kb(n){for(let e of n)e.remove()}function Lb(n,e){let t=e.createElement("style");return t.textContent=n,t}function DO(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Xg}="${e}"],link[${Xg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Xg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function tm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var im=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,DO(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Lb);r?.forEach(i=>this.addUsage(i,this.external,tm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(kb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])kb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Lb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,tm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Z(je),Z(_l),Z(El,8),Z(oo))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),em={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},om=/%COMP%/g;var Fb="%COMP%",AO=`_nghost-${Fb}`,RO=`_ngcontent-${Fb}`,NO=!0,MO=new j("",{providedIn:"root",factory:()=>NO});function PO(n){return RO.replace(om,n)}function xO(n){return AO.replace(om,n)}function jb(n,e){return e.map(t=>t.replace(om,n))}var sm=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new ma(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Vl?i.applyToHost(t):i instanceof ya&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Nn.Emulated:o=new Vl(u,l,r,this.appId,f,s,c,p,m);break;case Nn.ShadowDom:return new nm(u,l,t,r,s,c,this.nonce,p,m);default:o=new ya(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Z(rm),Z(im),Z(_l),Z(MO),Z(je),Z(oo),Z(Oe),Z(El),Z(aa,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),ma=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(em[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Vb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Vb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=em[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=em[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(t,r,i&Mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=kt().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Vb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var nm=class extends ma{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=jb(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=tm(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ya=class extends ma{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?jb(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Vl=class extends ya{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=PO(f),this.hostAttr=xO(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var jl=class n extends fa{supportsDOMEvents=!0;static makeCurrent(){Yg(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=OO();return t==null?null:kO(t)}resetBaseElement(){va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zg(document.cookie,e)}},va=null;function OO(){return va=va||document.head.querySelector("base"),va?va.getAttribute("href"):null}function kO(n){return new URL(n,document.baseURI).pathname}var LO=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Bb=(()=>{class n extends ga{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Z(je))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Ub=["alt","control","meta","shift"],VO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Hb=(()=>{class n extends ga{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kt().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),Ub.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=VO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ub.forEach(s=>{if(s!==i){let c=FO[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Z(je))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function am(n,e){let t=A({rootComponent:n},jO(e));return Sb(t)}function jO(n){return{appProviders:[...qO,...n?.providers??[]],platformProviders:$O}}function UO(){jl.makeCurrent()}function BO(){return new Xt}function HO(){return vg(document),document}var $O=[{provide:oo,useValue:Ob},{provide:Il,useValue:UO,multi:!0},{provide:je,useFactory:HO}];var qO=[{provide:Os,useValue:"root"},{provide:Xt,useFactory:BO},{provide:Fl,useClass:Bb,multi:!0,deps:[je]},{provide:Fl,useClass:Hb,multi:!0,deps:[je]},sm,im,rm,{provide:ei,useExisting:sm},{provide:pa,useClass:LO},[]];var $b=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Z(je))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y="primary",xa=Symbol("RouteTitle"),hm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ci(n){return new hm(n)}function Jb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function GO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!an(n[t],e[t]))return!1;return!0}function an(n,e){let t=n?fm(n):void 0,r=e?fm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Zb(n[i],e[i]))return!1;return!0}function fm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Zb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Xb(n){return n.length>0?n[n.length-1]:null}function Ln(n){return Df(n)?n:ii(n)?Ee(Promise.resolve(n)):q(n)}var WO={exact:tC,subset:nC},eC={exact:KO,subset:QO,ignored:()=>!0};function qb(n,e,t){return WO[t.paths](n.root,e.root,t.matrixParams)&&eC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function KO(n,e){return an(n,e)}function tC(n,e,t){if(!si(n.segments,e.segments)||!Hl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!tC(n.children[r],e.children[r],t))return!1;return!0}function QO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zb(n[t],e[t]))}function nC(n,e,t){return rC(n,e,e.segments,t)}function rC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!si(i,t)||e.hasChildren()||!Hl(i,t,r))}else if(n.segments.length===t.length){if(!si(n.segments,t)||!Hl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!nC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!si(n.segments,i)||!Hl(n.segments,i,r)||!n.children[Y]?!1:rC(n.children[Y],e,o,r)}}function Hl(n,e,t){return e.every((r,i)=>eC[t](n[i].parameters,r.parameters))}var un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){return ZO.serialize(this)}},he=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $l(this)}},pr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ci(this.parameters),this._parameterMap}toString(){return oC(this)}};function YO(n,e){return si(n,e)&&n.every((t,r)=>an(t.parameters,e[r].parameters))}function si(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function JO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Y&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Y&&(t=t.concat(e(i,r)))}),t}var Oa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new ui,providedIn:"root"})}return n})(),ui=class{parse(e){let t=new gm(e);return new un(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${_a(e.root,!0)}`,r=tk(e.queryParams),i=typeof e.fragment=="string"?`#${XO(e.fragment)}`:"";return`${t}${r}${i}`}},ZO=new ui;function $l(n){return n.segments.map(e=>oC(e)).join("/")}function _a(n,e){if(!n.hasChildren())return $l(n);if(e){let t=n.children[Y]?_a(n.children[Y],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Y&&r.push(`${i}:${_a(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=JO(n,(r,i)=>i===Y?[_a(n.children[Y],!1)]:[`${i}:${_a(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Y]!=null?`${$l(n)}/${t[0]}`:`${$l(n)}/(${t.join("//")})`}}function iC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ul(n){return iC(n).replace(/%3B/gi,";")}function XO(n){return encodeURI(n)}function pm(n){return iC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ql(n){return decodeURIComponent(n)}function zb(n){return ql(n.replace(/\+/g,"%20"))}function oC(n){return`${pm(n.path)}${ek(n.parameters)}`}function ek(n){return Object.entries(n).map(([e,t])=>`;${pm(e)}=${pm(t)}`).join("")}function tk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ul(t)}=${Ul(i)}`).join("&"):`${Ul(t)}=${Ul(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var nk=/^[^\/()?;#]+/;function cm(n){let e=n.match(nk);return e?e[0]:""}var rk=/^[^\/()?;=#]+/;function ik(n){let e=n.match(rk);return e?e[0]:""}var ok=/^[^=?&#]+/;function sk(n){let e=n.match(ok);return e?e[0]:""}var ak=/^[^&#]+/;function ck(n){let e=n.match(ak);return e?e[0]:""}var gm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Y]=new he(e,t)),r}parseSegment(){let e=cm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new pr(ql(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=ik(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cm(this.remaining);i&&(r=i,this.capture(r))}e[ql(t)]=ql(r)}parseQueryParam(e){let t=sk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=ck(this.remaining);s&&(r=s,this.capture(r))}let i=zb(t),o=zb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Y);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Y]:new he([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function sC(n){return n.segments.length>0?new he([],{[Y]:n}):n}function aC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=aC(i);if(r===Y&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new he(n.segments,e);return uk(t)}function uk(n){if(n.numberOfChildren===1&&n.children[Y]){let e=n.children[Y];return new he(n.segments.concat(e.segments),e.children)}return n}function go(n){return n instanceof un}function cC(n,e,t=null,r=null){let i=uC(n);return lC(i,e,t,r)}function uC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new he(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=sC(r);return e??i}function lC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return um(i,i,i,t,r);let o=lk(e);if(o.toRoot())return um(i,i,new he([],{}),t,r);let s=dk(o,i,n),c=s.processChildren?Ea(s.segmentGroup,s.index,o.commands):hC(s.segmentGroup,s.index,o.commands);return um(i,s.segmentGroup,c,t,r)}function zl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ba(n){return typeof n=="object"&&n!=null&&n.outlets}function um(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=dC(n,e,t);let c=sC(aC(s));return new un(c,o,i)}function dC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=dC(o,e,t)}),new he(n.segments,r)}var Gl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zl(r[0]))throw new F(4003,!1);let i=r.find(ba);if(i&&i!==Xb(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Gl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Gl(t,e,r)}var fo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function dk(n,e,t){if(n.isAbsolute)return new fo(e,!0,0);if(!t)return new fo(e,!1,NaN);if(t.parent===null)return new fo(t,!0,0);let r=zl(n.commands[0])?0:1,i=t.segments.length-1+r;return hk(t,i,n.numberOfDoubleDots)}function hk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new fo(r,!1,i-o)}function fk(n){return ba(n[0])?n[0].outlets:{[Y]:n}}function hC(n,e,t){if(n??=new he([],{}),n.segments.length===0&&n.hasChildren())return Ea(n,e,t);let r=pk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new he(n.segments.slice(0,r.pathIndex),{});return o.children[Y]=new he(n.segments.slice(r.pathIndex),n.children),Ea(o,0,i)}else return r.match&&i.length===0?new he(n.segments,{}):r.match&&!n.hasChildren()?mm(n,e,t):r.match?Ea(n,0,i):mm(n,e,t)}function Ea(n,e,t){if(t.length===0)return new he(n.segments,{});{let r=fk(t),i={};if(Object.keys(r).some(o=>o!==Y)&&n.children[Y]&&n.numberOfChildren===1&&n.children[Y].segments.length===0){let o=Ea(n.children[Y],e,t);return new he(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new he(n.segments,i)}}function pk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(ba(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Wb(u,l,s))return o;r+=2}else{if(!Wb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ba(o)){let u=gk(o.outlets);return new he(r,u)}if(i===0&&zl(t[0])){let u=n.segments[e];r.push(new pr(u.path,Gb(t[0]))),i++;continue}let s=ba(o)?o.outlets[Y]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&zl(c)?(r.push(new pr(s,Gb(c))),i+=2):(r.push(new pr(s,{})),i++)}return new he(r,{})}function gk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mm(new he([],{}),0,r))}),e}function Gb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Wb(n,e,t){return n==t.path&&an(e,t.parameters)}var wa="imperative",Ue=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ue||{}),Et=class{id;url;constructor(e,t){this.id=e,this.url=t}},li=class extends Et{type=Ue.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},On=class extends Et{urlAfterRedirects;type=Ue.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(ct||{}),Ca=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ca||{}),cn=class extends Et{reason;code;type=Ue.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kn=class extends Et{reason;code;type=Ue.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},mo=class extends Et{error;target;type=Ue.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sa=class extends Et{urlAfterRedirects;state;type=Ue.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wl=class extends Et{urlAfterRedirects;state;type=Ue.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kl=class extends Et{urlAfterRedirects;state;shouldActivate;type=Ue.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ql=class extends Et{urlAfterRedirects;state;type=Ue.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class extends Et{urlAfterRedirects;state;type=Ue.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jl=class{route;type=Ue.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zl=class{route;type=Ue.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xl=class{snapshot;type=Ue.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{snapshot;type=Ue.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},td=class{snapshot;type=Ue.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nd=class{snapshot;type=Ue.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Da=class{},yo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function mk(n){return!(n instanceof Da)&&!(n instanceof yo)}function yk(n,e){return n.providers&&!n._injector&&(n._injector=oa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Gt(n){return n.outlet||Y}function vk(n,e){let t=n.filter(r=>Gt(r)===e);return t.push(...n.filter(r=>Gt(r)!==e)),t}function Io(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var rd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Io(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Eo(this.rootInjector)}},Eo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Z(Ke))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),id=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ym(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ym(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vm(e,this._root).map(t=>t.value)}};function ym(n,e){if(n===e.value)return e;for(let t of e.children){let r=ym(n,t);if(r)return r}return null}function vm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vm(n,t);if(r.length)return r.unshift(e),r}return[]}var It=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ho(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Aa=class extends id{snapshot;constructor(e,t){super(e),this.snapshot=t,Sm(this,e)}toString(){return this.snapshot.toString()}};function fC(n){let e=_k(n),t=new Ge([new pr("",{})]),r=new Ge({}),i=new Ge({}),o=new Ge({}),s=new Ge(""),c=new gr(t,r,o,s,i,Y,n,e.root);return c.snapshot=e.root,new Aa(new It(c,[]),e)}function _k(n){let e={},t={},r={},i="",o=new ai([],e,r,i,t,Y,n,null,{});return new Ra("",new It(o,[]))}var gr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[xa]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function od(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:A(A({},e.params),n.params),data:A(A({},e.data),n.data),resolve:A(A(A(A({},n.data),e.data),i?.data),n._resolvedData)}:r={params:A({},n.params),data:A({},n.data),resolve:A(A({},n.data),n._resolvedData??{})},i&&gC(i)&&(r.resolve[xa]=i.title),r}var ai=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xa]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ra=class extends id{url;constructor(e,t){super(t),this.url=e,Sm(this,t)}toString(){return pC(this._root)}};function Sm(n,e){e.value._routerState=n,e.children.forEach(t=>Sm(n,t))}function pC(n){let e=n.children.length>0?` { ${n.children.map(pC).join(", ")} } `:"";return`${n.value}${e}`}function lm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,an(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),an(e.params,t.params)||n.paramsSubject.next(t.params),GO(e.url,t.url)||n.urlSubject.next(t.url),an(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _m(n,e){let t=an(n.params,e.params)&&YO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_m(n.parent,e.parent))}function gC(n){return typeof n.title=="string"||n.title===null}var mC=new j(""),ka=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Y;activateEvents=new Ae;deactivateEvents=new Ae;attachEvents=new Ae;detachEvents=new Ae;routerOutletData=Cb(void 0);parentContexts=P(Eo);location=P(Dl);changeDetector=P(kl);inputBinder=P(ud,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Im(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Pt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ta]})}return n})(),Im=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===gr?this.route:e===Eo?this.childContexts:e===mC?this.outletData:this.parent.get(e,t)}},ud=new j("");var Dm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=sa({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ao(0,"router-outlet")},dependencies:[ka],encapsulation:2})}return n})();function Am(n){let e=n.children&&n.children.map(Am),t=e?B(A({},n),{children:e}):A({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Y&&(t.component=Dm),t}function Ik(n,e,t){let r=Na(n,e._root,t?t._root:void 0);return new Aa(r,e)}function Na(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Ek(n,e,t);return new It(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Na(n,c)),s}}let r=wk(e.value),i=e.children.map(o=>Na(n,o));return new It(r,i)}}function Ek(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Na(n,r,i);return Na(n,r)})}function wk(n){return new gr(new Ge(n.url),new Ge(n.params),new Ge(n.queryParams),new Ge(n.fragment),new Ge(n.data),n.outlet,n.component,n)}var vo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},yC="ngNavigationCancelingError";function sd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vC(!1,ct.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function vC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[yC]=!0,t.cancellationCode=e,t}function Tk(n){return _C(n)&&go(n.url)}function _C(n){return!!n&&n[yC]}var bk=(n,e,t,r)=>ne(i=>(new Em(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Em=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ho(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ho(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ed(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(lm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),lm(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ad=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},po=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Ck(n,e,t){let r=n._root,i=e?e._root:null;return Ia(r,i,t,[r.value])}function Sk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function wo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Wf(n)?n:e.get(n):r}function Ia(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ho(e);return n.children.forEach(s=>{Dk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ta(c,t.getContext(s),i)),i}function Dk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Ak(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ad(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ia(n,e,c?c.children:null,r,i):Ia(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new po(c.outlet.component,s))}else s&&Ta(e,c,i),i.canActivateChecks.push(new ad(r)),o.component?Ia(n,null,c?c.children:null,r,i):Ia(n,null,t,r,i);return i}function Ak(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!si(n.url,e.url);case"pathParamsOrQueryParamsChange":return!si(n.url,e.url)||!an(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_m(n,e)||!an(n.queryParams,e.queryParams);case"paramsChange":default:return!_m(n,e)}}function Ta(n,e,t){let r=ho(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ta(s,e.children.getContext(o),t):Ta(s,null,t):Ta(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new po(e.outlet.component,i)):t.canDeactivateChecks.push(new po(null,i)):t.canDeactivateChecks.push(new po(null,i))}function La(n){return typeof n=="function"}function Rk(n){return typeof n=="boolean"}function Nk(n){return n&&La(n.canLoad)}function Mk(n){return n&&La(n.canActivate)}function Pk(n){return n&&La(n.canActivateChild)}function xk(n){return n&&La(n.canDeactivate)}function Ok(n){return n&&La(n.canMatch)}function IC(n){return n instanceof En||n?.name==="EmptyError"}var Bl=Symbol("INITIAL_VALUE");function _o(){return Ct(n=>Nu(n.map(e=>e.pipe(wn(1),Mf(Bl)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===Bl)return Bl;if(t===!1||kk(t))return t}return!0}),bt(e=>e!==Bl),wn(1)))}function kk(n){return go(n)||n instanceof vo}function Lk(n,e){return xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(B(A({},t),{guardsResult:!0})):Vk(s,r,i,n).pipe(xe(c=>c&&Rk(c)?Fk(r,o,n,e):q(c)),ne(c=>B(A({},t),{guardsResult:c})))})}function Vk(n,e,t,r){return Ee(n).pipe(xe(i=>$k(i.component,i.route,t,e,r)),Tn(i=>i!==!0,!0))}function Fk(n,e,t,r){return Ee(e).pipe(Ui(i=>ji(Uk(i.route.parent,r),jk(i.route,r),Hk(n,i.path,t),Bk(n,i.route,t))),Tn(i=>i!==!0,!0))}function jk(n,e){return n!==null&&e&&e(new td(n)),q(!0)}function Uk(n,e){return n!==null&&e&&e(new Xl(n)),q(!0)}function Bk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Ss(()=>{let s=Io(e)??t,c=wo(o,s),u=Mk(c)?c.canActivate(e,n):at(s,()=>c(e,n));return Ln(u).pipe(Tn())}));return q(i).pipe(_o())}function Hk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Sk(s)).filter(s=>s!==null).map(s=>Ss(()=>{let c=s.guards.map(u=>{let l=Io(s.node)??t,f=wo(u,l),p=Pk(f)?f.canActivateChild(r,n):at(l,()=>f(r,n));return Ln(p).pipe(Tn())});return q(c).pipe(_o())}));return q(o).pipe(_o())}function $k(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(c=>{let u=Io(e)??i,l=wo(c,u),f=xk(l)?l.canDeactivate(n,e,t,r):at(u,()=>l(n,e,t,r));return Ln(f).pipe(Tn())});return q(s).pipe(_o())}function qk(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let c=wo(s,n),u=Nk(c)?c.canLoad(e,t):at(n,()=>c(e,t));return Ln(u)});return q(o).pipe(_o(),EC(r))}function EC(n){return Tf(Le(e=>{if(typeof e!="boolean")throw sd(n,e)}),ne(e=>e===!0))}function zk(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let c=wo(s,n),u=Ok(c)?c.canMatch(e,t):at(n,()=>c(e,t));return Ln(u)});return q(o).pipe(_o(),EC(r))}var Ma=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Pa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function lo(n){return Fi(new Ma(n))}function Gk(n){return Fi(new F(4e3,!1))}function Wk(n){return Fi(vC(!1,ct.GuardRejected))}var wm=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[Y])return Gk(`${e.redirectTo}`);i=i.children[Y]}}applyRedirectCommands(e,t,r,i,o){return Kk(t,i,o).pipe(ne(s=>{if(s instanceof un)throw new Pa(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Pa(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new un(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new he(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Kk(n,e,t){if(typeof n=="string")return q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:f,title:p}=e;return Ln(at(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var Tm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qk(n,e,t,r,i){let o=wC(n,e,t);return o.matched?(r=yk(e,r),zk(r,e,t,i).pipe(ne(s=>s===!0?o:A({},Tm)))):q(o)}function wC(n,e,t){if(e.path==="**")return Yk(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?A({},Tm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Jb)(t,n,e);if(!i)return A({},Tm);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?A(A({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Yk(n){return{matched:!0,parameters:n.length>0?Xb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Kb(n,e,t,r){return t.length>0&&Xk(n,t,r)?{segmentGroup:new he(e,Zk(r,new he(t,n.children))),slicedSegments:[]}:t.length===0&&e1(n,t,r)?{segmentGroup:new he(n.segments,Jk(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new he(n.segments,n.children),slicedSegments:t}}function Jk(n,e,t,r){let i={};for(let o of t)if(ld(n,e,o)&&!r[Gt(o)]){let s=new he([],{});i[Gt(o)]=s}return A(A({},r),i)}function Zk(n,e){let t={};t[Y]=e;for(let r of n)if(r.path===""&&Gt(r)!==Y){let i=new he([],{});t[Gt(r)]=i}return t}function Xk(n,e,t){return t.some(r=>ld(n,e,r)&&Gt(r)!==Y)}function e1(n,e,t){return t.some(r=>ld(n,e,r))}function ld(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function t1(n,e,t){return e.length===0&&!n.children[t]}var bm=class{};function n1(n,e,t,r,i,o,s="emptyOnly"){return new Cm(n,e,t,r,i,s,o).recognize()}var r1=31,Cm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new wm(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=Kb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new It(r,t),o=new Ra("",i),s=cC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ai([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Y,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Y,t).pipe(ne(r=>({children:r,rootSnapshot:t})),er(r=>{if(r instanceof Pa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ma?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof It?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ee(o).pipe(Ui(s=>{let c=r.children[s],u=vk(t,s);return this.processSegmentGroup(e,u,c,s,i)}),Nf((s,c)=>(s.push(...c),s)),tr(null),Rf(),xe(s=>{if(s===null)return lo(r);let c=TC(s);return i1(c),q(c)}))}processSegment(e,t,r,i,o,s,c){return Ee(t).pipe(Ui(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(er(l=>{if(l instanceof Ma)return q(null);throw l}))),Tn(u=>!!u),er(u=>{if(IC(u))return t1(r,i,o)?q(new bm):lo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return Gt(r)!==s&&(s===Y||!ld(i,o,r))?lo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):lo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=wC(t,i,o);if(!u)return lo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>r1&&(this.allowRedirects=!1));let y=new ai(o,l,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Qb(i),Gt(i),i.component??i._loadedComponent??null,i,Yb(i)),S=od(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e).pipe(Ct(R=>this.applyRedirects.lineralizeSegments(i,R)),xe(R=>this.processSegment(e,r,t,R.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=Qk(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Ct(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ct(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new ai(m,p,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Qb(r),Gt(r),r.component??r._loadedComponent??null,r,Yb(r)),M=od(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:k}=Kb(t,m,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(ne(re=>new It(S,re)));if(l.length===0&&k.length===0)return q(new It(S,[]));let X=Gt(r)===o;return this.processSegment(f,l,R,k,X?Y:o,!0,S).pipe(ne(re=>new It(S,re instanceof It?[re]:[])))}))):lo(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):qk(e,t,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,t).pipe(Le(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Wk(t))):q({routes:[],injector:e})}};function i1(n){n.sort((e,t)=>e.value.outlet===Y?-1:t.value.outlet===Y?1:e.value.outlet.localeCompare(t.value.outlet))}function o1(n){let e=n.value.routeConfig;return e&&e.path===""}function TC(n){let e=[],t=new Set;for(let r of n){if(!o1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=TC(r.children);e.push(new It(r.value,i))}return e.filter(r=>!t.has(r))}function Qb(n){return n.data||{}}function Yb(n){return n.resolve||{}}function s1(n,e,t,r,i,o){return xe(s=>n1(n,e,t,r,s.extractedUrl,i,o).pipe(ne(({state:c,tree:u})=>B(A({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function a1(n,e){return xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of bC(u))s.add(l);let c=0;return Ee(s).pipe(Ui(u=>o.has(u)?c1(u,r,n,e):(u.data=od(u,u.parent,n).resolve,q(void 0))),Le(()=>c++),Bi(1),xe(u=>c===s.size?q(t):lt))})}function bC(n){let e=n.children.map(t=>bC(t)).flat();return[n,...e]}function c1(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!gC(i)&&(o[xa]=i.title),Ss(()=>(n.data=od(n,n.parent,t).resolve,u1(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=A(A({},n.data),s),null)))))}function u1(n,e,t,r){let i=fm(n);if(i.length===0)return q({});let o={};return Ee(i).pipe(xe(s=>l1(n[s],e,t,r).pipe(Tn(),Le(c=>{if(c instanceof vo)throw sd(new ui,c);o[s]=c}))),Bi(1),ne(()=>o),er(s=>IC(s)?lt:Fi(s)))}function l1(n,e,t,r){let i=Io(e)??r,o=wo(n,i),s=o.resolve?o.resolve(e,t):at(i,()=>o(e,t));return Ln(s)}function dm(n){return Ct(e=>{let t=n(e);return t?Ee(t).pipe(ne(()=>e)):q(e)})}var Rm=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Y);return r}getResolvedTitleForRoute(t){return t.data[xa]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(CC),providedIn:"root"})}return n})(),CC=(()=>{class n extends Rm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Z($b))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Va=new j("",{providedIn:"root",factory:()=>({})}),Fa=new j(""),SC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(qg);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ln(at(t,()=>r.loadComponent())).pipe(ne(AC),Le(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ds(()=>{this.componentLoaders.delete(r)})),o=new Vi(i,()=>new Pe).pipe(Li());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=DC(r,this.compiler,t,this.onLoadEndListener).pipe(Ds(()=>{this.childrenLoaders.delete(r)})),s=new Vi(o,()=>new Pe).pipe(Li());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DC(n,e,t,r){return Ln(at(t,()=>n.loadChildren())).pipe(ne(AC),xe(i=>i instanceof Al||Array.isArray(i)?q(i):Ee(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Fa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Am),injector:o}}))}function d1(n){return n&&typeof n=="object"&&"default"in n}function AC(n){return d1(n)?n.default:n}var dd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(h1),providedIn:"root"})}return n})(),h1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RC=new j("");var NC=new j(""),MC=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Pe;transitionAbortWithErrorSubject=new Pe;configLoader=P(SC);environmentInjector=P(Ke);destroyRef=P(lr);urlSerializer=P(Oa);rootContexts=P(Eo);location=P(uo);inputBindingEnabled=P(ud,{optional:!0})!==null;titleStrategy=P(Rm);options=P(Va,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(dd);createViewTransition=P(RC,{optional:!0});navigationErrorHandler=P(NC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Jl(i)),r=i=>this.events.next(new Zl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(B(A({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Ge(null),this.transitions.pipe(bt(r=>r!==null),Ct(r=>{let i=!1;return q(r).pipe(Ct(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ct.SupersededByNewNavigation),lt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?B(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload"){let u="";return this.events.next(new kn(o.id,this.urlSerializer.serialize(o.rawUrl),u,Ca.IgnoredSameUrlNavigation)),o.resolve(!1),lt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe(Ct(u=>(this.events.next(new li(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?lt:Promise.resolve(u))),s1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=B(A({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Sa(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:m}=o,y=new li(u,this.urlSerializer.serialize(l),f,p);this.events.next(y);let S=fC(this.rootComponentType).snapshot;return this.currentTransition=r=B(A({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:B(A({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,q(r)}else{let u="";return this.events.next(new kn(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Ca.IgnoredByUrlHandlingStrategy)),o.resolve(!1),lt}}),Le(o=>{let s=new Wl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ne(o=>(this.currentTransition=r=B(A({},o),{guards:Ck(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Lk(this.environmentInjector,o=>this.events.next(o)),Le(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw sd(this.urlSerializer,o.guardsResult);let s=new Kl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),bt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ct.GuardRejected),!1)),dm(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(Le(s=>{let c=new Ql(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Ct(s=>{let c=!1;return q(s).pipe(a1(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",ct.NoDataFromResolver)}}))}),Le(s=>{let c=new Yl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),dm(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent){let l=Io(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(Le(f=>{c.component=f}),ne(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return Nu(s(o.targetSnapshot.root)).pipe(tr(null),wn(1))}),dm(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Ee(c).pipe(ne(()=>r)):q(r)}),ne(o=>{let s=Ik(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=B(A({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Le(()=>{this.events.next(new Da)}),bk(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),wn(1),Pu(new ie(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(bt(()=>!i&&!r.targetRouterState),Le(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ct.Aborted)}))),Le({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Pu(this.transitionAbortWithErrorSubject.pipe(Le(o=>{throw o}))),Ds(()=>{i||this.cancelNavigationTransition(r,"",ct.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),er(o=>{if(this.destroyed)return r.resolve(!1),lt;if(i=!0,_C(o))this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Tk(o)?this.events.next(new yo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new mo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=at(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof vo){let{message:u,cancellationCode:l}=sd(this.urlSerializer,c);this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new yo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return lt}))}))}cancelNavigationTransition(t,r,i){let o=new cn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f1(n){return n!==wa}var PC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(p1),providedIn:"root"})}return n})(),cd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},p1=(()=>{class n extends cd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xC=(()=>{class n{urlSerializer=P(Oa);options=P(Va,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(uo);urlHandlingStrategy=P(dd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=fC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>P(g1),providedIn:"root"})}return n})(),g1=(()=>{class n extends xC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof li?this.updateStateMemento():t instanceof kn?this.commitTransition(r):t instanceof Sa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Da?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof cn&&t.code!==ct.SupersededByNewNavigation&&t.code!==ct.Redirect?this.restoreHistory(r):t instanceof mo?this.restoreHistory(r,!0):t instanceof On&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=A(A({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=A(A({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nm(n,e){n.events.pipe(bt(t=>t instanceof On||t instanceof cn||t instanceof mo||t instanceof kn),ne(t=>t instanceof On||t instanceof kn?0:(t instanceof cn?t.code===ct.Redirect||t.code===ct.SupersededByNewNavigation:!1)?2:1),bt(t=>t!==2),wn(1)).subscribe(()=>{e()})}var m1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Vg);stateManager=P(xC);options=P(Va,{optional:!0})||{};pendingTasks=P(Rn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(MC);urlSerializer=P(Oa);location=P(uo);urlHandlingStrategy=P(dd);injector=P(Ke);_events=new Pe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(PC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Fa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(ud,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Se;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof cn&&r.code!==ct.Redirect&&r.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof On)this.navigated=!0;else if(r instanceof yo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=A({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||f1(i.source)},s);this.scheduleNavigation(c,wa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=A({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Nt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Am),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=A(A({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=uC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return lC(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=go(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wa,null,r)}navigate(t,r={skipLocationChange:!1}){return v1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=A({},m1):r===!1?i=A({},y1):i=r,go(t))return qb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return qb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return Nm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var I1=new j("");function Mm(n,...e){return zr([{provide:Fa,multi:!0,useValue:n},[],{provide:gr,useFactory:E1,deps:[hd]},{provide:Rl,multi:!0,useFactory:w1},e.map(t=>t.\u0275providers)])}function E1(n){return n.routerState.root}function w1(){let n=P(Bt);return e=>{let t=n.get(dr);if(e!==t.components[0])return;let r=n.get(hd),i=n.get(T1);n.get(b1)===1&&r.initialNavigation(),n.get(C1,null,{optional:!0})?.setUpPreloading(),n.get(I1,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var T1=new j("",{factory:()=>new Pe}),b1=new j("",{providedIn:"root",factory:()=>1});var C1=new j("");var OC=[];var kC={providers:[Ap(),Gg(),Mm(OC)]};var $C=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Te(Sl),Te(na))};static \u0275dir=Pt({type:n})}return n})(),D1=(()=>{class n extends $C{static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275dir=Pt({type:n,features:[Pn]})}return n})(),qC=new j("");var A1={provide:qC,useExisting:ir(()=>Id),multi:!0};function R1(){let n=kt()?kt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var N1=new j(""),Id=(()=>{class n extends $C{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!R1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Te(Sl),Te(na),Te(N1,8))};static \u0275dir=Pt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&xn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[da([A1]),Pn]})}return n})();var zC=new j(""),GC=new j("");function WC(n){return n!=null}function KC(n){return ii(n)?Ee(n):n}function QC(n){let e={};return n.forEach(t=>{e=t!=null?A(A({},e),t):e}),Object.keys(e).length===0?null:e}function YC(n,e){return e.map(t=>t(n))}function M1(n){return!n.validate}function JC(n){return n.map(e=>M1(e)?e:t=>e.validate(t))}function P1(n){if(!n)return null;let e=n.filter(WC);return e.length==0?null:function(t){return QC(YC(t,e))}}function km(n){return n!=null?P1(JC(n)):null}function x1(n){if(!n)return null;let e=n.filter(WC);return e.length==0?null:function(t){let r=YC(t,e).map(KC);return Af(r).pipe(ne(QC))}}function Lm(n){return n!=null?x1(JC(n)):null}function LC(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function O1(n){return n._rawValidators}function k1(n){return n._rawAsyncValidators}function Pm(n){return n?Array.isArray(n)?n:[n]:[]}function pd(n,e){return Array.isArray(n)?n.includes(e):n===e}function VC(n,e){let t=Pm(e);return Pm(n).forEach(i=>{pd(t,i)||t.push(i)}),t}function FC(n,e){return Pm(e).filter(t=>!pd(n,t))}var gd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=km(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Co=class extends gd{name;get formDirective(){return null}get path(){return null}},qa=class extends gd{_parent=null;name=null;valueAccessor=null},md=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},L1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kQ=B(A({},L1),{"[class.ng-submitted]":"isSubmitted"}),ZC=(()=>{class n extends md{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Te(qa,2))};static \u0275dir=Pt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ua("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Pn]})}return n})(),XC=(()=>{class n extends md{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Te(Co,10))};static \u0275dir=Pt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ua("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Pn]})}return n})();var ja="VALID",fd="INVALID",To="PENDING",Ua="DISABLED",mr=class{},yd=class extends mr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ha=class extends mr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},$a=class extends mr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},bo=class extends mr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},xm=class extends mr{source;constructor(e){super(),this.source=e}},Om=class extends mr{source;constructor(e){super(),this.source=e}};function eS(n){return(Ed(n)?n.validators:n)||null}function V1(n){return Array.isArray(n)?km(n):n||null}function tS(n,e){return(Ed(e)?e.asyncValidators:n)||null}function F1(n){return Array.isArray(n)?Lm(n):n||null}function Ed(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function j1(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function U1(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new F(1002,"")})}var vd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return sn(this.statusReactive)}set status(e){sn(()=>this.statusReactive.set(e))}_status=co(()=>this.statusReactive());statusReactive=Mt(void 0);get valid(){return this.status===ja}get invalid(){return this.status===fd}get pending(){return this.status==To}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}errors;get pristine(){return sn(this.pristineReactive)}set pristine(e){sn(()=>this.pristineReactive.set(e))}_pristine=co(()=>this.pristineReactive());pristineReactive=Mt(!0);get dirty(){return!this.pristine}get touched(){return sn(this.touchedReactive)}set touched(e){sn(()=>this.touchedReactive.set(e))}_touched=co(()=>this.touchedReactive());touchedReactive=Mt(!1);get untouched(){return!this.touched}_events=new Pe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(VC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(VC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FC(e,this._rawAsyncValidators))}hasValidator(e){return pd(this._rawValidators,e)}hasAsyncValidator(e){return pd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(A({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(A({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ha(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ha(!0,r))}markAsPending(e={}){this.status=To;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(A({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(i=>{i.disable(B(A({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yd(this.value,r)),this._events.next(new bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(A({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable(B(A({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(A({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===To)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yd(this.value,t)),this._events.next(new bo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(A({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=To,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=KC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new bo(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?fd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(To)?To:this._anyControlsHaveStatus(fd)?fd:ja}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ha(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $a(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ed(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=V1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=F1(this._rawAsyncValidators)}},_d=class extends vd{constructor(e,t,r){super(eS(t),tS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){U1(this,!0,e),Object.keys(e).forEach(r=>{j1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vm=new j("",{providedIn:"root",factory:()=>Fm}),Fm="always";function B1(n,e){return[...e.path,n]}function nS(n,e,t=Fm){rS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$1(n,e),z1(n,e),q1(n,e),H1(n,e)}function jC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function H1(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function rS(n,e){let t=O1(n);e.validator!==null?n.setValidators(LC(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=k1(n);e.asyncValidator!==null?n.setAsyncValidators(LC(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();jC(e._rawValidators,i),jC(e._rawAsyncValidators,i)}function $1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&iS(n,e)})}function q1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&iS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function iS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z1(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function G1(n,e){n==null,rS(n,e)}function W1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function K1(n){return Object.getPrototypeOf(n.constructor)===D1}function Q1(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Y1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Id?t=o:K1(o)?r=o:i=o}),i||r||t||null}var J1={provide:Co,useExisting:ir(()=>jm)},Ba=Promise.resolve(),jm=(()=>{class n extends Co{callSetDisabledState;get submitted(){return sn(this.submittedReactive)}_submitted=co(()=>this.submittedReactive());submittedReactive=Mt(!1);_directives=new Set;form;ngSubmit=new Ae;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new _d({},km(t),Lm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ba.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),nS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ba.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ba.then(()=>{let r=this._findContainer(t.path),i=new _d({});G1(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ba.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ba.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Q1(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new xm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Om(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Te(zC,10),Te(GC,10),Te(Vm,8))};static \u0275dir=Pt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&xn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[da([J1]),Pn]})}return n})();function UC(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function BC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Z1=class extends vd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(eS(t),tS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(t)&&(t.nonNullable||t.initialValueIsDefault)&&(BC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){BC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var X1={provide:qa,useExisting:ir(()=>Um)},HC=Promise.resolve(),Um=(()=>{class n extends qa{_changeDetectorRef;callSetDisabledState;control=new Z1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ae;constructor(t,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Y1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),W1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){HC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Qg(r);HC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?B1(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Te(Co,9),Te(zC,10),Te(GC,10),Te(qC,10),Te(kl,8),Te(Vm,8))};static \u0275dir=Pt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[da([X1]),Pn,ta]})}return n})();var oS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Pt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var eL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=so({type:n});static \u0275inj=$r({})}return n})();var sS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vm,useValue:t.callSetDisabledState??Fm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=so({type:n});static \u0275inj=$r({imports:[eL]})}return n})();var aS=()=>{};var lS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},nL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[f],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Hm;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Hm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rL=function(n){let e=lS(n);return dS.encodeByteArray(e,!0)},Ga=function(n){return rL(n).replace(/\./g,"")},Td=function(n){try{return dS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var iL=()=>hS().__FIREBASE_DEFAULTS__,oL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Td(n[1]);return e&&JSON.parse(e)},bd=()=>{try{return aS()||iL()||oL()||sL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qm=n=>bd()?.emulatorHosts?.[n],fS=n=>{let e=qm(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zm=()=>bd()?.config,Gm=n=>bd()?.[`_${n}`];var wd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function yr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cd(n){return(await fetch(n,{credentials:"include"})).ok}function pS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=A({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ga(JSON.stringify(t)),Ga(JSON.stringify(s)),""].join(".")}var za={};function aL(){let n={prod:[],emulator:[]};for(let e of Object.keys(za))za[e]?n.emulator.push(e):n.prod.push(e);return n}function cL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var cS=!1;function Sd(n,e){if(typeof window>"u"||typeof document>"u"||!yr(window.location.host)||za[n]===e||za[n]||cS)return;za[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=aL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{cS=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=cL(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),k=t("preprendIcon"),X=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let re=m.element;c(re),f(R,M);let qe=l();u(X,k),re.append(X,S,R,qe),document.body.appendChild(re)}o?(S.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function uL(){let n=bd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){let n=Be();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IS(){return!uL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wm(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var lL="FirebaseError",wt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new wt(i,c,r)}};function dL(n,e){return n.replace(hL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var hL=/\{\$([^}]+)}/g;function wS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ln(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(uS(o)&&uS(s)){if(!ln(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function uS(n){return n!==null&&typeof n=="object"}function So(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function TS(n,e){let t=new $m(n,e);return t.subscribe.bind(t)}var $m=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Bm),i.error===void 0&&(i.error=Bm),i.complete===void 0&&(i.complete=Bm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bm(){}var UQ=4*60*60*1e3;function Wt(n){return n&&n._delegate?n._delegate:n}var Lt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var Km=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new wd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gL(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pL(n){return n===di?void 0:n}function gL(n){return n.instantiationMode==="EAGER"}var Dd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Km(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var mL=[],ee=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ee||{}),yL={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},vL=ee.INFO,_L={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},IL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=_L[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vr=class{constructor(e){this.name=e,this._logLevel=vL,this._logHandler=IL,this._userLogHandler=null,mL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var EL=(n,e)=>e.some(t=>n instanceof t),bS,CS;function wL(){return bS||(bS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TL(){return CS||(CS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SS=new WeakMap,Ym=new WeakMap,DS=new WeakMap,Qm=new WeakMap,Zm=new WeakMap;function bL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(dn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&SS.set(t,n)}).catch(()=>{}),Zm.set(e,n),e}function CL(n){if(Ym.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ym.set(n,e)}var Jm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ym.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AS(n){Jm=n(Jm)}function SL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ad(this),e,...t);return DS.set(r,e.sort?e.sort():[e]),dn(r)}:TL().includes(n)?function(...e){return n.apply(Ad(this),e),dn(SS.get(this))}:function(...e){return dn(n.apply(Ad(this),e))}}function DL(n){return typeof n=="function"?SL(n):(n instanceof IDBTransaction&&CL(n),EL(n,wL())?new Proxy(n,Jm):n)}function dn(n){if(n instanceof IDBRequest)return bL(n);if(Qm.has(n))return Qm.get(n);let e=DL(n);return e!==n&&(Qm.set(n,e),Zm.set(e,n)),e}var Ad=n=>Zm.get(n);function NS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dn(s.result),u.oldVersion,u.newVersion,dn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var AL=["get","getKey","getAll","getAllKeys","count"],RL=["put","add","delete","clear"],Xm=new Map;function RS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=RL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AL.includes(t)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[t](...c),i&&u.done]))[0]};return Xm.set(e,o),o}AS(n=>B(A({},n),{get:(e,t,r)=>RS(e,t)||n.get(e,t,r),has:(e,t)=>!!RS(e,t)||n.has(e,t)}));var ty=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function NL(n){return n.getComponent()?.type==="VERSION"}var ny="@firebase/app",MS="0.14.1";var Fn=new vr("@firebase/app"),ML="@firebase/app-compat",PL="@firebase/analytics-compat",xL="@firebase/analytics",OL="@firebase/app-check-compat",kL="@firebase/app-check",LL="@firebase/auth",VL="@firebase/auth-compat",FL="@firebase/database",jL="@firebase/data-connect",UL="@firebase/database-compat",BL="@firebase/functions",HL="@firebase/functions-compat",$L="@firebase/installations",qL="@firebase/installations-compat",zL="@firebase/messaging",GL="@firebase/messaging-compat",WL="@firebase/performance",KL="@firebase/performance-compat",QL="@firebase/remote-config",YL="@firebase/remote-config-compat",JL="@firebase/storage",ZL="@firebase/storage-compat",XL="@firebase/firestore",eV="@firebase/ai",tV="@firebase/firestore-compat",nV="firebase",rV="12.1.0";var ry="[DEFAULT]",iV={[ny]:"fire-core",[ML]:"fire-core-compat",[xL]:"fire-analytics",[PL]:"fire-analytics-compat",[kL]:"fire-app-check",[OL]:"fire-app-check-compat",[LL]:"fire-auth",[VL]:"fire-auth-compat",[FL]:"fire-rtdb",[jL]:"fire-data-connect",[UL]:"fire-rtdb-compat",[BL]:"fire-fn",[HL]:"fire-fn-compat",[$L]:"fire-iid",[qL]:"fire-iid-compat",[zL]:"fire-fcm",[GL]:"fire-fcm-compat",[WL]:"fire-perf",[KL]:"fire-perf-compat",[QL]:"fire-rc",[YL]:"fire-rc-compat",[JL]:"fire-gcs",[ZL]:"fire-gcs-compat",[XL]:"fire-fst",[tV]:"fire-fst-compat",[eV]:"fire-vertex","fire-js":"fire-js",[nV]:"fire-js-all"};var Rd=new Map,oV=new Map,iy=new Map;function PS(n,e){try{n.container.addComponent(e)}catch(t){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ir(n){let e=n.name;if(iy.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,n);for(let t of Rd.values())PS(t,n);for(let t of oV.values())PS(t,n);return!0}function Ka(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tt(n){return n==null?!1:n.settings!==void 0}var sV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Vn("app","Firebase",sV);var oy=class{constructor(e,t,r){this._isDeleted=!1,this._options=A({},e),this._config=A({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}};var Er=rV;function Qa(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=A({name:ry,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw _r.create("bad-app-name",{appName:String(i)});if(t||(t=zm()),!t)throw _r.create("no-options");let o=Rd.get(i);if(o){if(ln(t,o.options)&&ln(r,o.config))return o;throw _r.create("duplicate-app",{appName:i})}let s=new Dd(i);for(let u of iy.values())s.addComponent(u);let c=new oy(t,r,s);return Rd.set(i,c),c}function Nd(n=ry){let e=Rd.get(n);if(!e&&n===ry&&zm())return Qa();if(!e)throw _r.create("no-app",{appName:n});return e}function Kt(n,e,t){let r=iV[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(s.join(" "));return}Ir(new Lt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var aV="firebase-heartbeat-database",cV=1,Wa="firebase-heartbeat-store",ey=null;function LS(){return ey||(ey=NS(aV,cV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wa)}catch(t){console.warn(t)}}}}).catch(n=>{throw _r.create("idb-open",{originalErrorMessage:n.message})})),ey}async function uV(n){try{let t=(await LS()).transaction(Wa),r=await t.objectStore(Wa).get(VS(n));return await t.done,r}catch(e){if(e instanceof wt)Fn.warn(e.message);else{let t=_r.create("idb-get",{originalErrorMessage:e?.message});Fn.warn(t.message)}}}async function xS(n,e){try{let r=(await LS()).transaction(Wa,"readwrite");await r.objectStore(Wa).put(e,VS(n)),await r.done}catch(t){if(t instanceof wt)Fn.warn(t.message);else{let r=_r.create("idb-set",{originalErrorMessage:t?.message});Fn.warn(r.message)}}}function VS(n){return`${n.name}!${n.options.appId}`}var lV=1024,dV=30,sy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ay(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>dV){let i=fV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=OS(),{heartbeatsToSend:t,unsentEntries:r}=hV(this._heartbeatsCache.heartbeats),i=Ga(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fn.warn(e),""}}};function OS(){return new Date().toISOString().substring(0,10)}function hV(n,e=lV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ay=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wm()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await uV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function kS(n){return Ga(JSON.stringify({version:2,heartbeats:n})).length}function fV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function pV(n){Ir(new Lt("platform-logger",e=>new ty(e),"PRIVATE")),Ir(new Lt("heartbeat",e=>new sy(e),"PRIVATE")),Kt(ny,MS,n),Kt(ny,MS,"esm2020"),Kt("fire-js","")}pV("");var gV="firebase",mV="12.1.0";Kt(gV,mV,"app");function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XS=ZS,eD=new Vn("auth","Firebase",ZS());var Ld=new vr("@firebase/auth");function yV(n,...e){Ld.logLevel<=ee.WARN&&Ld.warn(`Auth (${Er}): ${n}`,...e)}function Pd(n,...e){Ld.logLevel<=ee.ERROR&&Ld.error(`Auth (${Er}): ${n}`,...e)}function fn(n,...e){throw Sy(n,...e)}function hi(n,...e){return Sy(n,...e)}function Cy(n,e,t){let r=B(A({},XS()),{[e]:t});return new Vn("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return Cy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vV(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&fn(n,"argument-error"),Cy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eD.create(n,...e)}function $(n,e,...t){if(!n)throw Sy(e,...t)}function jn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pd(e),new Error(e)}function Cr(n,e){n||jn(e)}function ly(){return typeof self<"u"&&self.location?.href||""}function _V(){return FS()==="http:"||FS()==="https:"}function FS(){return typeof self<"u"&&self.location?.protocol||null}function IV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_V()||yS()||"connection"in navigator)?navigator.onLine:!0}function EV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var fi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=gS()||vS()}get(){return IV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dy(n,e){Cr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bV=new fi(3e4,6e4);function Ay(n,e){return n.tenantId&&!e.tenantId?B(A({},e),{tenantId:n.tenantId}):e}async function Ao(n,e,t,r,i={}){return tD(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=So(A({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=A({method:e,headers:u},o);return mS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&yr(n.emulatorConfig.host)&&(l.credentials="include"),Vd.fetch()(await nD(n,n.config.apiHost,t,c),l)})}async function tD(n,e,t){n._canInitEmulator=!1;let r=A(A({},wV),e);try{let i=new dy(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Md(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Md(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Cy(n,f,l);fn(n,f)}}catch(i){if(i instanceof wt)throw i;fn(n,"network-request-failed",{message:String(i)})}}async function CV(n,e,t,r,i={}){let o=await Ao(n,e,t,r,i);return"mfaPendingCredential"in o&&fn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function nD(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Dy(n.config,i):`${n.config.apiScheme}://${i}`;return TV.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var dy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),bV.get())})}};function Md(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=hi(n,e,r);return i.customData._tokenResponse=t,i}async function SV(n,e){return Ao(n,"POST","/v1/accounts:delete",e)}async function Fd(n,e){return Ao(n,"POST","/v1/accounts:lookup",e)}function Ya(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rD(n,e=!1){let t=Wt(n),r=await t.getIdToken(e),i=Ry(r);$(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ya(cy(i.auth_time)),issuedAtTime:Ya(cy(i.iat)),expirationTime:Ya(cy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function cy(n){return Number(n)*1e3}function Ry(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Td(t);return i?JSON.parse(i):(Pd("Failed to decode base64 JWT payload"),null)}catch(i){return Pd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jS(n){let e=Ry(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Za(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wt&&DV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var hy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Xa=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function jd(n){let e=n.auth,t=await n.getIdToken(),r=await Za(n,Fd(e,{idToken:t}));$(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?oD(i.providerUserInfo):[],s=AV(n.providerData,o),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Xa(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,f)}async function iD(n){let e=Wt(n);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oD(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Yc(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function RV(n,e){let t=await tD(n,{},async()=>{let r=So({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await nD(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&yr(n.emulatorConfig.host)&&(u.credentials="include"),Vd.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function NV(n,e){return Ao(n,"POST","/v2/accounts:revokeToken",Ay(n,e))}var Ja=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,"internal-error");let t=jS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await RV(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&($(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&($(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return jn("not implemented")}};function wr(n,e){$(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Tr=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=Yc(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xa(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await Za(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rD(this,e)}reload(){return iD(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>A({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(B(A({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(br(this.auth));let e=await this.getIdToken();return await Za(this,SV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return B(A({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>A({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:M}=t;$(p&&M,e,"internal-error");let R=Ja.fromJSON(this.name,M);$(typeof p=="string",e,"internal-error"),wr(r,e.name),wr(i,e.name),$(typeof m=="boolean",e,"internal-error"),$(typeof y=="boolean",e,"internal-error"),wr(o,e.name),wr(s,e.name),wr(c,e.name),wr(u,e.name),wr(l,e.name),wr(f,e.name);let k=new n({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:c,stsTokenManager:R,createdAt:l,lastLoginAt:f});return S&&Array.isArray(S)&&(k.providerData=S.map(X=>A({},X))),u&&(k._redirectEventId=u),k}static async _fromIdTokenResponse(e,t,r=!1){let i=new Ja;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jd(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];$(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?oD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ja;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var US=new Map;function Un(n){Cr(n instanceof Function,"Expected a class definition");let e=US.get(n);return e?(Cr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,US.set(n,e),e)}var MV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),fy=MV;function xd(n,e,t){return`firebase:${n}:${e}:${t}`}var Ud=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=xd(this.userKey,i.apiKey,o),this.fullPersistenceKey=xd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Fd(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Un(fy),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Un(fy),s=xd(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await Fd(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Tr._fromGetAccountInfoResponse(e,m,f)}else p=Tr._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function BS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dD(e))return"Blackberry";if(hD(e))return"Webos";if(aD(e))return"Safari";if((e.includes("chrome/")||cD(e))&&!e.includes("edge/"))return"Chrome";if(lD(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sD(n=Be()){return/firefox\//i.test(n)}function aD(n=Be()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cD(n=Be()){return/crios\//i.test(n)}function uD(n=Be()){return/iemobile/i.test(n)}function lD(n=Be()){return/android/i.test(n)}function dD(n=Be()){return/blackberry/i.test(n)}function hD(n=Be()){return/webos/i.test(n)}function Ny(n=Be()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PV(n=Be()){return Ny(n)&&!!window.navigator?.standalone}function xV(){return _S()&&document.documentMode===10}function fD(n=Be()){return Ny(n)||lD(n)||hD(n)||dD(n)||/windows phone/i.test(n)||uD(n)}function pD(n,e=[]){let t;switch(n){case"Browser":t=BS(Be());break;case"Worker":t=`${BS(Be())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Er}/${r}`}var py=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function OV(n,e={}){return Ao(n,"GET","/v2/passwordPolicy",Ay(n,e))}var kV=6,gy=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var my=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bd(this),this.idTokenSubscription=new Bd(this),this.beforeStateQueue=new py(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Un(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ud.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Fd(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===s)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(br(this));let t=e?Wt(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await OV(this),t=new gy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await NV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Un(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=await Ud.create(this,[Un(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yV(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Kd(n){return Wt(n)}var Bd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=TS(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var My={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LV(n){My=n}function VV(n){return My.loadJS(n)}function FV(){return My.gapiScript}function gD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function mD(n,e){let t=Ka(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ln(o,e??{}))return i;fn(i,"already-initialized")}return t.initialize({options:e})}function jV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Un);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function yD(n,e,t){let r=Kd(n);$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=vD(e),{host:s,port:c}=UV(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$(ln(l,r.config.emulator)&&ln(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,yr(s)?(Cd(`${o}//${s}${u}`),Sd("Auth",!0)):i||BV()}function vD(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UV(n){let e=vD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:HS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:HS(s)}}}function HS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function BV(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ec=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,t){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}};async function Do(n,e){return CV(n,"POST","/v1/accounts:signInWithIdp",Ay(n,e))}var HV="http://localhost",Hd=class n extends ec{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let c=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=c,o=Yc(c,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Do(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){let e={requestUri:HV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=So(t)}return e}};var tc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $d=class extends tc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Py=(()=>{class n extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Hd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var nc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Tr._fromIdTokenResponse(e,r,i),s=$S(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=$S(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function $S(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yy=class n extends wt{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function _D(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yy._fromErrorAndOperation(n,o,e,r):o})}async function $V(n,e,t=!1){let r=await Za(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return nc._forOperation(n,"link",r)}async function qV(n,e,t=!1){let{auth:r}=n;if(Tt(r.app))return Promise.reject(br(r));let i="reauthenticate";try{let o=await Za(n,_D(r,i,e,n),t);$(o.idToken,r,"internal-error");let s=Ry(o.idToken);$(s,r,"internal-error");let{sub:c}=s;return $(n.uid===c,r,"user-mismatch"),nc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&fn(r,"user-mismatch"),o}}async function zV(n,e,t=!1){if(Tt(n.app))return Promise.reject(br(n));let r="signIn",i=await _D(n,r,e),o=await nc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function ID(n,e,t,r){return Wt(n).onIdTokenChanged(e,t,r)}function ED(n,e,t){return Wt(n).beforeAuthStateChanged(e,t)}function xy(n,e,t,r){return Wt(n).onAuthStateChanged(e,t,r)}function Oy(n){return Wt(n).signOut()}var qd="__sak";var zd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var GV=1e3,WV=10,KV=(()=>{class n extends zd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);xV()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,WV):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),wD=KV;var QV=(()=>{class n extends zd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),ky=QV;function YV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var JV=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(async f=>f(r.origin,s)),l=await YV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function TD(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var vy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=TD("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function hn(){return window}function ZV(n){hn().location.href=n}function bD(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function XV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eF(){return navigator?.serviceWorker?.controller||null}function tF(){return bD()?self:null}var CD="firebaseLocalStorageDb",nF=1,Gd="firebaseLocalStorage",SD="fbase_key",pi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Qd(n,e){return n.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function rF(){let n=indexedDB.deleteDatabase(CD);return new pi(n).toPromise()}function _y(){let n=indexedDB.open(CD,nF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gd,{keyPath:SD})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Gd)?e(r):(r.close(),await rF(),e(await _y()))})})}async function qS(n,e,t){let r=Qd(n,!0).put({[SD]:e,value:t});return new pi(r).toPromise()}async function iF(n,e){let t=Qd(n,!1).get(e),r=await new pi(t).toPromise();return r===void 0?null:r.value}function zS(n,e){let t=Qd(n,!0).delete(e);return new pi(t).toPromise()}var oF=800,sF=3,aF=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>sF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=JV._getInstance(tF()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XV(),!this.activeServiceWorker)return;this.sender=new vy(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await _y();return await qS(t,qd,"1"),await zS(t,qd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>qS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>iF(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=Qd(o,!1).getAll();return new pi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),DD=aF;var yY=gD("rcb"),vY=new fi(3e4,6e4);function AD(n,e){return e?Un(e):($(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var rc=class extends ec{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function cF(n){return zV(n.auth,new rc(n),n.bypassAuthState)}function uF(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),qV(t,new rc(n),n.bypassAuthState)}async function lF(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),$V(t,new rc(n),n.bypassAuthState)}var Iy=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cF;case"linkViaPopup":case"linkViaRedirect":return lF;case"reauthViaPopup":case"reauthViaRedirect":return uF;default:fn(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _Y=new fi(2e3,1e4);var dF="pendingRedirect",Od=new Map,Ey=class extends Iy{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{let r=await hF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function hF(n,e){let t=ND(e),r=RD(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}async function fF(n,e){return RD(n)._set(ND(e),"true")}function pF(n,e){Od.set(n._key(),e)}function RD(n){return Un(n._redirectPersistence)}function ND(n){return xd(dF,n.config.apiKey,n.name)}function Ly(n,e,t){return gF(n,e,t)}async function gF(n,e,t){if(Tt(n.app))return Promise.reject(br(n));let r=Kd(n);vV(n,e,tc),await r._initializationPromise;let i=AD(r,t);return await fF(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function mF(n,e,t=!1){if(Tt(n.app))return Promise.reject(br(n));let r=Kd(n),i=AD(r,e),s=await new Ey(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var yF=10*60*1e3,wy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!MD(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(hi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yF&&this.cachedEventUids.clear(),this.cachedEventUids.has(GS(e))}saveEventToCache(e){this.cachedEventUids.add(GS(e)),this.lastProcessedEventTime=Date.now()}};function GS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MD({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function vF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MD(n);default:return!1}}async function _F(n,e={}){return Ao(n,"GET","/v1/projects",e)}var IF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EF=/^https?/;async function wF(n){if(n.config.emulator)return;let{authorizedDomains:e}=await _F(n);for(let t of e)try{if(TF(t))return}catch{}fn(n,"unauthorized-domain")}function TF(n){let e=ly(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!EF.test(t))return!1;if(IF.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var bF=new fi(3e4,6e4);function WS(){let n=hn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CF(n){return new Promise((e,t)=>{function r(){WS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WS(),t(hi(n,"network-request-failed"))},timeout:bF.get()})}if(hn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hn().gapi?.load)r();else{let i=gD("iframefcb");return hn()[i]=()=>{gapi.load?r():t(hi(n,"network-request-failed"))},VV(`${FV()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw kd=null,e})}var kd=null;function SF(n){return kd=kd||CF(n),kd}var DF=new fi(5e3,15e3),AF="__/auth/iframe",RF="emulator/auth/iframe",NF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PF(n){let e=n.config;$(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Dy(e,RF):`https://${n.config.authDomain}/${AF}`,r={apiKey:e.apiKey,appName:n.name,v:Er},i=MF.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${So(r).slice(1)}`}async function xF(n){let e=await SF(n),t=hn().gapi;return $(t,n,"internal-error"),e.open({where:document.body,url:PF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NF,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=hi(n,"network-request-failed"),c=hn().setTimeout(()=>{o(s)},DF.get());function u(){hn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var OF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kF=500,LF=600,VF="_blank",FF="http://localhost",Wd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function jF(n,e,t,r=kF,i=LF){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=B(A({},OF),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Be().toLowerCase();t&&(c=cD(l)?VF:t),sD(l)&&(e=e||FF,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(PV(l)&&c!=="_self")return UF(e||"",c),new Wd(null);let p=window.open(e||"",c,f);$(p,n,"popup-blocked");try{p.focus()}catch{}return new Wd(p)}function UF(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var BF="__/auth/handler",HF="emulator/auth/handler",$F=encodeURIComponent("fac");async function KS(n,e,t,r,i,o){$(n.config.authDomain,n,"auth-domain-config-required"),$(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Er,eventId:i};if(e instanceof tc){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof $d){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=await n._getAppCheckToken(),l=u?`#${$F}=${encodeURIComponent(u)}`:"";return`${qF(n)}?${So(c).slice(1)}${l}`}function qF({config:n}){return n.emulator?Dy(n,HF):`https://${n.authDomain}/${BF}`}var uy="webStorageSupport",Ty=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ky,this._completeRedirectFn=mF,this._overrideRedirectResult=pF}async _openPopup(e,t,r,i){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await KS(e,t,r,ly(),i);return jF(e,o,TD())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await KS(e,t,r,ly(),i);return ZV(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Cr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await xF(e),r=new wy(e);return t.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uy,{type:uy},i=>{let o=i?.[0]?.[uy];o!==void 0&&t(!!o),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fD()||aD()||Ny()}},PD=Ty;var QS="@firebase/auth",YS="1.11.0";var by=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GF(n){Ir(new Lt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;$(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pD(n)},l=new my(r,i,o,u);return jV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ir(new Lt("auth-internal",e=>{let t=Kd(e.getProvider("auth").getImmediate());return(r=>new by(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(QS,YS,zF(n)),Kt(QS,YS,"esm2020")}var WF=5*60,KF=Gm("authIdTokenMaxAge")||WF,JS=null,QF=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KF)return;let i=t?.token;JS!==i&&(JS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ic(n=Nd()){let e=Ka(n,"auth");if(e.isInitialized())return e.getImmediate();let t=mD(n,{popupRedirectResolver:PD,persistence:[DD,wD,ky]}),r=Gm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=QF(o.toString());ED(t,s,()=>s(t.currentUser)),ID(t,c=>s(c))}}let i=qm("auth");return i&&yD(t,`http://${i}`),t}function YF(){return document.getElementsByTagName("head")?.[0]??document}LV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=hi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",YF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GF("Browser");var xD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},OD={};var Bn,Vy;(function(){var n;function e(b,v){function I(){}I.prototype=v.prototype,b.D=v.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(E,w,C){for(var _=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)_[vn-2]=arguments[vn];return v.prototype[w].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,I){I||(I=0);var E=Array(16);if(typeof v=="string")for(var w=0;16>w;++w)E[w]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(w=0;16>w;++w)E[w]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=b.g[0],I=b.g[1],w=b.g[2];var C=b.g[3],_=v+(C^I&(w^C))+E[0]+3614090360&4294967295;v=I+(_<<7&4294967295|_>>>25),_=C+(w^v&(I^w))+E[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=w+(I^C&(v^I))+E[2]+606105819&4294967295,w=C+(_<<17&4294967295|_>>>15),_=I+(v^w&(C^v))+E[3]+3250441966&4294967295,I=w+(_<<22&4294967295|_>>>10),_=v+(C^I&(w^C))+E[4]+4118548399&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(w^v&(I^w))+E[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=w+(I^C&(v^I))+E[6]+2821735955&4294967295,w=C+(_<<17&4294967295|_>>>15),_=I+(v^w&(C^v))+E[7]+4249261313&4294967295,I=w+(_<<22&4294967295|_>>>10),_=v+(C^I&(w^C))+E[8]+1770035416&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(w^v&(I^w))+E[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=w+(I^C&(v^I))+E[10]+4294925233&4294967295,w=C+(_<<17&4294967295|_>>>15),_=I+(v^w&(C^v))+E[11]+2304563134&4294967295,I=w+(_<<22&4294967295|_>>>10),_=v+(C^I&(w^C))+E[12]+1804603682&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(w^v&(I^w))+E[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=w+(I^C&(v^I))+E[14]+2792965006&4294967295,w=C+(_<<17&4294967295|_>>>15),_=I+(v^w&(C^v))+E[15]+1236535329&4294967295,I=w+(_<<22&4294967295|_>>>10),_=v+(w^C&(I^w))+E[1]+4129170786&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^w&(v^I))+E[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=w+(v^I&(C^v))+E[11]+643717713&4294967295,w=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(w^C))+E[0]+3921069994&4294967295,I=w+(_<<20&4294967295|_>>>12),_=v+(w^C&(I^w))+E[5]+3593408605&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^w&(v^I))+E[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=w+(v^I&(C^v))+E[15]+3634488961&4294967295,w=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(w^C))+E[4]+3889429448&4294967295,I=w+(_<<20&4294967295|_>>>12),_=v+(w^C&(I^w))+E[9]+568446438&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^w&(v^I))+E[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=w+(v^I&(C^v))+E[3]+4107603335&4294967295,w=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(w^C))+E[8]+1163531501&4294967295,I=w+(_<<20&4294967295|_>>>12),_=v+(w^C&(I^w))+E[13]+2850285829&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^w&(v^I))+E[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=w+(v^I&(C^v))+E[7]+1735328473&4294967295,w=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(w^C))+E[12]+2368359562&4294967295,I=w+(_<<20&4294967295|_>>>12),_=v+(I^w^C)+E[5]+4294588738&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^w)+E[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=w+(C^v^I)+E[11]+1839030562&4294967295,w=C+(_<<16&4294967295|_>>>16),_=I+(w^C^v)+E[14]+4259657740&4294967295,I=w+(_<<23&4294967295|_>>>9),_=v+(I^w^C)+E[1]+2763975236&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^w)+E[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=w+(C^v^I)+E[7]+4139469664&4294967295,w=C+(_<<16&4294967295|_>>>16),_=I+(w^C^v)+E[10]+3200236656&4294967295,I=w+(_<<23&4294967295|_>>>9),_=v+(I^w^C)+E[13]+681279174&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^w)+E[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=w+(C^v^I)+E[3]+3572445317&4294967295,w=C+(_<<16&4294967295|_>>>16),_=I+(w^C^v)+E[6]+76029189&4294967295,I=w+(_<<23&4294967295|_>>>9),_=v+(I^w^C)+E[9]+3654602809&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^w)+E[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=w+(C^v^I)+E[15]+530742520&4294967295,w=C+(_<<16&4294967295|_>>>16),_=I+(w^C^v)+E[2]+3299628645&4294967295,I=w+(_<<23&4294967295|_>>>9),_=v+(w^(I|~C))+E[0]+4096336452&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~w))+E[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=w+(v^(C|~I))+E[14]+2878612391&4294967295,w=C+(_<<15&4294967295|_>>>17),_=I+(C^(w|~v))+E[5]+4237533241&4294967295,I=w+(_<<21&4294967295|_>>>11),_=v+(w^(I|~C))+E[12]+1700485571&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~w))+E[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=w+(v^(C|~I))+E[10]+4293915773&4294967295,w=C+(_<<15&4294967295|_>>>17),_=I+(C^(w|~v))+E[1]+2240044497&4294967295,I=w+(_<<21&4294967295|_>>>11),_=v+(w^(I|~C))+E[8]+1873313359&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~w))+E[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=w+(v^(C|~I))+E[6]+2734768916&4294967295,w=C+(_<<15&4294967295|_>>>17),_=I+(C^(w|~v))+E[13]+1309151649&4294967295,I=w+(_<<21&4294967295|_>>>11),_=v+(w^(I|~C))+E[4]+4149444226&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~w))+E[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=w+(v^(C|~I))+E[2]+718787259&4294967295,w=C+(_<<15&4294967295|_>>>17),_=I+(C^(w|~v))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,b.g[2]=b.g[2]+w&4294967295,b.g[3]=b.g[3]+C&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var I=v-this.blockSize,E=this.B,w=this.h,C=0;C<v;){if(w==0)for(;C<=I;)i(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<v;)if(E[w++]=b.charCodeAt(C++),w==this.blockSize){i(this,E),w=0;break}}else for(;C<v;)if(E[w++]=b[C++],w==this.blockSize){i(this,E),w=0;break}}this.h=w,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var I=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=I&255,I/=256;for(this.u(b),b=Array(16),v=I=0;4>v;++v)for(var E=0;32>E;E+=8)b[I++]=this.g[v]>>>E&255;return b};function o(b,v){var I=c;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=v(b)}function s(b,v){this.h=v;for(var I=[],E=!0,w=b.length-1;0<=w;w--){var C=b[w]|0;E&&C==v||(I[w]=C,E=!1)}this.g=I}var c={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var v=[],I=1,E=0;b>=I;E++)v[E]=b/I|0,I*=4294967296;return new s(v,0)}function f(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return R(f(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),E=p,w=0;w<b.length;w+=8){var C=Math.min(8,b.length-w),_=parseInt(b.substring(w,w+C),v);8>C?(C=l(Math.pow(v,C)),E=E.j(C).add(l(_))):(E=E.j(I),E=E.add(l(_)))}return E}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var b=0,v=1,I=0;I<this.g.length;I++){var E=this.i(I);b+=(0<=E?E:4294967296+E)*v,v*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(M(this))return"-"+R(this).toString(b);for(var v=l(Math.pow(b,6)),I=this,E="";;){var w=qe(I,v).g;I=k(I,w.j(v));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=w,S(I))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function M(b){return b.h==-1}n.l=function(b){return b=k(this,b),M(b)?-1:S(b)?0:1};function R(b){for(var v=b.g.length,I=[],E=0;E<v;E++)I[E]=~b.g[E];return new s(I,~b.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(b){for(var v=Math.max(this.g.length,b.g.length),I=[],E=0,w=0;w<=v;w++){var C=E+(this.i(w)&65535)+(b.i(w)&65535),_=(C>>>16)+(this.i(w)>>>16)+(b.i(w)>>>16);E=_>>>16,C&=65535,_&=65535,I[w]=_<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(b,v){return b.add(R(v))}n.j=function(b){if(S(this)||S(b))return p;if(M(this))return M(b)?R(this).j(R(b)):R(R(this).j(b));if(M(b))return R(this.j(R(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,I=[],E=0;E<2*v;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var w=0;w<b.g.length;w++){var C=this.i(E)>>>16,_=this.i(E)&65535,vn=b.i(w)>>>16,rs=b.i(w)&65535;I[2*E+2*w]+=_*rs,X(I,2*E+2*w),I[2*E+2*w+1]+=C*rs,X(I,2*E+2*w+1),I[2*E+2*w+1]+=_*vn,X(I,2*E+2*w+1),I[2*E+2*w+2]+=C*vn,X(I,2*E+2*w+2)}for(E=0;E<v;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=v;E<2*v;E++)I[E]=0;return new s(I,0)};function X(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function re(b,v){this.g=b,this.h=v}function qe(b,v){if(S(v))throw Error("division by zero");if(S(b))return new re(p,p);if(M(b))return v=qe(R(b),v),new re(R(v.g),R(v.h));if(M(v))return v=qe(b,R(v)),new re(R(v.g),v.h);if(30<b.g.length){if(M(b)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,E=v;0>=E.l(b);)I=Jt(I),E=Jt(E);var w=Ye(I,1),C=Ye(E,1);for(E=Ye(E,2),I=Ye(I,2);!S(E);){var _=C.add(E);0>=_.l(b)&&(w=w.add(I),C=_),E=Ye(E,1),I=Ye(I,1)}return v=k(b,w.j(v)),new re(w,v)}for(w=p;0<=b.l(v);){for(I=Math.max(1,Math.floor(b.m()/v.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(I),_=C.j(v);M(_)||0<_.l(b);)I-=E,C=l(I),_=C.j(v);S(C)&&(C=m),w=w.add(C),b=k(b,_)}return new re(w,b)}n.A=function(b){return qe(this,b).h},n.and=function(b){for(var v=Math.max(this.g.length,b.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)&b.i(E);return new s(I,this.h&b.h)},n.or=function(b){for(var v=Math.max(this.g.length,b.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)|b.i(E);return new s(I,this.h|b.h)},n.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)^b.i(E);return new s(I,this.h^b.h)};function Jt(b){for(var v=b.g.length+1,I=[],E=0;E<v;E++)I[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(I,b.h)}function Ye(b,v){var I=v>>5;v%=32;for(var E=b.g.length-I,w=[],C=0;C<E;C++)w[C]=0<v?b.i(C+I)>>>v|b.i(C+I+1)<<32-v:b.i(C+I);return new s(w,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vy=OD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Bn=OD.Integer=s}).apply(typeof xD<"u"?xD:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var Fy,JF,Ro,jy,oc,Jd,Uy,By,Hy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var D=h++;return{value:d(D,a[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,D){for(var O=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)O[pe-2]=arguments[pe];return d.prototype[T].apply(g,O)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,D=g.length||0;a.length=T+D;for(let O=0;O<D;O++)a[T+O]=g[O]}else a.push(g)}}class k{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(a){return/^[\s\xa0]*$/.test(a)}function re(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function qe(a){return qe[" "](a),a}qe[" "]=function(){};var Jt=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ye(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function b(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let D=0;D<I.length;D++)h=I[D],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function w(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Fh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class vn{constructor(){this.h=this.g=null}add(d,h){let g=rs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var rs=new k(()=>new LR,a=>a.reset());class LR{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let is,os=!1,Fh=new vn,$_=()=>{let a=c.Promise.resolve(void 0);is=()=>{a.then(VR)}};var VR=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=rs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}os=!1};function Qn(){this.s=this.s,this.C=this.C}Qn.prototype.s=!1,Qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var FR=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function ss(a,d){if(Je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Jt){e:{try{qe(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:jR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ss.aa.h.call(this)}}S(ss,Je);var jR={2:"touch",3:"pen",4:"mouse"};ss.prototype.h=function(){ss.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var as="closure_listenable_"+(1e6*Math.random()|0),UR=0;function BR(a,d,h,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=T,this.key=++UR,this.da=this.fa=!1}function Pc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function xc(a){this.src=a,this.g={},this.h=0}xc.prototype.add=function(a,d,h,g,T){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var O=Uh(a,d,g,T);return-1<O?(d=a[O],h||(d.fa=!1)):(d=new BR(d,this.src,D,!!g,T),d.fa=h,a.push(d)),d};function jh(a,d){var h=d.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,d,void 0),D;(D=0<=T)&&Array.prototype.splice.call(g,T,1),D&&(Pc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Uh(a,d,h,g){for(var T=0;T<a.length;++T){var D=a[T];if(!D.da&&D.listener==d&&D.capture==!!h&&D.ha==g)return T}return-1}var Bh="closure_lm_"+(1e6*Math.random()|0),Hh={};function q_(a,d,h,g,T){if(g&&g.once)return G_(a,d,h,g,T);if(Array.isArray(d)){for(var D=0;D<d.length;D++)q_(a,d[D],h,g,T);return null}return h=Gh(h),a&&a[as]?a.K(d,h,l(g)?!!g.capture:!!g,T):z_(a,d,h,!1,g,T)}function z_(a,d,h,g,T,D){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,pe=qh(a);if(pe||(a[Bh]=pe=new xc(a)),h=pe.add(d,h,g,O,D),h.proxy)return h;if(g=HR(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)FR||(T=O),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(K_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function HR(){function a(h){return d.call(a.src,a.listener,h)}let d=$R;return a}function G_(a,d,h,g,T){if(Array.isArray(d)){for(var D=0;D<d.length;D++)G_(a,d[D],h,g,T);return null}return h=Gh(h),a&&a[as]?a.L(d,h,l(g)?!!g.capture:!!g,T):z_(a,d,h,!0,g,T)}function W_(a,d,h,g,T){if(Array.isArray(d))for(var D=0;D<d.length;D++)W_(a,d[D],h,g,T);else g=l(g)?!!g.capture:!!g,h=Gh(h),a&&a[as]?(a=a.i,d=String(d).toString(),d in a.g&&(D=a.g[d],h=Uh(D,h,g,T),-1<h&&(Pc(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete a.g[d],a.h--)))):a&&(a=qh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Uh(d,h,g,T)),(h=-1<a?d[a]:null)&&$h(h))}function $h(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[as])jh(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(K_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=qh(d))?(jh(h,a),h.h==0&&(h.src=null,d[Bh]=null)):Pc(a)}}}function K_(a){return a in Hh?Hh[a]:Hh[a]="on"+a}function $R(a,d){if(a.da)a=!0;else{d=new ss(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&$h(a),a=h.call(g,d)}return a}function qh(a){return a=a[Bh],a instanceof xc?a:null}var zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gh(a){return typeof a=="function"?a:(a[zh]||(a[zh]=function(d){return a.handleEvent(d)}),a[zh])}function Ze(){Qn.call(this),this.i=new xc(this),this.M=this,this.F=null}S(Ze,Qn),Ze.prototype[as]=!0,Ze.prototype.removeEventListener=function(a,d,h,g){W_(this,a,d,h,g)};function ot(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Je(d,a);else if(d instanceof Je)d.target=d.target||a;else{var T=d;d=new Je(g,a),E(d,T)}if(T=!0,h)for(var D=h.length-1;0<=D;D--){var O=d.g=h[D];T=Oc(O,g,!0,d)&&T}if(O=d.g=a,T=Oc(O,g,!0,d)&&T,T=Oc(O,g,!1,d)&&T,h)for(D=0;D<h.length;D++)O=d.g=h[D],T=Oc(O,g,!1,d)&&T}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Pc(h[g]);delete a.g[d],a.h--}}this.F=null},Ze.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ze.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Oc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,D=0;D<d.length;++D){var O=d[D];if(O&&!O.da&&O.capture==h){var pe=O.listener,ze=O.ha||O.src;O.fa&&jh(a.i,O),T=pe.call(ze,g)!==!1&&T}}return T&&!g.defaultPrevented}function Q_(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Y_(a){a.g=Q_(()=>{a.g=null,a.i&&(a.i=!1,Y_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class qR extends Qn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Y_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(a){Qn.call(this),this.h=a,this.g={}}S(cs,Qn);var J_=[];function Z_(a){Ye(a.g,function(d,h){this.g.hasOwnProperty(h)&&$h(d)},a),a.g={}}cs.prototype.N=function(){cs.aa.N.call(this),Z_(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wh=c.JSON.stringify,zR=c.JSON.parse,GR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Kh(){}Kh.prototype.h=null;function X_(a){return a.h||(a.h=a.i())}function eI(){}var us={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qh(){Je.call(this,"d")}S(Qh,Je);function Yh(){Je.call(this,"c")}S(Yh,Je);var Rr={},tI=null;function kc(){return tI=tI||new Ze}Rr.La="serverreachability";function nI(a){Je.call(this,Rr.La,a)}S(nI,Je);function ls(a){let d=kc();ot(d,new nI(d))}Rr.STAT_EVENT="statevent";function rI(a,d){Je.call(this,Rr.STAT_EVENT,a),this.stat=d}S(rI,Je);function st(a){let d=kc();ot(d,new rI(d,a))}Rr.Ma="timingevent";function iI(a,d){Je.call(this,Rr.Ma,a),this.size=d}S(iI,Je);function ds(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function WR(a,d,h,g,T,D){a.info(function(){if(a.g)if(D)for(var O="",pe=D.split("&"),ze=0;ze<pe.length;ze++){var de=pe[ze].split("=");if(1<de.length){var Xe=de[0];de=de[1];var et=Xe.split("_");O=2<=et.length&&et[1]=="type"?O+(Xe+"="+de+"&"):O+(Xe+"=redacted&")}}else O=null;else O=D;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+h+`
`+O})}function KR(a,d,h,g,T,D,O){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+h+`
`+D+" "+O})}function wi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+YR(a,h)+(g?" "+g:"")})}function QR(a,d){a.info(function(){return"TIMEOUT: "+d})}hs.prototype.info=function(){};function YR(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var D=T[0];if(D!="noop"&&D!="stop"&&D!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return Wh(h)}catch{return d}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jh;function Vc(){}S(Vc,Kh),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},Jh=new Vc;function Yn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sI}function sI(){this.i=null,this.g="",this.h=!1}var aI={},Zh={};function Xh(a,d,h){a.L=1,a.v=Bc(_n(d)),a.m=h,a.P=!0,cI(a,null)}function cI(a,d){a.F=Date.now(),Fc(a),a.A=_n(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),wI(h.i,"t",g),a.C=0,h=a.j.J,a.h=new sI,a.g=UI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new qR(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(J_[0]=T.toString()),T=J_);for(var D=0;D<T.length;D++){var O=q_(h,T[D],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ls(),WR(a.i,a.u,a.A,a.l,a.R,a.m)}Yn.prototype.ca=function(a){a=a.target;let d=this.M;d&&In(a)==3?d.j():this.Y(a)},Yn.prototype.Y=function(a){try{if(a==this.g)e:{let et=In(this.g);var d=this.g.Ba();let Ci=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||RI(this.g)))){this.J||et!=4||d==7||(d==8||0>=Ci?ls(3):ls(2)),ef(this);var h=this.g.Z();this.X=h;t:if(uI(this)){var g=RI(this.g);a="";var T=g.length,D=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),fs(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(D&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,KR(this.i,this.u,this.A,this.l,this.R,et,h),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,ze=this.g;if((pe=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(pe)){var de=pe;break t}}de=null}if(h=de)wi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tf(this,h);else{this.o=!1,this.s=3,st(12),Nr(this),fs(this);break e}}if(this.P){h=!0;let jt;for(;!this.J&&this.C<O.length;)if(jt=JR(this,O),jt==Zh){et==4&&(this.s=4,st(14),h=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==aI){this.s=4,st(15),wi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else wi(this.i,this.l,jt,null),tf(this,jt);if(uI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||O.length!=0||this.h.h||(this.s=1,st(16),h=!1),this.o=this.o&&h,!h)wi(this.i,this.l,O,"[Invalid Chunked Response]"),Nr(this),fs(this);else if(0<O.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),cf(Xe),Xe.M=!0,st(11))}}else wi(this.i,this.l,O,null),tf(this,O);et==4&&Nr(this),this.o&&!this.J&&(et==4?LI(this.j,this):(this.o=!1,Fc(this)))}else pN(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Nr(this),fs(this)}}}catch{}finally{}};function uI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function JR(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Zh:(h=Number(d.substring(h,g)),isNaN(h)?aI:(g+=1,g+h>d.length?Zh:(d=d.slice(g,g+h),a.C=g+h,d)))}Yn.prototype.cancel=function(){this.J=!0,Nr(this)};function Fc(a){a.S=Date.now()+a.I,lI(a,a.I)}function lI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ds(m(a.ba,a),d)}function ef(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Yn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(QR(this.i,this.A),this.L!=2&&(ls(),st(17)),Nr(this),this.s=2,fs(this)):lI(this,this.S-a)};function fs(a){a.j.G==0||a.J||LI(a.j,a)}function Nr(a){ef(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Z_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function tf(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||nf(h.h,a))){if(!a.K&&nf(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Gc(h),qc(h);else break e;af(h),st(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=ds(m(h.Za,h),6e3));if(1>=fI(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Pr(h,11)}else if((a.K||h.g==a)&&Gc(h),!X(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let de=T[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let Xe=de[3];Xe!=null&&(h.la=Xe,h.j.info("VER="+h.la));let et=de[4];et!=null&&(h.Aa=et,h.j.info("SVER="+h.Aa));let Ci=de[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(g=1.5*Ci,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let jt=a.g;if(jt){let Kc=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var D=g.h;D.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(rf(D,D.h),D.h=null))}if(g.D){let uf=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(g.ya=uf,me(g.I,g.D,uf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var O=a;if(g.qa=jI(g,g.J?g.ia:null,g.W),O.K){pI(g.h,O);var pe=O,ze=g.L;ze&&(pe.I=ze),pe.B&&(ef(pe),Fc(pe)),g.g=O}else OI(g);0<h.i.length&&zc(h)}else de[0]!="stop"&&de[0]!="close"||Pr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Pr(h,7):sf(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}ls(4)}catch{}}var ZR=class{constructor(a,d){this.g=a,this.map=d}};function dI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function fI(a){return a.h?1:a.g?a.g.size:0}function nf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function rf(a,d){a.g?a.g.add(d):a.h=d}function pI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}dI.prototype.cancel=function(){if(this.i=gI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function gI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function XR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function eN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function mI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=eN(a),g=XR(a),T=g.length,D=0;D<T;D++)d.call(void 0,g[D],h&&h[D],a)}var yI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tN(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var D=a[h].substring(0,g);T=a[h].substring(g+1)}else D=a[h];d(D,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Mr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Mr){this.h=a.h,jc(this,a.j),this.o=a.o,this.g=a.g,Uc(this,a.s),this.l=a.l;var d=a.i,h=new ms;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),vI(this,h),this.m=a.m}else a&&(d=String(a).match(yI))?(this.h=!1,jc(this,d[1]||"",!0),this.o=ps(d[2]||""),this.g=ps(d[3]||"",!0),Uc(this,d[4]),this.l=ps(d[5]||"",!0),vI(this,d[6]||"",!0),this.m=ps(d[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}Mr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(gs(d,_I,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(gs(d,_I,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(gs(h,h.charAt(0)=="/"?iN:rN,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",gs(h,sN)),a.join("")};function _n(a){return new Mr(a)}function jc(a,d,h){a.j=h?ps(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Uc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function vI(a,d,h){d instanceof ms?(a.i=d,aN(a.i,a.h)):(h||(d=gs(d,oN)),a.i=new ms(d,a.h))}function me(a,d,h){a.i.set(d,h)}function Bc(a){return me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ps(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function gs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,nN),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function nN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var _I=/[#\/\?@]/g,rN=/[#\?:]/g,iN=/[#\?]/g,oN=/[#\?@]/g,sN=/#/g;function ms(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Jn(a){a.g||(a.g=new Map,a.h=0,a.i&&tN(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=ms.prototype,n.add=function(a,d){Jn(this),this.i=null,a=Ti(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function II(a,d){Jn(a),d=Ti(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function EI(a,d){return Jn(a),d=Ti(a,d),a.g.has(d)}n.forEach=function(a,d){Jn(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(d,T,g,this)},this)},this)},n.na=function(){Jn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let T=a[g];for(let D=0;D<T.length;D++)h.push(d[g])}return h},n.V=function(a){Jn(this);let d=[];if(typeof a=="string")EI(this,a)&&(d=d.concat(this.g.get(Ti(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return Jn(this),this.i=null,a=Ti(this,a),EI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function wI(a,d,h){II(a,d),0<h.length&&(a.i=null,a.g.set(Ti(a,d),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let D=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var T=D;O[g]!==""&&(T+="="+encodeURIComponent(String(O[g]))),a.push(T)}}return this.i=a.join("&")};function Ti(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function aN(a,d){d&&!a.j&&(Jn(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(II(this,g),wI(this,T,h))},a)),a.j=d}function cN(a,d){let h=new hs;if(c.Image){let g=new Image;g.onload=y(Zn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Zn,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Zn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Zn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function uN(a,d){let h=new hs,g=new AbortController,T=setTimeout(()=>{g.abort(),Zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(D=>{clearTimeout(T),D.ok?Zn(h,"TestPingServer: ok",!0,d):Zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Zn(h,"TestPingServer: error",!1,d)})}function Zn(a,d,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function lN(){this.g=new GR}function dN(a,d,h){let g=h||"";try{mI(a,function(T,D){let O=T;l(T)&&(O=Wh(T)),d.push(g+D+"="+encodeURIComponent(O))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ys(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ys,Kh),ys.prototype.g=function(){return new Hc(this.l,this.j)},ys.prototype.i=function(a){return function(){return a}}({});function Hc(a,d){Ze.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Hc,Ze),n=Hc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,_s(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;TI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function TI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?vs(this):_s(this),this.readyState==3&&TI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,vs(this))},n.Qa=function(a){this.g&&(this.response=a,vs(this))},n.ga=function(){this.g&&vs(this)};function vs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,_s(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function _s(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function bI(a){let d="";return Ye(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function of(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=bI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):me(a,d,h))}function Ie(a){Ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ie,Ze);var hN=/^https?$/i,fN=["POST","PUT"];n=Ie.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jh.g(),this.v=this.o?X_(this.o):X_(Jh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){CI(this,D);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let D of g.keys())h.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(fN,d,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,O]of h)this.g.setRequestHeader(D,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AI(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){CI(this,D)}};function CI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,SI(a),$c(a)}function SI(a){a.A||(a.A=!0,ot(a,"complete"),ot(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ot(this,"complete"),ot(this,"abort"),$c(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$c(this,!0)),Ie.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?DI(this):this.bb())},n.bb=function(){DI(this)};function DI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||In(a)!=4||a.Z()!=2)){if(a.u&&In(a)==4)Q_(a.Ea,0,a);else if(ot(a,"readystatechange"),In(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=O===0){var T=String(a.D).match(yI)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!hN.test(T?T.toLowerCase():"")}h=g}if(h)ot(a,"complete"),ot(a,"success");else{a.m=6;try{var D=2<In(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",SI(a)}}finally{$c(a)}}}}function $c(a,d){if(a.g){AI(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ot(a,"ready");try{h.onreadystatechange=g}catch{}}}function AI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function In(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),zR(d)}};function RI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function pN(a){let d={};a=(a.g&&2<=In(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(X(a[g]))continue;var h=w(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=d[T]||[];d[T]=D,D.push(h)}b(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function NI(a){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,a),this.cb=Is("retryDelaySeedMs",1e4,a),this.Wa=Is("forwardChannelMaxRetries",2,a),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new dI(a&&a.concurrentRequestLimit),this.Da=new lN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=NI.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){st(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=jI(this,null,this.W),zc(this)};function sf(a){if(MI(a),a.G==3){var d=a.U++,h=_n(a.I);if(me(h,"SID",a.K),me(h,"RID",d),me(h,"TYPE","terminate"),Es(a,h),d=new Yn(a,a.j,d),d.L=2,d.v=Bc(_n(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=UI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fc(d)}FI(a)}function qc(a){a.g&&(cf(a),a.g.cancel(),a.g=null)}function MI(a){qc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Gc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function zc(a){if(!hI(a.h)&&!a.s){a.s=!0;var d=a.Ga;is||$_(),os||(is(),os=!0),Fh.add(d,a),a.B=0}}function gN(a,d){return fI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ds(m(a.Ga,a,d),VI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Yn(this,this.j,a),D=this.o;if(this.S&&(D?(D=v(D),E(D,this.S)):D=this.S),this.m!==null||this.O||(T.H=D,D=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=xI(this,T,d),h=_n(this.I),me(h,"RID",a),me(h,"CVER",22),this.D&&me(h,"X-HTTP-Session-Id",this.D),Es(this,h),D&&(this.O?d="headers="+encodeURIComponent(String(bI(D)))+"&"+d:this.m&&of(h,this.m,D)),rf(this.h,T),this.Ua&&me(h,"TYPE","init"),this.P?(me(h,"$req",d),me(h,"SID","null"),T.T=!0,Xh(T,h,null)):Xh(T,h,d),this.G=2}}else this.G==3&&(a?PI(this,a):this.i.length==0||hI(this.h)||PI(this))};function PI(a,d){var h;d?h=d.l:h=a.U++;let g=_n(a.I);me(g,"SID",a.K),me(g,"RID",h),me(g,"AID",a.T),Es(a,g),a.m&&a.o&&of(g,a.m,a.o),h=new Yn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=xI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),rf(a.h,h),Xh(h,g,d)}function Es(a,d){a.H&&Ye(a.H,function(h,g){me(d,g,h)}),a.l&&mI({},function(h,g){me(d,g,h)})}function xI(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var T=a.i;let D=-1;for(;;){let O=["count="+h];D==-1?0<h?(D=T[0].g,O.push("ofs="+D)):D=0:O.push("ofs="+D);let pe=!0;for(let ze=0;ze<h;ze++){let de=T[ze].g,Xe=T[ze].map;if(de-=D,0>de)D=Math.max(0,T[ze].g-100),pe=!1;else try{dN(Xe,O,"req"+de+"_")}catch{g&&g(Xe)}}if(pe){g=O.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function OI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;is||$_(),os||(is(),os=!0),Fh.add(d,a),a.v=0}}function af(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ds(m(a.Fa,a),VI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,kI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ds(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),qc(this),kI(this))};function cf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function kI(a){a.g=new Yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=_n(a.qa);me(d,"RID","rpc"),me(d,"SID",a.K),me(d,"AID",a.T),me(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&me(d,"TO",a.ja),me(d,"TYPE","xmlhttp"),Es(a,d),a.m&&a.o&&of(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Bc(_n(d)),h.m=null,h.P=!0,cI(h,a)}n.Za=function(){this.C!=null&&(this.C=null,qc(this),af(this),st(19))};function Gc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function LI(a,d){var h=null;if(a.g==d){Gc(a),cf(a),a.g=null;var g=2}else if(nf(a.h,d))h=d.D,pI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=kc(),ot(g,new iI(g,h)),zc(a)}else OI(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&gN(a,d)||g==2&&af(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:Pr(a,5);break;case 4:Pr(a,10);break;case 3:Pr(a,6);break;default:Pr(a,2)}}}function VI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Pr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let T=!g;g=new Mr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jc(g,"https"),Bc(g),T?cN(g.toString(),h):uN(g.toString(),h)}else st(2);a.G=0,a.l&&a.l.sa(d),FI(a),MI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function FI(a){if(a.G=0,a.ka=[],a.l){let d=gI(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function jI(a,d,h){var g=h instanceof Mr?_n(h):new Mr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Uc(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var D=new Mr(null);g&&jc(D,g),d&&(D.g=d),T&&Uc(D,T),h&&(D.l=h),g=D}return h=a.D,d=a.ya,h&&d&&me(g,h,d),me(g,"VER",a.la),Es(a,g),g}function UI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ie(new ys({eb:h})):new Ie(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function BI(){}n=BI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wc(){}Wc.prototype.g=function(a,d){return new ft(a,d)};function ft(a,d){Ze.call(this),this.g=new NI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!X(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new bi(this)}S(ft,Ze),ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ft.prototype.close=function(){sf(this.g)},ft.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Wh(a),a=h);d.i.push(new ZR(d.Ya++,a)),d.G==3&&zc(d)},ft.prototype.N=function(){this.g.l=null,delete this.j,sf(this.g),delete this.g,ft.aa.N.call(this)};function HI(a){Qh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(HI,Qh);function $I(){Yh.call(this),this.status=1}S($I,Yh);function bi(a){this.g=a}S(bi,BI),bi.prototype.ua=function(){ot(this.g,"a")},bi.prototype.ta=function(a){ot(this.g,new HI(a))},bi.prototype.sa=function(a){ot(this.g,new $I)},bi.prototype.ra=function(){ot(this.g,"b")},Wc.prototype.createWebChannel=Wc.prototype.g,ft.prototype.send=ft.prototype.o,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,Hy=Hn.createWebChannelTransport=function(){return new Wc},By=Hn.getStatEventTarget=function(){return kc()},Uy=Hn.Event=Rr,Jd=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,oc=Hn.ErrorCode=Lc,oI.COMPLETE="complete",jy=Hn.EventType=oI,eI.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Ro=Hn.WebChannel=eI,JF=Hn.FetchXmlHttpFactory=ys,Ie.prototype.listenOnce=Ie.prototype.L,Ie.prototype.getLastError=Ie.prototype.Ka,Ie.prototype.getLastErrorCode=Ie.prototype.Ba,Ie.prototype.getStatus=Ie.prototype.Z,Ie.prototype.getResponseJson=Ie.prototype.Oa,Ie.prototype.getResponseText=Ie.prototype.oa,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Ha,Fy=Hn.XhrIo=Ie}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});var kD="@firebase/firestore",LD="4.9.0";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var es="12.0.0";var Ii=new vr("@firebase/firestore");function No(){return Ii.logLevel}function L(n,...e){if(Ii.logLevel<=ee.DEBUG){let t=e.map(S_);Ii.debug(`Firestore (${es}): ${n}`,...t)}}function zn(n,...e){if(Ii.logLevel<=ee.ERROR){let t=e.map(S_);Ii.error(`Firestore (${es}): ${n}`,...t)}}function Bo(n,...e){if(Ii.logLevel<=ee.WARN){let t=e.map(S_);Ii.warn(`Firestore (${es}): ${n}`,...t)}}function S_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,TA(n,r,t)}function TA(n,e,t){let r=`FIRESTORE (${es}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zn(r),new Error(r)}function _e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||TA(e,i,r)}function ce(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var rh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(He.UNAUTHENTICATED))}shutdown(){}},Yy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Jy=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new rh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new He(e)}},Zy=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Xy=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Zy(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ih=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ev=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ih(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ih(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ZF(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var fc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=ZF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function oe(n,e){return n<e?-1:n>e?1:0}function tv(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return $y(i)===$y(o)?oe(i,o):$y(i)?1:-1}return oe(n.length,e.length)}var XF=55296,ej=57343;function $y(n){let e=n.charCodeAt(0);return e>=XF&&e<=ej}function Ho(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var VD="__name__",oh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return oe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):tv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bn.fromString(e.substring(4,e.length-2))}},be=class n extends oh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},tj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends oh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return tj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VD}static keyField(){return new n([VD])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var U=class n{constructor(e){this.path=e}static fromPath(e){return new n(be.fromString(e))}static fromName(e){return new n(be.fromString(e).popFirst(5))}static empty(){return new n(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new be(e.slice()))}};function nj(n,e,t){if(!t)throw new V(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rj(n,e,t,r){if(e===!0&&r===!0)throw new V(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FD(n){if(!U.isDocumentKey(n))throw new V(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ij(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function oj(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function nv(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=oj(n);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Me(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ac(n,e){if(!ij(n))throw new V(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new V(x.INVALID_ARGUMENT,t);return!0}var jD=-62135596800,UD=1e6,ut=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*UD);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jD)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UD}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-jD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Me("string",ut._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};var J=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pc=-1,rv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};rv.UNKNOWN_ID=-1;function sj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new Ei(i,U.empty(),e)}function aj(n){return new Ei(n.readTime,n.key,pc)}var Ei=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(J.min(),U.empty(),pc)}static max(){return new n(J.max(),U.empty(),pc)}};function cj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=U.comparator(n.documentKey,e.documentKey),t!==0?t:oe(n.largestBatchId,e.largestBatchId))}var uj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",iv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Mh(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==uj)throw n;L("LocalStore","Unexpectedly lost primary lease")}var N=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function lj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ts(n){return n.name==="IndexedDbTransactionError"}var D_=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),dj=-1;function Ph(n){return n==null}function sh(n){return n===0&&1/n==-1/0}var bA="";function hj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BD(e)),e=fj(n.get(t),e);return BD(e)}function fj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case bA:t+="";break;default:t+=o}}return t}function BD(n){return n+bA+""}var pj="remoteDocuments",CA="owner";var SA="mutationQueues";var DA="mutations";var AA="documentMutations",gj="remoteDocumentsV14";var RA="remoteDocumentGlobal";var NA="targets";var MA="targetDocuments";var PA="targetGlobal",xA="collectionParents";var OA="clientMetadata";var kA="bundles";var LA="namedQueries";var mj="indexConfiguration";var yj="indexState";var vj="indexEntries";var VA="documentOverlays";var _j="globals";var Ij=[SA,DA,AA,pj,NA,CA,PA,MA,OA,RA,xA,kA,LA],eZ=[...Ij,VA],Ej=[SA,DA,AA,gj,NA,CA,PA,MA,OA,RA,xA,kA,LA,VA],wj=Ej,Tj=[...wj,mj,yj,vj];var tZ=[...Tj,_j];function HD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bj(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ce=class n{constructor(e,t){this.comparator=e,this.root=t||pn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oo(this.root,e,this.comparator,!0)}},Oo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $e=class n{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ah(this.data.getIterator())}getIteratorFrom(e){return new ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gi=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new $e(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ch=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var it=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ch("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};it.EMPTY_BYTE_STRING=new it("");var Cj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(n){if(_e(!!n,39018),typeof n=="string"){let e=0,t=Cj.exec(n);if(_e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wn(n){return typeof n=="string"?it.fromBase64String(n):it.fromUint8Array(n)}var FA="server_timestamp",jA="__type__",UA="__previous_value__",BA="__local_write_time__";function A_(n){return(n?.mapValue?.fields||{})[jA]?.stringValue===FA}function xh(n){let e=n.mapValue.fields[UA];return A_(e)?xh(e):e}function gc(n){let e=Gn(n.mapValue.fields[BA].timestampValue);return new ut(e.seconds,e.nanos)}var ov=class{constructor(e,t,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},uh="(default)",lh=class n{constructor(e,t){this.projectId=e,this.database=t||uh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var HA="__type__",$A="__max__",Zd={mapValue:{fields:{__type__:{stringValue:$A}}}},qA="__vector__",mc="value";function Sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?A_(n)?4:GA(n)?9007199254740991:zA(n)?10:11:G(28295,{value:n})}function mn(n,e){if(n===e)return!0;let t=Sr(n);if(t!==Sr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gc(n).isEqual(gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gn(i.timestampValue),c=Gn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Wn(i.bytesValue).isEqual(Wn(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ve(i.geoPointValue.latitude)===ve(o.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ve(i.integerValue)===ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ve(i.doubleValue),c=ve(o.doubleValue);return s===c?sh(s)===sh(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Ho(n.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(HD(s)!==HD(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!mn(s[u],c[u])))return!1;return!0}(n,e);default:return G(52216,{left:n})}}function yc(n,e){return(n.values||[]).find(t=>mn(t,e))!==void 0}function $o(n,e){if(n===e)return 0;let t=Sr(n),r=Sr(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=ve(o.integerValue||o.doubleValue),u=ve(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return $D(n.timestampValue,e.timestampValue);case 4:return $D(gc(n),gc(e));case 5:return tv(n.stringValue,e.stringValue);case 6:return function(o,s){let c=Wn(o),u=Wn(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=oe(c[l],u[l]);if(f!==0)return f}return oe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=oe(ve(o.latitude),ve(s.latitude));return c!==0?c:oe(ve(o.longitude),ve(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qD(n.arrayValue,e.arrayValue);case 10:return function(o,s){let c=o.fields||{},u=s.fields||{},l=c[mc]?.arrayValue,f=u[mc]?.arrayValue,p=oe(l?.values?.length||0,f?.values?.length||0);return p!==0?p:qD(l,f)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Zd.mapValue&&s===Zd.mapValue)return 0;if(o===Zd.mapValue)return 1;if(s===Zd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=tv(u[p],f[p]);if(m!==0)return m;let y=$o(c[u[p]],l[f[p]]);if(y!==0)return y}return oe(u.length,f.length)}(n.mapValue,e.mapValue);default:throw G(23264,{he:t})}}function $D(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return oe(n,e);let t=Gn(n),r=Gn(e),i=oe(t.seconds,r.seconds);return i!==0?i:oe(t.nanos,r.nanos)}function qD(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=$o(t[i],r[i]);if(o)return o}return oe(t.length,r.length)}function qo(n){return sv(n)}function sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Gn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Wn(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return U.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=sv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${sv(t.fields[s])}`;return i+"}"}(n.mapValue):G(61005,{value:n})}function th(n){switch(Sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=xh(n);return e?16+th(e):16;case 5:return 2*n.stringValue.length;case 6:return Wn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+th(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Rc(r.fields,(o,s)=>{i+=o.length+th(s)}),i}(n.mapValue);default:throw G(13486,{value:n})}}function av(n){return!!n&&"integerValue"in n}function R_(n){return!!n&&"arrayValue"in n}function zD(n){return!!n&&"nullValue"in n}function GD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qy(n){return!!n&&"mapValue"in n}function zA(n){return(n?.mapValue?.fields||{})[HA]?.stringValue===qA}function ac(n){if(n.geoPointValue)return{geoPointValue:A({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:A({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Rc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ac(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ac(n.arrayValue.values[t]);return e}return A({},n)}function GA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$A}var rZ={mapValue:{fields:{[HA]:{stringValue:qA},[mc]:{arrayValue:{}}}}};var $n=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=ac(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());qy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ac(this.value))}};var Yt=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,J.min(),J.min(),J.min(),$n.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,J.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,J.min(),J.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,J.min(),J.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zo=class{constructor(e,t){this.position=e,this.inclusive=t}};function WD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=U.comparator(U.fromName(s.referenceValue),t.key):r=$o(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mn(n.position[t],e.position[t]))return!1;return!0}var Go=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Sj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var dh=class{},ke=class n extends dh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uv(e,t,r):t==="array-contains"?new hv(e,r):t==="in"?new fv(e,r):t==="not-in"?new pv(e,r):t==="array-contains-any"?new gv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lv(e,r):new dv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&Sr(this.value)===Sr(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yn=class n extends dh{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return WA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function WA(n){return n.op==="and"}function KA(n){return Dj(n)&&WA(n)}function Dj(n){for(let e of n.filters)if(e instanceof yn)return!1;return!0}function cv(n){if(n instanceof ke)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(KA(n))return n.filters.map(e=>cv(e)).join(",");{let e=n.filters.map(t=>cv(t)).join(",");return`${n.op}(${e})`}}function QA(n,e){return n instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(n,e):n instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&QA(s,i.filters[c]),!0):!1}(n,e):void G(19439)}function YA(n){return n instanceof ke?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(n):n instanceof yn?function(t){return t.op.toString()+" {"+t.getFilters().map(YA).join(" ,")+"}"}(n):"Filter"}var uv=class extends ke{constructor(e,t,r){super(e,t,r),this.key=U.fromName(r.referenceValue)}matches(e){let t=U.comparator(e.key,this.key);return this.matchesComparison(t)}},lv=class extends ke{constructor(e,t){super(e,"in",t),this.keys=JA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},dv=class extends ke{constructor(e,t){super(e,"not-in",t),this.keys=JA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function JA(n,e){return(e.arrayValue?.values||[]).map(t=>U.fromName(t.referenceValue))}var hv=class extends ke{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return R_(t)&&yc(t.arrayValue,this.value)}},fv=class extends ke{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}},pv=class extends ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yc(this.value.arrayValue,t)}},gv=class extends ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!R_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}};var mv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Te=null}};function QD(n,e=null,t=[],r=[],i=null,o=null,s=null){return new mv(n,e,t,r,i,o,s)}function N_(n){let e=ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ph(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qo(r)).join(",")),e.Te=t}return e.Te}function M_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KD(n.startAt,e.startAt)&&KD(n.endAt,e.endAt)}function yv(n){return U.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Wo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Aj(n,e,t,r,i,o,s,c){return new Wo(n,e,t,r,i,o,s,c)}function P_(n){return new Wo(n)}function YD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Rj(n){return n.collectionGroup!==null}function cc(n){let e=ce(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new $e(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Go(o,r))}),t.has(Qt.keyField().canonicalString())||e.Ie.push(new Go(Qt.keyField(),r))}return e.Ie}function gn(n){let e=ce(n);return e.Ee||(e.Ee=Nj(e,cc(n))),e.Ee}function Nj(n,e){if(n.limitType==="F")return QD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Go(i.field,o)});let t=n.endAt?new zo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zo(n.startAt.position,n.startAt.inclusive):null;return QD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vv(n,e,t){return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Oh(n,e){return M_(gn(n),gn(e))&&n.limitType===e.limitType}function ZA(n){return`${N_(gn(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>YA(i)).join(", ")}]`),Ph(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>qo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>qo(i)).join(",")),`Target(${r})`}(gn(n))}; limitType=${n.limitType})`}function kh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):U.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of cc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=WD(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,cc(r),i)||r.endAt&&!function(s,c,u){let l=WD(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,cc(r),i))}(n,e)}function Mj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XA(n){return(e,t)=>{let r=!1;for(let i of cc(n)){let o=Pj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Pj(n,e,t){let r=n.field.isKeyField()?U.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?$o(u,l):G(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var Kn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return bj(this.inner)}size(){return this.innerSize}};var xj=new Ce(U.comparator);function Dr(){return xj}var eR=new Ce(U.comparator);function sc(...n){let e=eR;for(let t of n)e=e.insert(t.key,t);return e}function Oj(n){let e=eR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mi(){return uc()}function tR(){return uc()}function uc(){return new Kn(n=>n.toString(),(n,e)=>n.isEqual(e))}var iZ=new Ce(U.comparator),kj=new $e(U.comparator);function le(...n){let e=kj;for(let t of n)e=e.add(t);return e}var Lj=new $e(oe);function Vj(){return Lj}function Fj(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function jj(n){return{integerValue:""+n}}var Ko=class{constructor(){this._=void 0}};function Uj(n,e,t){return n instanceof vc?function(i,o){let s={fields:{[jA]:{stringValue:FA},[BA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&A_(o)&&(o=xh(o)),o&&(s.fields[UA]=o),{mapValue:s}}(t,e):n instanceof Qo?nR(n,e):n instanceof Yo?rR(n,e):function(i,o){let s=Hj(i,o),c=JD(s)+JD(i.Ae);return av(s)&&av(i.Ae)?jj(c):Fj(i.serializer,c)}(n,e)}function Bj(n,e,t){return n instanceof Qo?nR(n,e):n instanceof Yo?rR(n,e):t}function Hj(n,e){return n instanceof _c?function(r){return av(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var vc=class extends Ko{},Qo=class extends Ko{constructor(e){super(),this.elements=e}};function nR(n,e){let t=iR(e);for(let r of n.elements)t.some(i=>mn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Yo=class extends Ko{constructor(e){super(),this.elements=e}};function rR(n,e){let t=iR(e);for(let r of n.elements)t=t.filter(i=>!mn(i,r));return{arrayValue:{values:t}}}var _c=class extends Ko{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function JD(n){return ve(n.integerValue||n.doubleValue)}function iR(n){return R_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $j(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Qo&&i instanceof Qo||r instanceof Yo&&i instanceof Yo?Ho(r.elements,i.elements,mn):r instanceof _c&&i instanceof _c?mn(r.Ae,i.Ae):r instanceof vc&&i instanceof vc}(n.transform,e.transform)}var lc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ic=class{};function oR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _v(n.key,lc.none()):new Ec(n.key,n.data,lc.none());{let t=n.data,r=$n.empty(),i=new $e(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jo(n.key,r,new gi(i.toArray()),lc.none())}}function qj(n,e,t){n instanceof Ec?function(i,o,s){let c=i.value.clone(),u=XD(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Jo?function(i,o,s){if(!nh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=XD(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(sR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function dc(n,e,t,r){return n instanceof Ec?function(o,s,c,u){if(!nh(o.precondition,s))return c;let l=o.value.clone(),f=eA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Jo?function(o,s,c,u){if(!nh(o.precondition,s))return c;let l=eA(o.fieldTransforms,u,s),f=s.data;return f.setAll(sR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,c){return nh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function ZD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ho(r,i,(o,s)=>$j(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ec=class extends Ic{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jo=class extends Ic{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function sR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function XD(n,e,t){let r=new Map;_e(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,Bj(s,c,t[i]))}return r}function eA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Uj(o,s,e))}return r}var _v=class extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Iv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&qj(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=dc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=dc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=tR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=oR(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(t,r)=>ZD(t,r))&&Ho(this.baseMutations,e.baseMutations,(t,r)=>ZD(t,r))}};var Ev=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Re,ae;function aR(n){if(n===void 0)return zn("GRPC error has no .code"),x.UNKNOWN;switch(n){case Re.OK:return x.OK;case Re.CANCELLED:return x.CANCELLED;case Re.UNKNOWN:return x.UNKNOWN;case Re.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Re.INTERNAL:return x.INTERNAL;case Re.UNAVAILABLE:return x.UNAVAILABLE;case Re.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Re.NOT_FOUND:return x.NOT_FOUND;case Re.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Re.ABORTED:return x.ABORTED;case Re.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Re.DATA_LOSS:return x.DATA_LOSS;default:return G(39323,{code:n})}}(ae=Re||(Re={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";var zj=null;function Gj(){return new TextEncoder}var Wj=new Bn([4294967295,4294967295],0);function tA(n){let e=Gj().encode(n),t=new Vy;return t.update(e),new Uint8Array(t.digest())}function nA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bn([t,r],0),new Bn([i,o],0)]}var Tv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yi(`Invalid padding: ${t}`);if(r<0)throw new yi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yi(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Bn.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Bn.fromNumber(r)));return i.compare(Wj)===1&&(i=new Bn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=tA(e),[r,i]=nA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.ge===0)return;let t=tA(e),[r,i]=nA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},yi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(J.min(),i,new Ce(oe),Dr(),le())}},wc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var ko=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},fh=class{constructor(e,t){this.targetId=e,this.Ce=t}},ph=class{constructor(e,t,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},gh=class{constructor(){this.ve=0,this.Fe=rA(),this.Me=it.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),t=le(),r=le();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new wc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=rA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},bv=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=Xd(),this.He=Xd(),this.Ye=new Ce(oe)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(yv(o))if(r===0){let s=new U(o.path);this.et(t,s,Yt.newNoDocument(s,J.min()))}else _e(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let c=this.ut(e),u=c?this.ct(c,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,l)}zj?.lt(function(f,p,m,y,S){let M={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},R=p.unchangedNames;return R&&(M.bloomFilter={applied:S===0,hashCount:R?.hashCount??0,bitmapLength:R?.bits?.bitmap?.length??0,padding:R?.bits?.padding??0,mightContain:k=>y?.mightContain(k)??!1}),M}(s,e.Ce,this.Ge.ht(),c,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=Wn(r).toUint8Array()}catch(u){if(u instanceof ch)return Bo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Tv(s,i,o)}catch(u){return Bo(u instanceof yi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let c=this.ot(s);if(c){if(o.current&&yv(c.target)){let u=new U(c.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Yt.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.qe())}});let r=le();this.He.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new hh(e,t,this.Ye,this.je,r);return this.je=Dr(),this.Je=Xd(),this.He=Xd(),this.Ye=new Ce(oe),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gh,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $e(oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $e(oe),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gh),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Xd(){return new Ce(U.comparator)}function rA(){return new Ce(U.comparator)}var Kj={asc:"ASCENDING",desc:"DESCENDING"},Qj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yj={and:"AND",or:"OR"},Cv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Sv(n,e){return n.useProto3Json||Ph(e)?e:{value:e}}function Jj(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lo(n){return _e(!!n,49232),J.fromTimestamp(function(t){let r=Gn(t);return new ut(r.seconds,r.nanos)}(n))}function Xj(n,e){return Dv(n,e).canonicalString()}function Dv(n,e){let t=function(i){return new be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cR(n){let e=be.fromString(n);return _e(fR(e),10190,{key:e.toString()}),e}function zy(n,e){let t=cR(e);if(t.get(1)!==n.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new U(lR(t))}function uR(n,e){return Xj(n.databaseId,e)}function eU(n){let e=cR(n);return e.length===4?be.emptyPath():lR(e)}function iA(n){return new be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lR(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(_e(f===void 0||typeof f=="string",58123),it.fromBase64String(f||"")):(_e(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),it.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?x.UNKNOWN:aR(l.code);return new V(f,l.message||"")}(s);t=new ph(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zy(n,r.document.name),o=Lo(r.document.updateTime),s=r.document.createTime?Lo(r.document.createTime):J.min(),c=new $n({mapValue:{fields:r.document.fields}}),u=Yt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new ko(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zy(n,r.document),o=r.readTime?Lo(r.readTime):J.min(),s=Yt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new ko([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zy(n,r.document),o=r.removedTargetIds||[];t=new ko([],o,i,null)}else{if(!("filter"in e))return G(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new wv(i,o),c=r.targetId;t=new fh(c,s)}}return t}function nU(n,e){return{documents:[uR(n,e.path)]}}function rU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uR(n,i);let o=function(l){if(l.length!==0)return hR(yn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:Po(m.field),direction:sU(m.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Sv(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ft:t,parent:i}}function iU(n){let e=eU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){_e(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(p){let m=dR(p);return m instanceof yn&&KA(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(S){return new Go(xo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(t.orderBy));let c=null;t.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,Ph(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new zo(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new zo(y,m)}(t.endAt)),Aj(e,i,s,o,c,"F",u,l)}function oU(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=xo(t.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xo(t.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xo(t.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xo(t.unaryFilter.field);return ke.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}}(n):n.fieldFilter!==void 0?function(t){return ke.create(xo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yn.create(t.compositeFilter.filters.map(r=>dR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}}(t.compositeFilter.op))}(n):G(30097,{filter:n})}function sU(n){return Kj[n]}function aU(n){return Qj[n]}function cU(n){return Yj[n]}function Po(n){return{fieldPath:n.canonicalString()}}function xo(n){return Qt.fromServerFormat(n.fieldPath)}function hR(n){return n instanceof ke?function(t){if(t.op==="=="){if(GD(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(zD(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GD(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(zD(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:aU(t.op),value:t.value}}}(n):n instanceof yn?function(t){let r=t.getFilters().map(i=>hR(i));return r.length===1?r[0]:{compositeFilter:{op:cU(t.op),filters:r}}}(n):G(54877,{filter:n})}function fR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Tc=class n{constructor(e,t,r,i,o=J.min(),s=J.min(),c=it.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Av=class{constructor(e){this.yt=e}};function uU(n){let e=iU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vv(e,e.limit,"L"):e}var mh=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),sh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Gn(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Wn(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?GA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):zA(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):G(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=mc,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ve(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),U.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};mh.Kt=new mh;var Rv=class{constructor(){this.Cn=new Nv}addToCollectionParentIndex(e,t){return this.Cn.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(Ei.min())}updateCollectionGroup(e,t,r){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}},Nv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $e(be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(be.comparator)).toArray()}};var oZ=new Uint8Array(0);var oA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040,Vt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Vt.DEFAULT_COLLECTION_PERCENTILE=10,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vt.DEFAULT=new Vt(pR,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vt.DISABLED=new Vt(-1,0,0);var bc=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var sA="LruGarbageCollector",lU=1048576;function aA([n,e],[t,r]){let i=oe(n,t);return i===0?oe(e,r):i}var Mv=class{constructor(e){this.Ir=e,this.buffer=new $e(aA),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();aA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Pv=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){L(sA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ts(t)?L(sA,"Ignoring IndexedDB error during garbage collection: ",t):await Mh(t)}await this.Vr(3e5)})}},xv=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return N.resolve(D_.ce);let r=new Mv(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(oA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oA):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),No()<=ee.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function dU(n,e){return new xv(n,e)}var Ov=class{constructor(){this.changes=new Kn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?N.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var kv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Lv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&dc(r.mutation,i,gi.empty(),ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=mi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=sc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=mi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Dr(),s=uc(),c=function(){return uc()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Jo)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),dc(f.mutation,l,f.mutation.getFieldMask(),ut.now())):s.set(l.key,gi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>c.set(l,new kv(f,s.get(l)??null))),c))}recalculateAndSaveOverlays(e,t){let r=uc(),i=new Ce((s,c)=>s-c),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||gi.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||le()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=tR();f.forEach(m=>{if(!o.has(m)){let y=oR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):N.resolve(mi()),c=pc,u=o;return s.next(l=>N.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(f=>({batchId:c,changes:Oj(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=sc();return this.indexManager.getCollectionParents(e,o).next(c=>N.forEach(c,u=>{let l=function(p,m){return new Wo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Yt.newInvalidDocument(f)))});let c=sc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&dc(f.mutation,l,gi.empty(),ut.now()),kh(t,l)&&(c=c.insert(u,l))}),c})}};var Vv=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return N.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Lo(i.createTime)}}(t)),N.resolve()}getNamedQuery(e,t){return N.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:uU(i.bundledQuery),readTime:Lo(i.readTime)}}(t)),N.resolve()}};var Fv=class{constructor(){this.overlays=new Ce(U.comparator),this.qr=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){let r=mi();return N.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),N.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),N.resolve()}getOverlaysForCollection(e,t,r){let i=mi(),o=t.length+1,s=new U(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ce((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=mi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=mi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ev(t,r));let o=this.qr.get(t);o===void 0&&(o=le(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var jv=class{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,N.resolve()}};var Cc=class{constructor(){this.Qr=new $e(Ne.$r),this.Ur=new $e(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Ne(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Ne(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new U(new be([])),r=new Ne(t,e),i=new Ne(t,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new U(new be([])),r=new Ne(t,e),i=new Ne(t,e+1),o=le();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ne(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ne=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return U.comparator(e.key,t.key)||oe(e.Yr,t.Yr)}static Kr(e,t){return oe(e.Yr,t.Yr)||U.comparator(e.key,t.key)}};var Uv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $e(Ne.$r)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Iv(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Zr=this.Zr.add(new Ne(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,t){return N.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?dj:this.tr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ne(t,0),i=new Ne(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let c=this.Xr(s.Yr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(oe);return t.forEach(i=>{let o=new Ne(i,0),s=new Ne(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],c=>{r=r.add(c.Yr)})}),N.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));let s=new Ne(new U(o),0),c=new $e(oe);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Yr)),!0)},s),N.resolve(this.ti(c))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){_e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return N.forEach(t.mutations,i=>{let o=new Ne(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Ne(t,0),i=this.Zr.firstAfterOrEqual(r);return N.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Bv=class{constructor(e){this.ri=e,this.docs=function(){return new Ce(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return N.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let r=Dr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Dr(),s=t.path,c=new U(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||cj(aj(f),r)<=0||(i.has(f.key)||kh(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}ii(e,t){return N.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Hv(this)}getSize(e){return N.resolve(this.size)}},Hv=class extends Ov{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),N.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var $v=class{constructor(e){this.persistence=e,this.si=new Kn(t=>N_(t),M_),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new Cc,this.targetCount=0,this.ai=bc.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),N.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.Pr(t),N.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return N.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),N.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),N.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return N.resolve(r)}containsKey(e,t){return N.resolve(this._i.containsKey(t))}};var yh=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new D_(0),this.li=!1,this.li=!0,this.hi=new jv,this.referenceDelegate=e(this),this.Pi=new $v(this),this.indexManager=new Rv,this.remoteDocumentCache=function(i){return new Bv(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Av(t),this.Ii=new Vv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Uv(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new qv(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return N.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},qv=class extends iv{constructor(e){super(),this.currentSequenceNumber=e}},zv=class n{constructor(e){this.persistence=e,this.Ri=new Cc,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw G(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),N.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),N.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.fi,r=>{let i=U.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,J.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return N.or([()=>N.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},vh=class n{constructor(e,t){this.persistence=e,this.pi=new Kn(r=>hj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=dU(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return N.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return N.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?N.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(c=>{c||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),N.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),N.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),N.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),N.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=th(e.data.value)),t}br(e,t,r){return N.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return N.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Gv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Wv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Kv=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return IS()?8:lj(Be())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Wv;return this.Ss(e,t,s).next(c=>{if(o.result=c,this.Vs)return this.bs(e,t,s,c.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(No()<=ee.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),N.resolve()):(No()<=ee.DEBUG&&L("QueryEngine","Query:",Mo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(No()<=ee.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(t))):N.resolve())}ys(e,t){if(YD(t))return N.resolve(null);let r=gn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=vv(t,null,"F"),r=gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.ps.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(t,c);return this.Cs(t,l,s,u.readTime)?this.ys(e,vv(t,null,"F")):this.vs(e,l,t,u)}))})))}ws(e,t,r,i){return YD(t)||i.isEqual(J.min())?N.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(t,o);return this.Cs(t,s,r,i)?N.resolve(null):(No()<=ee.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mo(t)),this.vs(e,s,t,sj(i,pc)).next(c=>c))})}Ds(e,t){let r=new $e(XA(e));return t.forEach((i,o)=>{kh(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return No()<=ee.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ei.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var x_="LocalStore",hU=3e8,Qv=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ce(oe),this.xs=new Kn(o=>N_(o),M_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lv(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function fU(n,e,t,r){return new Qv(n,e,t,r)}async function gR(n,e){let t=ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=le();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:c}))})})}function mR(n){let e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function pU(n,e){let t=ce(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.Pi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(it.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(M,R,k){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=hU?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,f)&&c.push(t.Pi.updateTargetData(o,y))});let u=Dr(),l=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(gU(o,s,e.documentUpdates).next(f=>{u=f.ks,l=f.qs})),!r.isEqual(J.min())){let f=t.Pi.getLastRemoteSnapshotVersion(o).next(p=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return N.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ms=i,o))}function gU(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Dr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(x_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function mU(n,e){let t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):t.Pi.allocateTargetId(r).next(s=>(i=new Tc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Yv(n,e,t){let r=ce(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ts(s))throw s;L(x_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cA(n,e,t){let r=ce(n),i=J.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=ce(u),m=p.xs.get(f);return m!==void 0?N.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,f)}(r,s,gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:J.min(),t?o:le())).next(c=>(yU(r,Mj(e),c),{documents:c,Qs:o})))}function yU(n,e,t){let r=n.Os.get(e)||J.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}var _h=class{constructor(){this.activeTargetIds=Vj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Jv=class{constructor(){this.Mo=new _h,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _h,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Zv=class{Oo(e){}shutdown(){}};var uA="ConnectivityMonitor",Ih=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){L(uA,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){L(uA,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var eh=null;function Xv(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}var Gy="RestConnection",vU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},e_=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){let s=Xv(),c=this.zo(e,t.toUriEncodedString());L(Gy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(c),f=yr(l);return this.Jo(e,c,u,r,f).then(p=>(L(Gy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Bo(Gy,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(e,t,r,i,o,s){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+es}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){let r=vU[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var t_=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var rt="WebChannelConnection",n_=class extends e_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=Xv();return new Promise((c,u)=>{let l=new Fy;l.setWithCredentials(!0),l.listenOnce(jy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case oc.NO_ERROR:let p=l.getResponseJson();L(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case oc.TIMEOUT:L(rt,`RPC '${e}' ${s} timed out`),u(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:let m=l.getStatus();if(L(rt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=function(k){let X=k.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(X)>=0?X:x.UNKNOWN}(S.status);u(new V(M,S.message))}else u(new V(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(x.UNAVAILABLE,"Connection failed."));break;default:G(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{L(rt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);L(rt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}T_(e,t,r){let i=Xv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hy(),c=By(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(rt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.I_(p);let m=!1,y=!1,S=new t_({Yo:R=>{y?L(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(rt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Zo:()=>p.close()}),M=(R,k,X)=>{R.listen(k,re=>{try{X(re)}catch(qe){setTimeout(()=>{throw qe},0)}})};return M(p,Ro.EventType.OPEN,()=>{y||(L(rt,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),M(p,Ro.EventType.CLOSE,()=>{y||(y=!0,L(rt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))}),M(p,Ro.EventType.ERROR,R=>{y||(y=!0,Bo(rt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new V(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ro.EventType.MESSAGE,R=>{if(!y){let k=R.data[0];_e(!!k,16349);let X=k,re=X?.error||X[0]?.error;if(re){L(rt,`RPC '${e}' stream ${i} received error:`,re);let qe=re.status,Jt=function(v){let I=Re[v];if(I!==void 0)return aR(I)}(qe),Ye=re.message;Jt===void 0&&(Jt=x.INTERNAL,Ye="Unknown error status: "+qe+" with message "+re.message),y=!0,S.a_(new V(Jt,Ye)),p.close()}else L(rt,`RPC '${e}' stream ${i} received:`,k),S.u_(k)}}),M(c,Uy.STAT_EVENT,R=>{R.stat===Jd.PROXY?L(rt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Jd.NOPROXY&&L(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function Wy(){return typeof document<"u"?document:null}function yR(n){return new Cv(n,!0)}var Eh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var lA="PersistentStream",r_=class{constructor(e,t,r,i,o,s,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Eh(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(zn(t.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return L(lA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(L(lA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},i_=class extends r_{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=tU(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Lo(s.readTime):J.min()}(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=iA(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=yv(u)?{documents:nU(o,u)}:{query:rU(o,u).ft},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=Zj(o,s.resumeToken);let l=Sv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){c.readTime=Jj(o,s.snapshotVersion.toTimestamp());let l=Sv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=oU(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=iA(this.serializer),t.removeTarget=e,this.q_(t)}};var o_=class{},s_=class extends o_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,Dv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Ho(e,Dv(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(x.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},a_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zn(t),this.aa=!1):L("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Zo="RemoteStore",c_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Mc(this)&&(L(Zo,"Restarting streams for network reachability change."),await async function(u){let l=ce(u);l.Ea.add(4),await Nc(l),l.Ra.set("Unknown"),l.Ea.delete(4),await Lh(l)}(this))})}),this.Ra=new a_(r,i)}};async function Lh(n){if(Mc(n))for(let e of n.da)await e(!0)}async function Nc(n){for(let e of n.da)await e(!1)}function vR(n,e){let t=ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),V_(t)?L_(t):ns(t).O_()&&k_(t,e))}function O_(n,e){let t=ce(n),r=ns(t);t.Ia.delete(e),r.O_()&&_R(t,e),t.Ia.size===0&&(r.O_()?r.L_():Mc(t)&&t.Ra.set("Unknown"))}function k_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ns(n).Y_(e)}function _R(n,e){n.Va.Ue(e),ns(n).Z_(e)}function L_(n){n.Va=new bv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ns(n).start(),n.Ra.ua()}function V_(n){return Mc(n)&&!ns(n).x_()&&n.Ia.size>0}function Mc(n){return ce(n).Ea.size===0}function IR(n){n.Va=void 0}async function _U(n){n.Ra.set("Online")}async function IU(n){n.Ia.forEach((e,t)=>{k_(n,e)})}async function EU(n,e){IR(n),V_(n)?(n.Ra.ha(e),L_(n)):n.Ra.set("Unknown")}async function wU(n,e,t){if(n.Ra.set("Online"),e instanceof ph&&e.state===2&&e.cause)try{await async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ia.delete(c),i.Va.removeTarget(c))}(n,e)}catch(r){L(Zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dA(n,r)}else if(e instanceof ko?n.Va.Ze(e):e instanceof fh?n.Va.st(e):n.Va.tt(e),!t.isEqual(J.min()))try{let r=await mR(n.localStore);t.compareTo(r)>=0&&await function(o,s){let c=o.Va.Tt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(it.EMPTY_BYTE_STRING,f.snapshotVersion)),_R(o,u);let p=new Tc(f.target,u,l,f.sequenceNumber);k_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){L(Zo,"Failed to raise snapshot:",r),await dA(n,r)}}async function dA(n,e,t){if(!ts(e))throw e;n.Ea.add(1),await Nc(n),n.Ra.set("Offline"),t||(t=()=>mR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{L(Zo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Lh(n)})}async function hA(n,e){let t=ce(n);t.asyncQueue.verifyOperationInProgress(),L(Zo,"RemoteStore received new credentials");let r=Mc(t);t.Ea.add(3),await Nc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lh(t)}async function TU(n,e){let t=ce(n);e?(t.Ea.delete(2),await Lh(t)):e||(t.Ea.add(2),await Nc(t),t.Ra.set("Unknown"))}function ns(n){return n.ma||(n.ma=function(t,r,i){let o=ce(t);return o.sa(),new i_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Xo:_U.bind(null,n),t_:IU.bind(null,n),r_:EU.bind(null,n),H_:wU.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),V_(n)?L_(n):n.Ra.set("Unknown")):(await n.ma.stop(),IR(n))})),n.ma}var u_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ER(n,e){if(zn("AsyncQueue",`${e}: ${n}`),ts(n))return new V(x.UNAVAILABLE,`${e}: ${n}`);throw n}var wh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||U.comparator(t.key,r.key):(t,r)=>U.comparator(t.key,r.key),this.keyedMap=sc(),this.sortedSet=new Ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Th=class{constructor(){this.ga=new Ce(U.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):G(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Xo=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,wh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var l_=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},d_=class{constructor(){this.queries=fA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ce(t),o=i.queries;i.queries=fA(),o.forEach((s,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new V(x.ABORTED,"Firestore shutting down"))}};function fA(){return new Kn(n=>ZA(n),Oh)}async function bU(n,e){let t=ce(n),r=3,i=e.query,o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new l_,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let c=ER(s,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&F_(t)}async function CU(n,e){let t=ce(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function SU(n,e){let t=ce(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.Sa)c.Fa(i)&&(r=!0);s.wa=i}}r&&F_(t)}function DU(n,e,t){let r=ce(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function F_(n){n.Ca.forEach(e=>{e.next()})}var h_,pA;(pA=h_||(h_={})).Ma="default",pA.Cache="cache";var f_=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==h_.Cache}};var bh=class{constructor(e){this.key=e}},Ch=class{constructor(e){this.key=e}},p_=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=XA(e),this.tu=new wh(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new Th,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=kh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),R=!0):this.su(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>function(y,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Rt:R})}};return M(y)-M(S)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let c=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new Xo(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Th,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new Ch(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new bh(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=le();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},j_="SyncEngine",g_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},m_=class{constructor(e){this.key=e,this.hu=!1}},y_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Kn(c=>ZA(c),Oh),this.Iu=new Map,this.Eu=new Set,this.du=new Ce(U.comparator),this.Au=new Map,this.Ru=new Cc,this.Vu={},this.mu=new Map,this.fu=bc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function AU(n,e,t=!0){let r=SR(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await wR(r,e,t,!0),i}async function RU(n,e){let t=SR(n);await wR(t,e,!0,!1)}async function wR(n,e,t,r){let i=await mU(n.localStore,gn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=await NU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&vR(n.remoteStore,i),c}async function NU(n,e,t,r,i){n.pu=(p,m,y)=>async function(M,R,k,X){let re=R.view.ru(k);re.Cs&&(re=await cA(M.localStore,R.query,!1).then(({documents:b})=>R.view.ru(b,re)));let qe=X&&X.targetChanges.get(R.targetId),Jt=X&&X.targetMismatches.get(R.targetId)!=null,Ye=R.view.applyChanges(re,M.isPrimaryClient,qe,Jt);return mA(M,R.targetId,Ye.au),Ye.snapshot}(n,p,m,y);let o=await cA(n.localStore,e,!0),s=new p_(e,o.Qs),c=s.ru(o.documents),u=wc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);mA(n,t,l.au);let f=new g_(e,t,s);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot}async function MU(n,e,t){let r=ce(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Oh(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&O_(r.remoteStore,i.targetId),v_(r,i.targetId)}).catch(Mh)):(v_(r,i.targetId),await Yv(r.localStore,i.targetId,!0))}async function PU(n,e){let t=ce(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),O_(t.remoteStore,r.targetId))}async function TR(n,e){let t=ce(n);try{let r=await pU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?_e(s.hu,14607):i.removedDocuments.size>0&&(_e(s.hu,42227),s.hu=!1))}),await CR(t,r,e)}catch(r){await Mh(r)}}function gA(n,e,t){let r=ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=ce(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.Sa)m.va(c)&&(l=!0)}),l&&F_(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xU(n,e,t){let r=ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Ce(U.comparator);s=s.insert(o,Yt.newNoDocument(o,J.min()));let c=le().add(o),u=new hh(J.min(),new Map,new Ce(oe),s,c);await TR(r,u),r.du=r.du.remove(o),r.Au.delete(e),U_(r)}else await Yv(r.localStore,e,!1).then(()=>v_(r,e,t)).catch(Mh)}function v_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||bR(n,r)})}function bR(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(O_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),U_(n))}function mA(n,e,t){for(let r of t)r instanceof bh?(n.Ru.addReference(r.key,e),OU(n,r)):r instanceof Ch?(L(j_,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||bR(n,r.key)):G(19791,{wu:r})}function OU(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(L(j_,"New document in limbo: "+t),n.Eu.add(r),U_(n))}function U_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new U(be.fromString(e)),r=n.fu.next();n.Au.set(r,new m_(t)),n.du=n.du.insert(t,r),vR(n.remoteStore,new Tc(gn(P_(t.path)),r,"TargetPurposeLimboResolution",D_.ce))}}async function CR(n,e,t){let r=ce(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Gv.As(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(u,l){let f=ce(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>N.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ts(p))throw p;L(x_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Ms.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(m,M)}}}(r.localStore,o))}async function kU(n,e){let t=ce(n);if(!t.currentUser.isEqual(e)){L(j_,"User change. New user:",e.toKey());let r=await gR(t.localStore,e);t.currentUser=e,function(o,s){o.mu.forEach(c=>{c.forEach(u=>{u.reject(new V(x.CANCELLED,s))})}),o.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await CR(t,r.Ls)}}function LU(n,e){let t=ce(n),r=t.Au.get(e);if(r&&r.hu)return le().add(r.key);{let i=le(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let c=t.Tu.get(s);i=i.unionWith(c.view.nu)}return i}}function SR(n){let e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xU.bind(null,e),e.Pu.H_=SU.bind(null,e.eventManager),e.Pu.yu=DU.bind(null,e.eventManager),e}var DR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yR(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return fU(this.persistence,new Kv,t.initialUser,this.serializer)}Cu(t){return new yh(zv.mi,this.serializer)}Du(t){return new Jv}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),__=class extends DR{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_e(this.persistence.referenceDelegate instanceof vh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Pv(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?Vt.withCacheSize(this.cacheSizeBytes):Vt.DEFAULT;return new yh(r=>vh.mi(r,t),this.serializer)}};var VU=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kU.bind(null,this.syncEngine),await TU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new d_}()}createDatastore(t){let r=yR(t.databaseInfo.databaseId),i=function(s){return new n_(s)}(t.databaseInfo);return function(s,c,u,l){return new s_(s,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new c_(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>gA(this.syncEngine,r,0),function(){return Ih.v()?new Ih:new Zv}())}createSyncEngine(t,r){return function(o,s,c,u,l,f,p){let m=new y_(o,s,c,u,l,f);return p&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await async function(r){let i=ce(r);L(Zo,"RemoteStore shutting down."),i.Ea.add(5),await Nc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var I_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ar="FirestoreClient",E_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=fc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{L(Ar,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L(Ar,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ER(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Ky(n,e){n.asyncQueue.verifyOperationInProgress(),L(Ar,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await FU(n);L(Ar,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hA(e.remoteStore,i)),n._onlineComponents=e}async function FU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(Ar,"Using user provided OfflineComponentProvider");try{await Ky(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),await Ky(n,new DR)}}else L(Ar,"Using default OfflineComponentProvider"),await Ky(n,new __(void 0));return n._offlineComponents}async function jU(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(Ar,"Using user provided OnlineComponentProvider"),await yA(n,n._uninitializedComponentsProvider._online)):(L(Ar,"Using default OnlineComponentProvider"),await yA(n,new VU))),n._onlineComponents}async function UU(n){let e=await jU(n),t=e.eventManager;return t.onListen=AU.bind(null,e.syncEngine),t.onUnlisten=MU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PU.bind(null,e.syncEngine),t}function BU(n,e,t={}){let r=new qn;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,c,u,l){let f=new I_({next:m=>{f.Nu(),s.enqueueAndForget(()=>CU(o,p));let y=m.docs.has(c);!y&&m.fromCache?l.reject(new V(x.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new V(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new f_(P_(c.path),f,{includeMetadataChanges:!0,qa:!0});return bU(o,p)}(await UU(n),n.asyncQueue,e,t,r)),r.promise}function AR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var vA=new Map;var RR="firestore.googleapis.com",_A=!0,Sh=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=_A}else this.host=e.host,this.ssl=e.ssl??_A;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lU)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Sc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qy;switch(r.type){case"firstParty":return new Xy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=vA.get(t);r&&(L("ComponentProvider","Removing Datastore"),vA.delete(t),r.terminate())}(this),Promise.resolve()}};function HU(n,e,t,r={}){n=nv(n,Sc);let i=yr(e),o=n._getSettings(),s=B(A({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;i&&(Cd(`https://${c}`),Sd("Firestore",!0)),o.host!==RR&&o.host!==c&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=B(A({},o),{host:c,ssl:i,emulatorOptions:r});if(!ln(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=He.MOCK_USER;else{l=pS(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new He(p)}n._authCredentials=new Yy(new rh(l,f))}}var w_=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ac(t,n._jsonSchema))return new n(e,r||null,new U(be.fromString(t.referencePath)))}};Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Me("string",Ft._jsonSchemaVersion),referencePath:Me("string")};var Dc=class n extends w_{constructor(e,t,r){super(e,t,P_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new U(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function NR(n,e,...t){if(n=Wt(n),arguments.length===1&&(e=fc.newId()),nj("doc","path",e),n instanceof Sc){let r=be.fromString(e,...t);return FD(r),new Ft(n,null,new U(r))}{if(!(n instanceof Ft||n instanceof Dc))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(be.fromString(e,...t));return FD(r),new Ft(n.firestore,n instanceof Dc?n.converter:null,new U(r))}}var IA="AsyncQueue",Dh=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Eh(this,"async_queue_retry"),this._c=()=>{let r=Wy();r&&L(IA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=Wy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Wy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new qn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ts(e))throw e;L(IA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,zn("INTERNAL UNHANDLED ERROR: ",EA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=u_.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&G(47125,{Pc:EA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function EA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Ah=class extends Sc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Dh(e),this._firestoreClient=void 0,await e}}};function MR(n,e){let t=typeof n=="object"?n:Nd(),r=typeof n=="string"?n:e||uh,i=Ka(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=fS("firestore");o&&HU(i,...o)}return i}function $U(n){if(n._terminated)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qU(n),n._firestoreClient}function qU(n){let e=n._freezeSettings(),t=function(i,o,s,c){return new ov(i,o,s,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AR(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new E_(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}}(n._componentsProvider))}var Vo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(it.fromBase64String(e))}catch(t){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Vo._jsonSchemaVersion="firestore/bytes/1.0",Vo._jsonSchema={type:Me("string",Vo._jsonSchemaVersion),bytes:Me("string")};var Rh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Fo._jsonSchemaVersion="firestore/geoPoint/1.0",Fo._jsonSchema={type:Me("string",Fo._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};var jo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};jo._jsonSchemaVersion="firestore/vectorValue/1.0",jo._jsonSchema={type:Me("string",jo._jsonSchemaVersion),vectorValues:Me("object")};var zU=new RegExp("[~\\*/\\[\\]]");function GU(n,e,t){if(e.search(zU)>=0)throw wA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rh(...e.split("."))._internalPath}catch{throw wA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wA(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(x.INVALID_ARGUMENT,c+n+u)}var Nh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new T_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(PR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},T_=class extends Nh{data(){return super.data()}};function PR(n,e){return typeof e=="string"?GU(n,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}var b_=class{convertValue(e,t="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Rc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[mc].arrayValue?.values?.map(r=>ve(r.doubleValue));return new jo(t)}convertGeoPoint(e){return new Fo(ve(e.latitude),ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=xh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let t=Gn(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=be.fromString(e);_e(fR(r),9688,{name:e});let i=new lh(r.get(1),r.get(3)),o=new U(r.popFirst(5));return i.isEqual(t)||zn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var vi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_i=class n extends Nh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(PR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};_i._jsonSchemaVersion="firestore/documentSnapshot/1.0",_i._jsonSchema={type:Me("string",_i._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};var Uo=class extends _i{data(e={}){return super.data(e)}},hc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Uo(this._firestore,this._userDataWriter,r.key,r,new vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Uo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Uo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:WU(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function WU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}function xR(n){n=nv(n,Ft);let e=nv(n.firestore,Ah);return BU($U(e),n._key).then(t=>KU(e,n,t))}hc._jsonSchemaVersion="firestore/querySnapshot/1.0",hc._jsonSchema={type:Me("string",hc._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};var C_=class extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function KU(n,e,t){let r=t.docs.get(e._key),i=new C_(n);return new _i(n,i,e._key,r,new vi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){es=i})(Er),Ir(new Lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ah(new Jy(r.getProvider("auth-internal")),new ev(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(l.options.projectId,f)}(s,i),s);return o=A({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Kt(kD,LD,e),Kt(kD,LD,"esm2020")})();var QU={apiKey:"AIzaSyBHoXHWqQok9WDrHTiGFLoHtUGAU6e6gSc",authDomain:"mutter-7f726.firebaseapp.com",projectId:"mutter-7f726",storageBucket:"mutter-7f726.firebasestorage.app",messagingSenderId:"380389097164",appId:"1:380389097164:web:910553448fc761f3814c69"},OR=Qa(QU),YU=ic(OR),JU=MR(OR);async function kR(){if(!YU.currentUser)return console.log("Not logged in"),null;let t=NR(JU,"test","test"),r=await xR(t);return r.exists()?r.data():(console.log("Failed to get document"),null)}function ZU(n,e){if(n&1&&(xt(0,"li")(1,"p"),hr(2),Ot()()),n&2){let t=e.$implicit;ri(2),Ml("",t.author.displayName," ",t.sent," ",t.content)}}var XU={apiKey:"AIzaSyBHoXHWqQok9WDrHTiGFLoHtUGAU6e6gSc",authDomain:"mutter-7f726.firebaseapp.com",projectId:"mutter-7f726",storageBucket:"mutter-7f726.firebasestorage.app",messagingSenderId:"380389097164",appId:"1:380389097164:web:910553448fc761f3814c69"},e2=Qa(XU),B_=ic(e2),t2=new Py,Vh=class n{current_user_name=Mt("");current_user=null;message_to_send="";messages=Mt([]);display_data=Mt("");constructor(){xy(B_,e=>{e?(this.current_user=e,this.current_user_name.set(e.displayName??e.uid)):(this.current_user=null,this.current_user_name.set("")),this.backgroundRefresh()})}async backgroundRefresh(){if(this.current_user){var e=await kR();e&&(console.log("Got data",e),this.display_data.set(JSON.stringify(e)))}}async sendMessage(){if(this.current_user){var e=new H_(this.current_user,Date.now(),this.message_to_send);this.messages.update(t=>[...t,e]),this.message_to_send=""}}async signIn(){this.current_user||await Ly(B_,t2)}signOut(){Oy(B_)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=sa({type:n,selectors:[["app-root"]],decls:18,vars:3,consts:[[1,"main"],[1,"content"],[3,"click"],["type","text","name","message_to_send",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(xt(0,"main",0)(1,"div",1)(2,"button",2),xn("click",function(){return r.signIn()}),hr(3,"Sign In"),Ot(),xt(4,"button",2),xn("click",function(){return r.signOut()}),hr(5,"Sign Out"),Ot(),xt(6,"p"),hr(7),Ot(),xt(8,"p"),hr(9),Ot(),xt(10,"form")(11,"input",3),xl("ngModelChange",function(o){return $g(r.message_to_send,o)||(r.message_to_send=o),o}),Ot(),xt(12,"button",2),xn("click",function(){return r.sendMessage()}),hr(13,">"),Ot()(),xt(14,"ul"),Bg(15,ZU,3,3,"li",null,Ug),Ot()()(),ao(17,"router-outlet")),t&2&&(ri(7),la("Signed in as ",r.current_user_name()),ri(2),Nl(r.display_data()),ri(2),Pl("ngModel",r.message_to_send),ri(4),Hg(r.messages()))},dependencies:[ka,sS,oS,Id,ZC,XC,Um,jm],encapsulation:2})},H_=class{author;sent;content;constructor(e,t,r){this.author=e,this.sent=t,this.content=r}};am(Vh,kC).catch(n=>console.error(n));
